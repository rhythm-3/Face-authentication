(function(){"use strict";function wm(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ri(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var h1={exports:{}},m1={exports:{}},hf={exports:{}};hf.exports;var dk;function U8(){return dk||(dk=1,function(t,e){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.2.0",r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),x=Symbol.iterator,E="@@iterator";function T(P){if(P===null||typeof P!="object")return null;var te=x&&P[x]||P[E];return typeof te=="function"?te:null}var C={current:null},I={transition:null},D={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},F={current:null},B={},H=null;function z(P){H=P}B.setExtraStackFrame=function(P){H=P},B.getCurrentStack=null,B.getStackAddendum=function(){var P="";H&&(P+=H);var te=B.getCurrentStack;return te&&(P+=te()||""),P};var U=!1,O=!1,K=!1,G=!1,Z=!1,J={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:I,ReactCurrentOwner:F};J.ReactDebugCurrentFrame=B,J.ReactCurrentActQueue=D;function se(P){{for(var te=arguments.length,Se=new Array(te>1?te-1:0),S=1;S<te;S++)Se[S-1]=arguments[S];le("warn",P,Se)}}function oe(P){{for(var te=arguments.length,Se=new Array(te>1?te-1:0),S=1;S<te;S++)Se[S-1]=arguments[S];le("error",P,Se)}}function le(P,te,Se){{var S=J.ReactDebugCurrentFrame,R=S.getStackAddendum();R!==""&&(te+="%s",Se=Se.concat([R]));var M=Se.map(function(L){return String(L)});M.unshift("Warning: "+te),Function.prototype.apply.call(console[P],console,M)}}var pe={};function ye(P,te){{var Se=P.constructor,S=Se&&(Se.displayName||Se.name)||"ReactClass",R=S+"."+te;if(pe[R])return;oe("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",te,S),pe[R]=!0}}var ve={isMounted:function(P){return!1},enqueueForceUpdate:function(P,te,Se){ye(P,"forceUpdate")},enqueueReplaceState:function(P,te,Se,S){ye(P,"replaceState")},enqueueSetState:function(P,te,Se,S){ye(P,"setState")}},Ee=Object.assign,_e={};Object.freeze(_e);function Ie(P,te,Se){this.props=P,this.context=te,this.refs=_e,this.updater=Se||ve}Ie.prototype.isReactComponent={},Ie.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},Ie.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};{var De={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},ze=function(P,te){Object.defineProperty(Ie.prototype,P,{get:function(){se("%s(...) is deprecated in plain JavaScript React classes. %s",te[0],te[1])}})};for(var Ve in De)De.hasOwnProperty(Ve)&&ze(Ve,De[Ve])}function Le(){}Le.prototype=Ie.prototype;function je(P,te,Se){this.props=P,this.context=te,this.refs=_e,this.updater=Se||ve}var Ue=je.prototype=new Le;Ue.constructor=je,Ee(Ue,Ie.prototype),Ue.isPureReactComponent=!0;function Ze(){var P={current:null};return Object.seal(P),P}var it=Array.isArray;function Je(P){return it(P)}function bt(P){{var te=typeof Symbol=="function"&&Symbol.toStringTag,Se=te&&P[Symbol.toStringTag]||P.constructor.name||"Object";return Se}}function pt(P){try{return et(P),!1}catch{return!0}}function et(P){return""+P}function Lt(P){if(pt(P))return oe("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",bt(P)),et(P)}function Ht(P,te,Se){var S=P.displayName;if(S)return S;var R=te.displayName||te.name||"";return R!==""?Se+"("+R+")":Se}function Gt(P){return P.displayName||"Context"}function Vt(P){if(P==null)return null;if(typeof P.tag=="number"&&oe("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P;switch(P){case o:return"Fragment";case a:return"Portal";case l:return"Profiler";case i:return"StrictMode";case h:return"Suspense";case g:return"SuspenseList"}if(typeof P=="object")switch(P.$$typeof){case f:var te=P;return Gt(te)+".Consumer";case d:var Se=P;return Gt(Se._context)+".Provider";case c:return Ht(P,P.render,"ForwardRef");case v:var S=P.displayName||null;return S!==null?S:Vt(P.type)||"Memo";case b:{var R=P,M=R._payload,L=R._init;try{return Vt(L(M))}catch{return null}}}return null}var En=Object.prototype.hasOwnProperty,tn={key:!0,ref:!0,__self:!0,__source:!0},mn,Hn,Sn;Sn={};function Dn(P){if(En.call(P,"ref")){var te=Object.getOwnPropertyDescriptor(P,"ref").get;if(te&&te.isReactWarning)return!1}return P.ref!==void 0}function Cn(P){if(En.call(P,"key")){var te=Object.getOwnPropertyDescriptor(P,"key").get;if(te&&te.isReactWarning)return!1}return P.key!==void 0}function or(P,te){var Se=function(){mn||(mn=!0,oe("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",te))};Se.isReactWarning=!0,Object.defineProperty(P,"key",{get:Se,configurable:!0})}function ur(P,te){var Se=function(){Hn||(Hn=!0,oe("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",te))};Se.isReactWarning=!0,Object.defineProperty(P,"ref",{get:Se,configurable:!0})}function We(P){if(typeof P.ref=="string"&&F.current&&P.__self&&F.current.stateNode!==P.__self){var te=Vt(F.current.type);Sn[te]||(oe('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',te,P.ref),Sn[te]=!0)}}var at=function(P,te,Se,S,R,M,L){var Y={$$typeof:r,type:P,key:te,ref:Se,props:L,_owner:M};return Y._store={},Object.defineProperty(Y._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Y,"_self",{configurable:!1,enumerable:!1,writable:!1,value:S}),Object.defineProperty(Y,"_source",{configurable:!1,enumerable:!1,writable:!1,value:R}),Object.freeze&&(Object.freeze(Y.props),Object.freeze(Y)),Y};function $t(P,te,Se){var S,R={},M=null,L=null,Y=null,re=null;if(te!=null){Dn(te)&&(L=te.ref,We(te)),Cn(te)&&(Lt(te.key),M=""+te.key),Y=te.__self===void 0?null:te.__self,re=te.__source===void 0?null:te.__source;for(S in te)En.call(te,S)&&!tn.hasOwnProperty(S)&&(R[S]=te[S])}var Q=arguments.length-2;if(Q===1)R.children=Se;else if(Q>1){for(var fe=Array(Q),ge=0;ge<Q;ge++)fe[ge]=arguments[ge+2];Object.freeze&&Object.freeze(fe),R.children=fe}if(P&&P.defaultProps){var Re=P.defaultProps;for(S in Re)R[S]===void 0&&(R[S]=Re[S])}if(M||L){var qe=typeof P=="function"?P.displayName||P.name||"Unknown":P;M&&or(R,qe),L&&ur(R,qe)}return at(P,M,L,Y,re,F.current,R)}function Kt(P,te){var Se=at(P.type,te,P.ref,P._self,P._source,P._owner,P.props);return Se}function rn(P,te,Se){if(P==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var S,R=Ee({},P.props),M=P.key,L=P.ref,Y=P._self,re=P._source,Q=P._owner;if(te!=null){Dn(te)&&(L=te.ref,Q=F.current),Cn(te)&&(Lt(te.key),M=""+te.key);var fe;P.type&&P.type.defaultProps&&(fe=P.type.defaultProps);for(S in te)En.call(te,S)&&!tn.hasOwnProperty(S)&&(te[S]===void 0&&fe!==void 0?R[S]=fe[S]:R[S]=te[S])}var ge=arguments.length-2;if(ge===1)R.children=Se;else if(ge>1){for(var Re=Array(ge),qe=0;qe<ge;qe++)Re[qe]=arguments[qe+2];R.children=Re}return at(P.type,M,L,Y,re,Q,R)}function Bt(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}var Ln=".",br=":";function kn(P){var te=/[=:]/g,Se={"=":"=0",":":"=2"},S=P.replace(te,function(R){return Se[R]});return"$"+S}var In=!1,an=/\/+/g;function ha(P){return P.replace(an,"$&/")}function er(P,te){return typeof P=="object"&&P!==null&&P.key!=null?(Lt(P.key),kn(""+P.key)):te.toString(36)}function on(P,te,Se,S,R){var M=typeof P;(M==="undefined"||M==="boolean")&&(P=null);var L=!1;if(P===null)L=!0;else switch(M){case"string":case"number":L=!0;break;case"object":switch(P.$$typeof){case r:case a:L=!0}}if(L){var Y=P,re=R(Y),Q=S===""?Ln+er(Y,0):S;if(Je(re)){var fe="";Q!=null&&(fe=ha(Q)+"/"),on(re,te,fe,"",function(qa){return qa})}else re!=null&&(Bt(re)&&(re.key&&(!Y||Y.key!==re.key)&&Lt(re.key),re=Kt(re,Se+(re.key&&(!Y||Y.key!==re.key)?ha(""+re.key)+"/":"")+Q)),te.push(re));return 1}var ge,Re,qe=0,ft=S===""?Ln:S+br;if(Je(P))for(var Rt=0;Rt<P.length;Rt++)ge=P[Rt],Re=ft+er(ge,Rt),qe+=on(ge,te,Se,Re,R);else{var vt=T(P);if(typeof vt=="function"){var Ot=P;vt===Ot.entries&&(In||se("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),In=!0);for(var un=vt.call(Ot),Un,qn=0;!(Un=un.next()).done;)ge=Un.value,Re=ft+er(ge,qn++),qe+=on(ge,te,Se,Re,R)}else if(M==="object"){var Dr=String(P);throw new Error("Objects are not valid as a React child (found: "+(Dr==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Dr)+"). If you meant to render a collection of children, use an array instead.")}}return qe}function Jr(P,te,Se){if(P==null)return P;var S=[],R=0;return on(P,S,"","",function(M){return te.call(Se,M,R++)}),S}function Rr(P){var te=0;return Jr(P,function(){te++}),te}function xe(P,te,Se){Jr(P,function(){te.apply(this,arguments)},Se)}function Pe(P){return Jr(P,function(te){return te})||[]}function gt(P){if(!Bt(P))throw new Error("React.Children.only expected to receive a single React element child.");return P}function Ge(P){var te={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};te.Provider={$$typeof:d,_context:te};var Se=!1,S=!1,R=!1;{var M={$$typeof:f,_context:te};Object.defineProperties(M,{Provider:{get:function(){return S||(S=!0,oe("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),te.Provider},set:function(L){te.Provider=L}},_currentValue:{get:function(){return te._currentValue},set:function(L){te._currentValue=L}},_currentValue2:{get:function(){return te._currentValue2},set:function(L){te._currentValue2=L}},_threadCount:{get:function(){return te._threadCount},set:function(L){te._threadCount=L}},Consumer:{get:function(){return Se||(Se=!0,oe("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),te.Consumer}},displayName:{get:function(){return te.displayName},set:function(L){R||(se("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",L),R=!0)}}}),te.Consumer=M}return te._currentRenderer=null,te._currentRenderer2=null,te}var nn=-1,Yt=0,Tt=1,Et=2;function zn(P){if(P._status===nn){var te=P._result,Se=te();if(Se.then(function(M){if(P._status===Yt||P._status===nn){var L=P;L._status=Tt,L._result=M}},function(M){if(P._status===Yt||P._status===nn){var L=P;L._status=Et,L._result=M}}),P._status===nn){var S=P;S._status=Yt,S._result=Se}}if(P._status===Tt){var R=P._result;return R===void 0&&oe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,R),"default"in R||oe(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,R),R.default}else throw P._result}function Er(P){var te={_status:nn,_result:P},Se={$$typeof:b,_payload:te,_init:zn};{var S,R;Object.defineProperties(Se,{defaultProps:{configurable:!0,get:function(){return S},set:function(M){oe("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),S=M,Object.defineProperty(Se,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return R},set:function(M){oe("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),R=M,Object.defineProperty(Se,"propTypes",{enumerable:!0})}}})}return Se}function ee(P){P!=null&&P.$$typeof===v?oe("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof P!="function"?oe("forwardRef requires a render function but was given %s.",P===null?"null":typeof P):P.length!==0&&P.length!==2&&oe("forwardRef render functions accept exactly two parameters: props and ref. %s",P.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),P!=null&&(P.defaultProps!=null||P.propTypes!=null)&&oe("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var te={$$typeof:c,render:P};{var Se;Object.defineProperty(te,"displayName",{enumerable:!1,configurable:!0,get:function(){return Se},set:function(S){Se=S,!P.name&&!P.displayName&&(P.displayName=S)}})}return te}var Me;Me=Symbol.for("react.module.reference");function He(P){return!!(typeof P=="string"||typeof P=="function"||P===o||P===l||Z||P===i||P===h||P===g||G||P===w||U||O||K||typeof P=="object"&&P!==null&&(P.$$typeof===b||P.$$typeof===v||P.$$typeof===d||P.$$typeof===f||P.$$typeof===c||P.$$typeof===Me||P.getModuleId!==void 0))}function St(P,te){He(P)||oe("memo: The first argument must be a component. Instead received: %s",P===null?"null":typeof P);var Se={$$typeof:v,type:P,compare:te===void 0?null:te};{var S;Object.defineProperty(Se,"displayName",{enumerable:!1,configurable:!0,get:function(){return S},set:function(R){S=R,!P.name&&!P.displayName&&(P.displayName=R)}})}return Se}function ot(){var P=C.current;return P===null&&oe(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),P}function Ft(P){var te=ot();if(P._context!==void 0){var Se=P._context;Se.Consumer===P?oe("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Se.Provider===P&&oe("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return te.useContext(P)}function _t(P){var te=ot();return te.useState(P)}function Wt(P,te,Se){var S=ot();return S.useReducer(P,te,Se)}function hr(P){var te=ot();return te.useRef(P)}function Wn(P,te){var Se=ot();return Se.useEffect(P,te)}function Qn(P,te){var Se=ot();return Se.useInsertionEffect(P,te)}function Cr(P,te){var Se=ot();return Se.useLayoutEffect(P,te)}function ea(P,te){var Se=ot();return Se.useCallback(P,te)}function ls(P,te){var Se=ot();return Se.useMemo(P,te)}function ma(P,te,Se){var S=ot();return S.useImperativeHandle(P,te,Se)}function xo(P,te){{var Se=ot();return Se.useDebugValue(P,te)}}function Xt(){var P=ot();return P.useTransition()}function Lo(P){var te=ot();return te.useDeferredValue(P)}function Zu(){var P=ot();return P.useId()}function Ki(P,te,Se){var S=ot();return S.useSyncExternalStore(P,te,Se)}var Bo=0,Eo,Ms,Yi,Xi,fi,Qi,$s;function cs(){}cs.__reactDisabledLog=!0;function Fs(){{if(Bo===0){Eo=console.log,Ms=console.info,Yi=console.warn,Xi=console.error,fi=console.group,Qi=console.groupCollapsed,$s=console.groupEnd;var P={configurable:!0,enumerable:!0,value:cs,writable:!0};Object.defineProperties(console,{info:P,log:P,warn:P,error:P,group:P,groupCollapsed:P,groupEnd:P})}Bo++}}function ga(){{if(Bo--,Bo===0){var P={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Ee({},P,{value:Eo}),info:Ee({},P,{value:Ms}),warn:Ee({},P,{value:Yi}),error:Ee({},P,{value:Xi}),group:Ee({},P,{value:fi}),groupCollapsed:Ee({},P,{value:Qi}),groupEnd:Ee({},P,{value:$s})})}Bo<0&&oe("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ar=J.ReactCurrentDispatcher,zo;function pi(P,te,Se){{if(zo===void 0)try{throw Error()}catch(R){var S=R.stack.trim().match(/\n( *(at )?)/);zo=S&&S[1]||""}return`
`+zo+P}}var ds=!1,Ps;{var qr=typeof WeakMap=="function"?WeakMap:Map;Ps=new qr}function hi(P,te){if(!P||ds)return"";{var Se=Ps.get(P);if(Se!==void 0)return Se}var S;ds=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var M;M=Ar.current,Ar.current=null,Fs();try{if(te){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(ft){S=ft}Reflect.construct(P,[],L)}else{try{L.call()}catch(ft){S=ft}P.call(L.prototype)}}else{try{throw Error()}catch(ft){S=ft}P()}}catch(ft){if(ft&&S&&typeof ft.stack=="string"){for(var Y=ft.stack.split(`
`),re=S.stack.split(`
`),Q=Y.length-1,fe=re.length-1;Q>=1&&fe>=0&&Y[Q]!==re[fe];)fe--;for(;Q>=1&&fe>=0;Q--,fe--)if(Y[Q]!==re[fe]){if(Q!==1||fe!==1)do if(Q--,fe--,fe<0||Y[Q]!==re[fe]){var ge=`
`+Y[Q].replace(" at new "," at ");return P.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",P.displayName)),typeof P=="function"&&Ps.set(P,ge),ge}while(Q>=1&&fe>=0);break}}}finally{ds=!1,Ar.current=M,ga(),Error.prepareStackTrace=R}var Re=P?P.displayName||P.name:"",qe=Re?pi(Re):"";return typeof P=="function"&&Ps.set(P,qe),qe}function ja(P,te,Se){return hi(P,!1)}function Zi(P){var te=P.prototype;return!!(te&&te.isReactComponent)}function Co(P,te,Se){if(P==null)return"";if(typeof P=="function")return hi(P,Zi(P));if(typeof P=="string")return pi(P);switch(P){case h:return pi("Suspense");case g:return pi("SuspenseList")}if(typeof P=="object")switch(P.$$typeof){case c:return ja(P.render);case v:return Co(P.type,te,Se);case b:{var S=P,R=S._payload,M=S._init;try{return Co(M(R),te,Se)}catch{}}}return""}var Ji={},Ls=J.ReactDebugCurrentFrame;function sn(P){if(P){var te=P._owner,Se=Co(P.type,P._source,te?te.type:null);Ls.setExtraStackFrame(Se)}else Ls.setExtraStackFrame(null)}function eu(P,te,Se,S,R){{var M=Function.call.bind(En);for(var L in P)if(M(P,L)){var Y=void 0;try{if(typeof P[L]!="function"){var re=Error((S||"React class")+": "+Se+" type `"+L+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof P[L]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw re.name="Invariant Violation",re}Y=P[L](te,L,S,Se,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Q){Y=Q}Y&&!(Y instanceof Error)&&(sn(R),oe("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",S||"React class",Se,L,typeof Y),sn(null)),Y instanceof Error&&!(Y.message in Ji)&&(Ji[Y.message]=!0,sn(R),oe("Failed %s type: %s",Se,Y.message),sn(null))}}}function Ha(P){if(P){var te=P._owner,Se=Co(P.type,P._source,te?te.type:null);z(Se)}else z(null)}var At;At=!1;function fs(){if(F.current){var P=Vt(F.current.type);if(P)return`

Check the render method of \``+P+"`."}return""}function Sr(P){if(P!==void 0){var te=P.fileName.replace(/^.*[\\\/]/,""),Se=P.lineNumber;return`

Check your code at `+te+":"+Se+"."}return""}function Uo(P){return P!=null?Sr(P.__source):""}var Wa={};function Bs(P){var te=fs();if(!te){var Se=typeof P=="string"?P:P.displayName||P.name;Se&&(te=`

Check the top-level render call using <`+Se+">.")}return te}function Tr(P,te){if(!(!P._store||P._store.validated||P.key!=null)){P._store.validated=!0;var Se=Bs(te);if(!Wa[Se]){Wa[Se]=!0;var S="";P&&P._owner&&P._owner!==F.current&&(S=" It was passed a child from "+Vt(P._owner.type)+"."),Ha(P),oe('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Se,S),Ha(null)}}}function X(P,te){if(typeof P=="object"){if(Je(P))for(var Se=0;Se<P.length;Se++){var S=P[Se];Bt(S)&&Tr(S,te)}else if(Bt(P))P._store&&(P._store.validated=!0);else if(P){var R=T(P);if(typeof R=="function"&&R!==P.entries)for(var M=R.call(P),L;!(L=M.next()).done;)Bt(L.value)&&Tr(L.value,te)}}}function de(P){{var te=P.type;if(te==null||typeof te=="string")return;var Se;if(typeof te=="function")Se=te.propTypes;else if(typeof te=="object"&&(te.$$typeof===c||te.$$typeof===v))Se=te.propTypes;else return;if(Se){var S=Vt(te);eu(Se,P.props,"prop",S,P)}else if(te.PropTypes!==void 0&&!At){At=!0;var R=Vt(te);oe("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",R||"Unknown")}typeof te.getDefaultProps=="function"&&!te.getDefaultProps.isReactClassApproved&&oe("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $e(P){{for(var te=Object.keys(P.props),Se=0;Se<te.length;Se++){var S=te[Se];if(S!=="children"&&S!=="key"){Ha(P),oe("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",S),Ha(null);break}}P.ref!==null&&(Ha(P),oe("Invalid attribute `ref` supplied to `React.Fragment`."),Ha(null))}}function ct(P,te,Se){var S=He(P);if(!S){var R="";(P===void 0||typeof P=="object"&&P!==null&&Object.keys(P).length===0)&&(R+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var M=Uo(te);M?R+=M:R+=fs();var L;P===null?L="null":Je(P)?L="array":P!==void 0&&P.$$typeof===r?(L="<"+(Vt(P.type)||"Unknown")+" />",R=" Did you accidentally export a JSX literal instead of a component?"):L=typeof P,oe("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",L,R)}var Y=$t.apply(this,arguments);if(Y==null)return Y;if(S)for(var re=2;re<arguments.length;re++)X(arguments[re],P);return P===o?$e(Y):de(Y),Y}var xt=!1;function Pt(P){var te=ct.bind(null,P);return te.type=P,xt||(xt=!0,se("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(te,"type",{enumerable:!1,get:function(){return se("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:P}),P}}),te}function Qe(P,te,Se){for(var S=rn.apply(this,arguments),R=2;R<arguments.length;R++)X(arguments[R],S.type);return de(S),S}function dt(P,te){var Se=I.transition;I.transition={};var S=I.transition;I.transition._updatedFibers=new Set;try{P()}finally{if(I.transition=Se,Se===null&&S._updatedFibers){var R=S._updatedFibers.size;R>10&&se("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),S._updatedFibers.clear()}}}var On=!1,Nr=null;function uo(P){if(Nr===null)try{var te=("require"+Math.random()).slice(0,7),Se=t&&t[te];Nr=Se.call(t,"timers").setImmediate}catch{Nr=function(R){On===!1&&(On=!0,typeof MessageChannel>"u"&&oe("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var M=new MessageChannel;M.port1.onmessage=R,M.port2.postMessage(void 0)}}return Nr(P)}var Vo=0,jo=!1;function tu(P){{var te=Vo;Vo++,D.current===null&&(D.current=[]);var Se=D.isBatchingLegacy,S;try{if(D.isBatchingLegacy=!0,S=P(),!Se&&D.didScheduleLegacyUpdate){var R=D.current;R!==null&&(D.didScheduleLegacyUpdate=!1,Ju(R))}}catch(Re){throw lr(te),Re}finally{D.isBatchingLegacy=Se}if(S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=S,L=!1,Y={then:function(Re,qe){L=!0,M.then(function(ft){lr(te),Vo===0?lo(ft,Re,qe):Re(ft)},function(ft){lr(te),qe(ft)})}};return!jo&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){L||(jo=!0,oe("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Y}else{var re=S;if(lr(te),Vo===0){var Q=D.current;Q!==null&&(Ju(Q),D.current=null);var fe={then:function(Re,qe){D.current===null?(D.current=[],lo(re,Re,qe)):Re(re)}};return fe}else{var ge={then:function(Re,qe){Re(re)}};return ge}}}}function lr(P){P!==Vo-1&&oe("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Vo=P}function lo(P,te,Se){{var S=D.current;if(S!==null)try{Ju(S),uo(function(){S.length===0?(D.current=null,te(P)):lo(P,te,Se)})}catch(R){Se(R)}else te(P)}}var Ho=!1;function Ju(P){if(!Ho){Ho=!0;var te=0;try{for(;te<P.length;te++){var Se=P[te];do Se=Se(!0);while(Se!==null)}P.length=0}catch(S){throw P=P.slice(te+1),S}finally{Ho=!1}}}var gd=ct,vd=Qe,mi=Pt,yd={map:Jr,forEach:xe,count:Rr,toArray:Pe,only:gt};e.Children=yd,e.Component=Ie,e.Fragment=o,e.Profiler=l,e.PureComponent=je,e.StrictMode=i,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,e.cloneElement=vd,e.createContext=Ge,e.createElement=gd,e.createFactory=mi,e.createRef=Ze,e.forwardRef=ee,e.isValidElement=Bt,e.lazy=Er,e.memo=St,e.startTransition=dt,e.unstable_act=tu,e.useCallback=ea,e.useContext=Ft,e.useDebugValue=xo,e.useDeferredValue=Lo,e.useEffect=Wn,e.useId=Zu,e.useImperativeHandle=ma,e.useInsertionEffect=Qn,e.useLayoutEffect=Cr,e.useMemo=ls,e.useReducer=Wt,e.useRef=hr,e.useState=_t,e.useSyncExternalStore=Ki,e.useTransition=Xt,e.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(hf,hf.exports)),hf.exports}var fk;function mf(){return fk||(fk=1,m1.exports=U8()),m1.exports}var gf={},pk;function V8(){if(pk)return gf;pk=1;/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){var t=mf(),e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b=Symbol.iterator,w="@@iterator";function x(ee){if(ee===null||typeof ee!="object")return null;var Me=b&&ee[b]||ee[w];return typeof Me=="function"?Me:null}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function T(ee){{for(var Me=arguments.length,He=new Array(Me>1?Me-1:0),St=1;St<Me;St++)He[St-1]=arguments[St];C("error",ee,He)}}function C(ee,Me,He){{var St=E.ReactDebugCurrentFrame,ot=St.getStackAddendum();ot!==""&&(Me+="%s",He=He.concat([ot]));var Ft=He.map(function(_t){return String(_t)});Ft.unshift("Warning: "+Me),Function.prototype.apply.call(console[ee],console,Ft)}}var I=!1,D=!1,F=!1,B=!1,H=!1,z;z=Symbol.for("react.module.reference");function U(ee){return!!(typeof ee=="string"||typeof ee=="function"||ee===r||ee===o||H||ee===a||ee===f||ee===c||B||ee===v||I||D||F||typeof ee=="object"&&ee!==null&&(ee.$$typeof===g||ee.$$typeof===h||ee.$$typeof===i||ee.$$typeof===l||ee.$$typeof===d||ee.$$typeof===z||ee.getModuleId!==void 0))}function O(ee,Me,He){var St=ee.displayName;if(St)return St;var ot=Me.displayName||Me.name||"";return ot!==""?He+"("+ot+")":He}function K(ee){return ee.displayName||"Context"}function G(ee){if(ee==null)return null;if(typeof ee.tag=="number"&&T("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee;switch(ee){case r:return"Fragment";case n:return"Portal";case o:return"Profiler";case a:return"StrictMode";case f:return"Suspense";case c:return"SuspenseList"}if(typeof ee=="object")switch(ee.$$typeof){case l:var Me=ee;return K(Me)+".Consumer";case i:var He=ee;return K(He._context)+".Provider";case d:return O(ee,ee.render,"ForwardRef");case h:var St=ee.displayName||null;return St!==null?St:G(ee.type)||"Memo";case g:{var ot=ee,Ft=ot._payload,_t=ot._init;try{return G(_t(Ft))}catch{return null}}}return null}var Z=Object.assign,J=0,se,oe,le,pe,ye,ve,Ee;function _e(){}_e.__reactDisabledLog=!0;function Ie(){{if(J===0){se=console.log,oe=console.info,le=console.warn,pe=console.error,ye=console.group,ve=console.groupCollapsed,Ee=console.groupEnd;var ee={configurable:!0,enumerable:!0,value:_e,writable:!0};Object.defineProperties(console,{info:ee,log:ee,warn:ee,error:ee,group:ee,groupCollapsed:ee,groupEnd:ee})}J++}}function De(){{if(J--,J===0){var ee={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Z({},ee,{value:se}),info:Z({},ee,{value:oe}),warn:Z({},ee,{value:le}),error:Z({},ee,{value:pe}),group:Z({},ee,{value:ye}),groupCollapsed:Z({},ee,{value:ve}),groupEnd:Z({},ee,{value:Ee})})}J<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ze=E.ReactCurrentDispatcher,Ve;function Le(ee,Me,He){{if(Ve===void 0)try{throw Error()}catch(ot){var St=ot.stack.trim().match(/\n( *(at )?)/);Ve=St&&St[1]||""}return`
`+Ve+ee}}var je=!1,Ue;{var Ze=typeof WeakMap=="function"?WeakMap:Map;Ue=new Ze}function it(ee,Me){if(!ee||je)return"";{var He=Ue.get(ee);if(He!==void 0)return He}var St;je=!0;var ot=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ft;Ft=ze.current,ze.current=null,Ie();try{if(Me){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ma){St=ma}Reflect.construct(ee,[],_t)}else{try{_t.call()}catch(ma){St=ma}ee.call(_t.prototype)}}else{try{throw Error()}catch(ma){St=ma}ee()}}catch(ma){if(ma&&St&&typeof ma.stack=="string"){for(var Wt=ma.stack.split(`
`),hr=St.stack.split(`
`),Wn=Wt.length-1,Qn=hr.length-1;Wn>=1&&Qn>=0&&Wt[Wn]!==hr[Qn];)Qn--;for(;Wn>=1&&Qn>=0;Wn--,Qn--)if(Wt[Wn]!==hr[Qn]){if(Wn!==1||Qn!==1)do if(Wn--,Qn--,Qn<0||Wt[Wn]!==hr[Qn]){var Cr=`
`+Wt[Wn].replace(" at new "," at ");return ee.displayName&&Cr.includes("<anonymous>")&&(Cr=Cr.replace("<anonymous>",ee.displayName)),typeof ee=="function"&&Ue.set(ee,Cr),Cr}while(Wn>=1&&Qn>=0);break}}}finally{je=!1,ze.current=Ft,De(),Error.prepareStackTrace=ot}var ea=ee?ee.displayName||ee.name:"",ls=ea?Le(ea):"";return typeof ee=="function"&&Ue.set(ee,ls),ls}function Je(ee,Me,He){return it(ee,!1)}function bt(ee){var Me=ee.prototype;return!!(Me&&Me.isReactComponent)}function pt(ee,Me,He){if(ee==null)return"";if(typeof ee=="function")return it(ee,bt(ee));if(typeof ee=="string")return Le(ee);switch(ee){case f:return Le("Suspense");case c:return Le("SuspenseList")}if(typeof ee=="object")switch(ee.$$typeof){case d:return Je(ee.render);case h:return pt(ee.type,Me,He);case g:{var St=ee,ot=St._payload,Ft=St._init;try{return pt(Ft(ot),Me,He)}catch{}}}return""}var et=Object.prototype.hasOwnProperty,Lt={},Ht=E.ReactDebugCurrentFrame;function Gt(ee){if(ee){var Me=ee._owner,He=pt(ee.type,ee._source,Me?Me.type:null);Ht.setExtraStackFrame(He)}else Ht.setExtraStackFrame(null)}function Vt(ee,Me,He,St,ot){{var Ft=Function.call.bind(et);for(var _t in ee)if(Ft(ee,_t)){var Wt=void 0;try{if(typeof ee[_t]!="function"){var hr=Error((St||"React class")+": "+He+" type `"+_t+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ee[_t]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw hr.name="Invariant Violation",hr}Wt=ee[_t](Me,_t,St,He,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Wn){Wt=Wn}Wt&&!(Wt instanceof Error)&&(Gt(ot),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",St||"React class",He,_t,typeof Wt),Gt(null)),Wt instanceof Error&&!(Wt.message in Lt)&&(Lt[Wt.message]=!0,Gt(ot),T("Failed %s type: %s",He,Wt.message),Gt(null))}}}var En=Array.isArray;function tn(ee){return En(ee)}function mn(ee){{var Me=typeof Symbol=="function"&&Symbol.toStringTag,He=Me&&ee[Symbol.toStringTag]||ee.constructor.name||"Object";return He}}function Hn(ee){try{return Sn(ee),!1}catch{return!0}}function Sn(ee){return""+ee}function Dn(ee){if(Hn(ee))return T("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",mn(ee)),Sn(ee)}var Cn=E.ReactCurrentOwner,or={key:!0,ref:!0,__self:!0,__source:!0},ur,We;function at(ee){if(et.call(ee,"ref")){var Me=Object.getOwnPropertyDescriptor(ee,"ref").get;if(Me&&Me.isReactWarning)return!1}return ee.ref!==void 0}function $t(ee){if(et.call(ee,"key")){var Me=Object.getOwnPropertyDescriptor(ee,"key").get;if(Me&&Me.isReactWarning)return!1}return ee.key!==void 0}function Kt(ee,Me){typeof ee.ref=="string"&&Cn.current}function rn(ee,Me){{var He=function(){ur||(ur=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Me))};He.isReactWarning=!0,Object.defineProperty(ee,"key",{get:He,configurable:!0})}}function Bt(ee,Me){{var He=function(){We||(We=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Me))};He.isReactWarning=!0,Object.defineProperty(ee,"ref",{get:He,configurable:!0})}}var Ln=function(ee,Me,He,St,ot,Ft,_t){var Wt={$$typeof:e,type:ee,key:Me,ref:He,props:_t,_owner:Ft};return Wt._store={},Object.defineProperty(Wt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Wt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:St}),Object.defineProperty(Wt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ot}),Object.freeze&&(Object.freeze(Wt.props),Object.freeze(Wt)),Wt};function br(ee,Me,He,St,ot){{var Ft,_t={},Wt=null,hr=null;He!==void 0&&(Dn(He),Wt=""+He),$t(Me)&&(Dn(Me.key),Wt=""+Me.key),at(Me)&&(hr=Me.ref,Kt(Me,ot));for(Ft in Me)et.call(Me,Ft)&&!or.hasOwnProperty(Ft)&&(_t[Ft]=Me[Ft]);if(ee&&ee.defaultProps){var Wn=ee.defaultProps;for(Ft in Wn)_t[Ft]===void 0&&(_t[Ft]=Wn[Ft])}if(Wt||hr){var Qn=typeof ee=="function"?ee.displayName||ee.name||"Unknown":ee;Wt&&rn(_t,Qn),hr&&Bt(_t,Qn)}return Ln(ee,Wt,hr,ot,St,Cn.current,_t)}}var kn=E.ReactCurrentOwner,In=E.ReactDebugCurrentFrame;function an(ee){if(ee){var Me=ee._owner,He=pt(ee.type,ee._source,Me?Me.type:null);In.setExtraStackFrame(He)}else In.setExtraStackFrame(null)}var ha;ha=!1;function er(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function on(){{if(kn.current){var ee=G(kn.current.type);if(ee)return`

Check the render method of \``+ee+"`."}return""}}function Jr(ee){return""}var Rr={};function xe(ee){{var Me=on();if(!Me){var He=typeof ee=="string"?ee:ee.displayName||ee.name;He&&(Me=`

Check the top-level render call using <`+He+">.")}return Me}}function Pe(ee,Me){{if(!ee._store||ee._store.validated||ee.key!=null)return;ee._store.validated=!0;var He=xe(Me);if(Rr[He])return;Rr[He]=!0;var St="";ee&&ee._owner&&ee._owner!==kn.current&&(St=" It was passed a child from "+G(ee._owner.type)+"."),an(ee),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',He,St),an(null)}}function gt(ee,Me){{if(typeof ee!="object")return;if(tn(ee))for(var He=0;He<ee.length;He++){var St=ee[He];er(St)&&Pe(St,Me)}else if(er(ee))ee._store&&(ee._store.validated=!0);else if(ee){var ot=x(ee);if(typeof ot=="function"&&ot!==ee.entries)for(var Ft=ot.call(ee),_t;!(_t=Ft.next()).done;)er(_t.value)&&Pe(_t.value,Me)}}}function Ge(ee){{var Me=ee.type;if(Me==null||typeof Me=="string")return;var He;if(typeof Me=="function")He=Me.propTypes;else if(typeof Me=="object"&&(Me.$$typeof===d||Me.$$typeof===h))He=Me.propTypes;else return;if(He){var St=G(Me);Vt(He,ee.props,"prop",St,ee)}else if(Me.PropTypes!==void 0&&!ha){ha=!0;var ot=G(Me);T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ot||"Unknown")}typeof Me.getDefaultProps=="function"&&!Me.getDefaultProps.isReactClassApproved&&T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function nn(ee){{for(var Me=Object.keys(ee.props),He=0;He<Me.length;He++){var St=Me[He];if(St!=="children"&&St!=="key"){an(ee),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",St),an(null);break}}ee.ref!==null&&(an(ee),T("Invalid attribute `ref` supplied to `React.Fragment`."),an(null))}}function Yt(ee,Me,He,St,ot,Ft){{var _t=U(ee);if(!_t){var Wt="";(ee===void 0||typeof ee=="object"&&ee!==null&&Object.keys(ee).length===0)&&(Wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var hr=Jr();hr?Wt+=hr:Wt+=on();var Wn;ee===null?Wn="null":tn(ee)?Wn="array":ee!==void 0&&ee.$$typeof===e?(Wn="<"+(G(ee.type)||"Unknown")+" />",Wt=" Did you accidentally export a JSX literal instead of a component?"):Wn=typeof ee,T("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Wn,Wt)}var Qn=br(ee,Me,He,ot,Ft);if(Qn==null)return Qn;if(_t){var Cr=Me.children;if(Cr!==void 0)if(St)if(tn(Cr)){for(var ea=0;ea<Cr.length;ea++)gt(Cr[ea],ee);Object.freeze&&Object.freeze(Cr)}else T("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else gt(Cr,ee)}return ee===r?nn(Qn):Ge(Qn),Qn}}function Tt(ee,Me,He){return Yt(ee,Me,He,!0)}function Et(ee,Me,He){return Yt(ee,Me,He,!1)}var zn=Et,Er=Tt;gf.Fragment=r,gf.jsx=zn,gf.jsxs=Er}(),gf}var hk;function j8(){return hk||(hk=1,h1.exports=V8()),h1.exports}var wr=j8(),ce=mf();const nt=Eu(ce),H8=wm({__proto__:null,default:nt},[ce]);var _m={},g1={exports:{}},v1={exports:{}},y1={},mk;function W8(){return mk||(mk=1,function(t){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,n=5;function r(We,at){var $t=We.length;We.push(at),i(We,at,$t)}function a(We){return We.length===0?null:We[0]}function o(We){if(We.length===0)return null;var at=We[0],$t=We.pop();return $t!==at&&(We[0]=$t,l(We,$t,0)),at}function i(We,at,$t){for(var Kt=$t;Kt>0;){var rn=Kt-1>>>1,Bt=We[rn];if(d(Bt,at)>0)We[rn]=at,We[Kt]=Bt,Kt=rn;else return}}function l(We,at,$t){for(var Kt=$t,rn=We.length,Bt=rn>>>1;Kt<Bt;){var Ln=(Kt+1)*2-1,br=We[Ln],kn=Ln+1,In=We[kn];if(d(br,at)<0)kn<rn&&d(In,br)<0?(We[Kt]=In,We[kn]=at,Kt=kn):(We[Kt]=br,We[Ln]=at,Kt=Ln);else if(kn<rn&&d(In,at)<0)We[Kt]=In,We[kn]=at,Kt=kn;else return}}function d(We,at){var $t=We.sortIndex-at.sortIndex;return $t!==0?$t:We.id-at.id}var f=1,c=2,h=3,g=4,v=5;function b(We,at){}var w=typeof performance=="object"&&typeof performance.now=="function";if(w){var x=performance;t.unstable_now=function(){return x.now()}}else{var E=Date,T=E.now();t.unstable_now=function(){return E.now()-T}}var C=1073741823,I=-1,D=250,F=5e3,B=1e4,H=C,z=[],U=[],O=1,K=null,G=h,Z=!1,J=!1,se=!1,oe=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(We){for(var at=a(U);at!==null;){if(at.callback===null)o(U);else if(at.startTime<=We)o(U),at.sortIndex=at.expirationTime,r(z,at);else return;at=a(U)}}function ve(We){if(se=!1,ye(We),!J)if(a(z)!==null)J=!0,Sn(Ee);else{var at=a(U);at!==null&&Dn(ve,at.startTime-We)}}function Ee(We,at){J=!1,se&&(se=!1,Cn()),Z=!0;var $t=G;try{var Kt;if(!e)return _e(We,at)}finally{K=null,G=$t,Z=!1}}function _e(We,at){var $t=at;for(ye($t),K=a(z);K!==null&&!(K.expirationTime>$t&&(!We||Ht()));){var Kt=K.callback;if(typeof Kt=="function"){K.callback=null,G=K.priorityLevel;var rn=K.expirationTime<=$t,Bt=Kt(rn);$t=t.unstable_now(),typeof Bt=="function"?K.callback=Bt:K===a(z)&&o(z),ye($t)}else o(z);K=a(z)}if(K!==null)return!0;var Ln=a(U);return Ln!==null&&Dn(ve,Ln.startTime-$t),!1}function Ie(We,at){switch(We){case f:case c:case h:case g:case v:break;default:We=h}var $t=G;G=We;try{return at()}finally{G=$t}}function De(We){var at;switch(G){case f:case c:case h:at=h;break;default:at=G;break}var $t=G;G=at;try{return We()}finally{G=$t}}function ze(We){var at=G;return function(){var $t=G;G=at;try{return We.apply(this,arguments)}finally{G=$t}}}function Ve(We,at,$t){var Kt=t.unstable_now(),rn;if(typeof $t=="object"&&$t!==null){var Bt=$t.delay;typeof Bt=="number"&&Bt>0?rn=Kt+Bt:rn=Kt}else rn=Kt;var Ln;switch(We){case f:Ln=I;break;case c:Ln=D;break;case v:Ln=H;break;case g:Ln=B;break;case h:default:Ln=F;break}var br=rn+Ln,kn={id:O++,callback:at,priorityLevel:We,startTime:rn,expirationTime:br,sortIndex:-1};return rn>Kt?(kn.sortIndex=rn,r(U,kn),a(z)===null&&kn===a(U)&&(se?Cn():se=!0,Dn(ve,rn-Kt))):(kn.sortIndex=br,r(z,kn),!J&&!Z&&(J=!0,Sn(Ee))),kn}function Le(){}function je(){!J&&!Z&&(J=!0,Sn(Ee))}function Ue(){return a(z)}function Ze(We){We.callback=null}function it(){return G}var Je=!1,bt=null,pt=-1,et=n,Lt=-1;function Ht(){var We=t.unstable_now()-Lt;return!(We<et)}function Gt(){}function Vt(We){if(We<0||We>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}We>0?et=Math.floor(1e3/We):et=n}var En=function(){if(bt!==null){var We=t.unstable_now();Lt=We;var at=!0,$t=!0;try{$t=bt(at,We)}finally{$t?tn():(Je=!1,bt=null)}}else Je=!1},tn;if(typeof pe=="function")tn=function(){pe(En)};else if(typeof MessageChannel<"u"){var mn=new MessageChannel,Hn=mn.port2;mn.port1.onmessage=En,tn=function(){Hn.postMessage(null)}}else tn=function(){oe(En,0)};function Sn(We){bt=We,Je||(Je=!0,tn())}function Dn(We,at){pt=oe(function(){We(t.unstable_now())},at)}function Cn(){le(pt),pt=-1}var or=Gt,ur=null;t.unstable_IdlePriority=v,t.unstable_ImmediatePriority=f,t.unstable_LowPriority=g,t.unstable_NormalPriority=h,t.unstable_Profiling=ur,t.unstable_UserBlockingPriority=c,t.unstable_cancelCallback=Ze,t.unstable_continueExecution=je,t.unstable_forceFrameRate=Vt,t.unstable_getCurrentPriorityLevel=it,t.unstable_getFirstCallbackNode=Ue,t.unstable_next=De,t.unstable_pauseExecution=Le,t.unstable_requestPaint=or,t.unstable_runWithPriority=Ie,t.unstable_scheduleCallback=Ve,t.unstable_shouldYield=Ht,t.unstable_wrapCallback=ze,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(y1)),y1}var gk;function q8(){return gk||(gk=1,v1.exports=W8()),v1.exports}var yo={},vk;function G8(){if(vk)return yo;vk=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=mf(),e=q8(),n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=!1;function a(s){r=s}function o(s){if(!r){for(var u=arguments.length,p=new Array(u>1?u-1:0),m=1;m<u;m++)p[m-1]=arguments[m];l("warn",s,p)}}function i(s){if(!r){for(var u=arguments.length,p=new Array(u>1?u-1:0),m=1;m<u;m++)p[m-1]=arguments[m];l("error",s,p)}}function l(s,u,p){{var m=n.ReactDebugCurrentFrame,y=m.getStackAddendum();y!==""&&(u+="%s",p=p.concat([y]));var _=p.map(function(k){return String(k)});_.unshift("Warning: "+u),Function.prototype.apply.call(console[s],console,_)}}var d=0,f=1,c=2,h=3,g=4,v=5,b=6,w=7,x=8,E=9,T=10,C=11,I=12,D=13,F=14,B=15,H=16,z=17,U=18,O=19,K=21,G=22,Z=23,J=24,se=25,oe=!0,le=!1,pe=!1,ye=!1,ve=!1,Ee=!1,_e=!0,Ie=!0,De=!0,ze=new Set,Ve={},Le={};function je(s,u){Ue(s,u),Ue(s+"Capture",u)}function Ue(s,u){Ve[s]&&i("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",s),Ve[s]=u;{var p=s.toLowerCase();Le[p]=s,s==="onDoubleClick"&&(Le.ondblclick=s)}for(var m=0;m<u.length;m++)ze.add(u[m])}var Ze=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",it=Object.prototype.hasOwnProperty;function Je(s){{var u=typeof Symbol=="function"&&Symbol.toStringTag,p=u&&s[Symbol.toStringTag]||s.constructor.name||"Object";return p}}function bt(s){try{return pt(s),!1}catch{return!0}}function pt(s){return""+s}function et(s,u){if(bt(s))return i("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Je(s)),pt(s)}function Lt(s){if(bt(s))return i("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Je(s)),pt(s)}function Ht(s,u){if(bt(s))return i("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Je(s)),pt(s)}function Gt(s,u){if(bt(s))return i("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Je(s)),pt(s)}function Vt(s){if(bt(s))return i("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Je(s)),pt(s)}function En(s){if(bt(s))return i("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Je(s)),pt(s)}var tn=0,mn=1,Hn=2,Sn=3,Dn=4,Cn=5,or=6,ur=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",We=ur+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",at=new RegExp("^["+ur+"]["+We+"]*$"),$t={},Kt={};function rn(s){return it.call(Kt,s)?!0:it.call($t,s)?!1:at.test(s)?(Kt[s]=!0,!0):($t[s]=!0,i("Invalid attribute name: `%s`",s),!1)}function Bt(s,u,p){return u!==null?u.type===tn:p?!1:s.length>2&&(s[0]==="o"||s[0]==="O")&&(s[1]==="n"||s[1]==="N")}function Ln(s,u,p,m){if(p!==null&&p.type===tn)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":{if(m)return!1;if(p!==null)return!p.acceptsBooleans;var y=s.toLowerCase().slice(0,5);return y!=="data-"&&y!=="aria-"}default:return!1}}function br(s,u,p,m){if(u===null||typeof u>"u"||Ln(s,u,p,m))return!0;if(m)return!1;if(p!==null)switch(p.type){case Sn:return!u;case Dn:return u===!1;case Cn:return isNaN(u);case or:return isNaN(u)||u<1}return!1}function kn(s){return an.hasOwnProperty(s)?an[s]:null}function In(s,u,p,m,y,_,k){this.acceptsBooleans=u===Hn||u===Sn||u===Dn,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=_,this.removeEmptyString=k}var an={},ha=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];ha.forEach(function(s){an[s]=new In(s,tn,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0],p=s[1];an[u]=new In(u,mn,!1,p,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){an[s]=new In(s,Hn,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){an[s]=new In(s,Hn,!1,s,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(s){an[s]=new In(s,Sn,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){an[s]=new In(s,Sn,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){an[s]=new In(s,Dn,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){an[s]=new In(s,or,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){an[s]=new In(s,Cn,!1,s.toLowerCase(),null,!1,!1)});var er=/[\-\:]([a-z])/g,on=function(s){return s[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(s){var u=s.replace(er,on);an[u]=new In(u,mn,!1,s,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(s){var u=s.replace(er,on);an[u]=new In(u,mn,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(er,on);an[u]=new In(u,mn,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){an[s]=new In(s,mn,!1,s.toLowerCase(),null,!1,!1)});var Jr="xlinkHref";an[Jr]=new In("xlinkHref",mn,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){an[s]=new In(s,mn,!1,s.toLowerCase(),null,!0,!0)});var Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,xe=!1;function Pe(s){!xe&&Rr.test(s)&&(xe=!0,i("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(s)))}function gt(s,u,p,m){if(m.mustUseProperty){var y=m.propertyName;return s[y]}else{et(p,u),m.sanitizeURL&&Pe(""+p);var _=m.attributeName,k=null;if(m.type===Dn){if(s.hasAttribute(_)){var N=s.getAttribute(_);return N===""?!0:br(u,p,m,!1)?N:N===""+p?p:N}}else if(s.hasAttribute(_)){if(br(u,p,m,!1))return s.getAttribute(_);if(m.type===Sn)return p;k=s.getAttribute(_)}return br(u,p,m,!1)?k===null?p:k:k===""+p?p:k}}function Ge(s,u,p,m){{if(!rn(u))return;if(!s.hasAttribute(u))return p===void 0?void 0:null;var y=s.getAttribute(u);return et(p,u),y===""+p?p:y}}function nn(s,u,p,m){var y=kn(u);if(!Bt(u,y,m)){if(br(u,p,y,m)&&(p=null),m||y===null){if(rn(u)){var _=u;p===null?s.removeAttribute(_):(et(p,u),s.setAttribute(_,""+p))}return}var k=y.mustUseProperty;if(k){var N=y.propertyName;if(p===null){var $=y.type;s[N]=$===Sn?!1:""}else s[N]=p;return}var j=y.attributeName,q=y.attributeNamespace;if(p===null)s.removeAttribute(j);else{var ue=y.type,ie;ue===Sn||ue===Dn&&p===!0?ie="":(et(p,j),ie=""+p,y.sanitizeURL&&Pe(ie.toString())),q?s.setAttributeNS(q,j,ie):s.setAttribute(j,ie)}}}var Yt=Symbol.for("react.element"),Tt=Symbol.for("react.portal"),Et=Symbol.for("react.fragment"),zn=Symbol.for("react.strict_mode"),Er=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),Me=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Wt=Symbol.for("react.scope"),hr=Symbol.for("react.debug_trace_mode"),Wn=Symbol.for("react.offscreen"),Qn=Symbol.for("react.legacy_hidden"),Cr=Symbol.for("react.cache"),ea=Symbol.for("react.tracing_marker"),ls=Symbol.iterator,ma="@@iterator";function xo(s){if(s===null||typeof s!="object")return null;var u=ls&&s[ls]||s[ma];return typeof u=="function"?u:null}var Xt=Object.assign,Lo=0,Zu,Ki,Bo,Eo,Ms,Yi,Xi;function fi(){}fi.__reactDisabledLog=!0;function Qi(){{if(Lo===0){Zu=console.log,Ki=console.info,Bo=console.warn,Eo=console.error,Ms=console.group,Yi=console.groupCollapsed,Xi=console.groupEnd;var s={configurable:!0,enumerable:!0,value:fi,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}Lo++}}function $s(){{if(Lo--,Lo===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Xt({},s,{value:Zu}),info:Xt({},s,{value:Ki}),warn:Xt({},s,{value:Bo}),error:Xt({},s,{value:Eo}),group:Xt({},s,{value:Ms}),groupCollapsed:Xt({},s,{value:Yi}),groupEnd:Xt({},s,{value:Xi})})}Lo<0&&i("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var cs=n.ReactCurrentDispatcher,Fs;function ga(s,u,p){{if(Fs===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);Fs=m&&m[1]||""}return`
`+Fs+s}}var Ar=!1,zo;{var pi=typeof WeakMap=="function"?WeakMap:Map;zo=new pi}function ds(s,u){if(!s||Ar)return"";{var p=zo.get(s);if(p!==void 0)return p}var m;Ar=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var _;_=cs.current,cs.current=null,Qi();try{if(u){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(we){m=we}Reflect.construct(s,[],k)}else{try{k.call()}catch(we){m=we}s.call(k.prototype)}}else{try{throw Error()}catch(we){m=we}s()}}catch(we){if(we&&m&&typeof we.stack=="string"){for(var N=we.stack.split(`
`),$=m.stack.split(`
`),j=N.length-1,q=$.length-1;j>=1&&q>=0&&N[j]!==$[q];)q--;for(;j>=1&&q>=0;j--,q--)if(N[j]!==$[q]){if(j!==1||q!==1)do if(j--,q--,q<0||N[j]!==$[q]){var ue=`
`+N[j].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),typeof s=="function"&&zo.set(s,ue),ue}while(j>=1&&q>=0);break}}}finally{Ar=!1,cs.current=_,$s(),Error.prepareStackTrace=y}var ie=s?s.displayName||s.name:"",be=ie?ga(ie):"";return typeof s=="function"&&zo.set(s,be),be}function Ps(s,u,p){return ds(s,!0)}function qr(s,u,p){return ds(s,!1)}function hi(s){var u=s.prototype;return!!(u&&u.isReactComponent)}function ja(s,u,p){if(s==null)return"";if(typeof s=="function")return ds(s,hi(s));if(typeof s=="string")return ga(s);switch(s){case St:return ga("Suspense");case ot:return ga("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case He:return qr(s.render);case Ft:return ja(s.type,u,p);case _t:{var m=s,y=m._payload,_=m._init;try{return ja(_(y),u,p)}catch{}}}return""}function Zi(s){switch(s._debugOwner&&s._debugOwner.type,s._debugSource,s.tag){case v:return ga(s.type);case H:return ga("Lazy");case D:return ga("Suspense");case O:return ga("SuspenseList");case d:case c:case B:return qr(s.type);case C:return qr(s.type.render);case f:return Ps(s.type);default:return""}}function Co(s){try{var u="",p=s;do u+=Zi(p),p=p.return;while(p);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Ji(s,u,p){var m=s.displayName;if(m)return m;var y=u.displayName||u.name||"";return y!==""?p+"("+y+")":p}function Ls(s){return s.displayName||"Context"}function sn(s){if(s==null)return null;if(typeof s.tag=="number"&&i("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Et:return"Fragment";case Tt:return"Portal";case Er:return"Profiler";case zn:return"StrictMode";case St:return"Suspense";case ot:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Me:var u=s;return Ls(u)+".Consumer";case ee:var p=s;return Ls(p._context)+".Provider";case He:return Ji(s,s.render,"ForwardRef");case Ft:var m=s.displayName||null;return m!==null?m:sn(s.type)||"Memo";case _t:{var y=s,_=y._payload,k=y._init;try{return sn(k(_))}catch{return null}}}return null}function eu(s,u,p){var m=u.displayName||u.name||"";return s.displayName||(m!==""?p+"("+m+")":p)}function Ha(s){return s.displayName||"Context"}function At(s){var u=s.tag,p=s.type;switch(u){case J:return"Cache";case E:var m=p;return Ha(m)+".Consumer";case T:var y=p;return Ha(y._context)+".Provider";case U:return"DehydratedFragment";case C:return eu(p,p.render,"ForwardRef");case w:return"Fragment";case v:return p;case g:return"Portal";case h:return"Root";case b:return"Text";case H:return sn(p);case x:return p===zn?"StrictMode":"Mode";case G:return"Offscreen";case I:return"Profiler";case K:return"Scope";case D:return"Suspense";case O:return"SuspenseList";case se:return"TracingMarker";case f:case d:case z:case c:case F:case B:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;break}return null}var fs=n.ReactDebugCurrentFrame,Sr=null,Uo=!1;function Wa(){{if(Sr===null)return null;var s=Sr._debugOwner;if(s!==null&&typeof s<"u")return At(s)}return null}function Bs(){return Sr===null?"":Co(Sr)}function Tr(){fs.getCurrentStack=null,Sr=null,Uo=!1}function X(s){fs.getCurrentStack=s===null?null:Bs,Sr=s,Uo=!1}function de(){return Sr}function $e(s){Uo=s}function ct(s){return""+s}function xt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return En(s),s;default:return""}}var Pt={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Qe(s,u){Pt[u.type]||u.onChange||u.onInput||u.readOnly||u.disabled||u.value==null||i("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),u.onChange||u.readOnly||u.disabled||u.checked==null||i("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function dt(s){var u=s.type,p=s.nodeName;return p&&p.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function On(s){return s._valueTracker}function Nr(s){s._valueTracker=null}function uo(s){var u="";return s&&(dt(s)?u=s.checked?"true":"false":u=s.value),u}function Vo(s){var u=dt(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);En(s[u]);var m=""+s[u];if(!(s.hasOwnProperty(u)||typeof p>"u"||typeof p.get!="function"||typeof p.set!="function")){var y=p.get,_=p.set;Object.defineProperty(s,u,{configurable:!0,get:function(){return y.call(this)},set:function(N){En(N),m=""+N,_.call(this,N)}}),Object.defineProperty(s,u,{enumerable:p.enumerable});var k={getValue:function(){return m},setValue:function(N){En(N),m=""+N},stopTracking:function(){Nr(s),delete s[u]}};return k}}function jo(s){On(s)||(s._valueTracker=Vo(s))}function tu(s){if(!s)return!1;var u=On(s);if(!u)return!0;var p=u.getValue(),m=uo(s);return m!==p?(u.setValue(m),!0):!1}function lr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var lo=!1,Ho=!1,Ju=!1,gd=!1;function vd(s){var u=s.type==="checkbox"||s.type==="radio";return u?s.checked!=null:s.value!=null}function mi(s,u){var p=s,m=u.checked,y=Xt({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??p._wrapperState.initialChecked});return y}function yd(s,u){Qe("input",u),u.checked!==void 0&&u.defaultChecked!==void 0&&!Ho&&(i("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Wa()||"A component",u.type),Ho=!0),u.value!==void 0&&u.defaultValue!==void 0&&!lo&&(i("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Wa()||"A component",u.type),lo=!0);var p=s,m=u.defaultValue==null?"":u.defaultValue;p._wrapperState={initialChecked:u.checked!=null?u.checked:u.defaultChecked,initialValue:xt(u.value!=null?u.value:m),controlled:vd(u)}}function P(s,u){var p=s,m=u.checked;m!=null&&nn(p,"checked",m,!1)}function te(s,u){var p=s;{var m=vd(u);!p._wrapperState.controlled&&m&&!gd&&(i("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),gd=!0),p._wrapperState.controlled&&!m&&!Ju&&(i("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Ju=!0)}P(s,u);var y=xt(u.value),_=u.type;if(y!=null)_==="number"?(y===0&&p.value===""||p.value!=y)&&(p.value=ct(y)):p.value!==ct(y)&&(p.value=ct(y));else if(_==="submit"||_==="reset"){p.removeAttribute("value");return}u.hasOwnProperty("value")?M(p,u.type,y):u.hasOwnProperty("defaultValue")&&M(p,u.type,xt(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(p.defaultChecked=!!u.defaultChecked)}function Se(s,u,p){var m=s;if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type,_=y==="submit"||y==="reset";if(_&&(u.value===void 0||u.value===null))return;var k=ct(m._wrapperState.initialValue);p||k!==m.value&&(m.value=k),m.defaultValue=k}var N=m.name;N!==""&&(m.name=""),m.defaultChecked=!m.defaultChecked,m.defaultChecked=!!m._wrapperState.initialChecked,N!==""&&(m.name=N)}function S(s,u){var p=s;te(p,u),R(p,u)}function R(s,u){var p=u.name;if(u.type==="radio"&&p!=null){for(var m=s;m.parentNode;)m=m.parentNode;et(p,"name");for(var y=m.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),_=0;_<y.length;_++){var k=y[_];if(!(k===s||k.form!==s.form)){var N=e0(k);if(!N)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");tu(k),te(k,N)}}}}function M(s,u,p){(u!=="number"||lr(s.ownerDocument)!==s)&&(p==null?s.defaultValue=ct(s._wrapperState.initialValue):s.defaultValue!==ct(p)&&(s.defaultValue=ct(p)))}var L=!1,Y=!1,re=!1;function Q(s,u){u.value==null&&(typeof u.children=="object"&&u.children!==null?t.Children.forEach(u.children,function(p){p!=null&&(typeof p=="string"||typeof p=="number"||Y||(Y=!0,i("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):u.dangerouslySetInnerHTML!=null&&(re||(re=!0,i("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),u.selected!=null&&!L&&(i("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),L=!0)}function fe(s,u){u.value!=null&&s.setAttribute("value",ct(xt(u.value)))}var ge=Array.isArray;function Re(s){return ge(s)}var qe;qe=!1;function ft(){var s=Wa();return s?`

Check the render method of \``+s+"`.":""}var Rt=["value","defaultValue"];function vt(s){{Qe("select",s);for(var u=0;u<Rt.length;u++){var p=Rt[u];if(s[p]!=null){var m=Re(s[p]);s.multiple&&!m?i("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",p,ft()):!s.multiple&&m&&i("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",p,ft())}}}}function Ot(s,u,p,m){var y=s.options;if(u){for(var _=p,k={},N=0;N<_.length;N++)k["$"+_[N]]=!0;for(var $=0;$<y.length;$++){var j=k.hasOwnProperty("$"+y[$].value);y[$].selected!==j&&(y[$].selected=j),j&&m&&(y[$].defaultSelected=!0)}}else{for(var q=ct(xt(p)),ue=null,ie=0;ie<y.length;ie++){if(y[ie].value===q){y[ie].selected=!0,m&&(y[ie].defaultSelected=!0);return}ue===null&&!y[ie].disabled&&(ue=y[ie])}ue!==null&&(ue.selected=!0)}}function un(s,u){return Xt({},u,{value:void 0})}function Un(s,u){var p=s;vt(u),p._wrapperState={wasMultiple:!!u.multiple},u.value!==void 0&&u.defaultValue!==void 0&&!qe&&(i("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),qe=!0)}function qn(s,u){var p=s;p.multiple=!!u.multiple;var m=u.value;m!=null?Ot(p,!!u.multiple,m,!1):u.defaultValue!=null&&Ot(p,!!u.multiple,u.defaultValue,!0)}function Dr(s,u){var p=s,m=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!u.multiple;var y=u.value;y!=null?Ot(p,!!u.multiple,y,!1):m!==!!u.multiple&&(u.defaultValue!=null?Ot(p,!!u.multiple,u.defaultValue,!0):Ot(p,!!u.multiple,u.multiple?[]:"",!1))}function qa(s,u){var p=s,m=u.value;m!=null&&Ot(p,!!u.multiple,m,!1)}var Ta=!1;function wn(s,u){var p=s;if(u.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var m=Xt({},u,{value:void 0,defaultValue:void 0,children:ct(p._wrapperState.initialValue)});return m}function Or(s,u){var p=s;Qe("textarea",u),u.value!==void 0&&u.defaultValue!==void 0&&!Ta&&(i("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Wa()||"A component"),Ta=!0);var m=u.value;if(m==null){var y=u.children,_=u.defaultValue;if(y!=null){i("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(_!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Re(y)){if(y.length>1)throw new Error("<textarea> can only have at most one child.");y=y[0]}_=y}}_==null&&(_=""),m=_}p._wrapperState={initialValue:xt(m)}}function zs(s,u){var p=s,m=xt(u.value),y=xt(u.defaultValue);if(m!=null){var _=ct(m);_!==p.value&&(p.value=_),u.defaultValue==null&&p.defaultValue!==_&&(p.defaultValue=_)}y!=null&&(p.defaultValue=ct(y))}function AF(s,u){var p=s,m=p.textContent;m===p._wrapperState.initialValue&&m!==""&&m!==null&&(p.value=m)}function MSe(s,u){zs(s,u)}var nu="http://www.w3.org/1999/xhtml",$Se="http://www.w3.org/1998/Math/MathML",dE="http://www.w3.org/2000/svg";function fE(s){switch(s){case"svg":return dE;case"math":return $Se;default:return nu}}function pE(s,u){return s==null||s===nu?fE(u):s===dE&&u==="foreignObject"?nu:s}var FSe=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,m,y){MSApp.execUnsafeLocalFunction(function(){return s(u,p,m,y)})}:s},gb,NF=FSe(function(s,u){if(s.namespaceURI===dE&&!("innerHTML"in s)){gb=gb||document.createElement("div"),gb.innerHTML="<svg>"+u.valueOf().toString()+"</svg>";for(var p=gb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;p.firstChild;)s.appendChild(p.firstChild);return}s.innerHTML=u}),To=1,ru=3,Gr=8,au=9,hE=11,vb=function(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===ru){p.nodeValue=u;return}}s.textContent=u},PSe={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function LSe(s,u){return s+u.charAt(0).toUpperCase()+u.substring(1)}var BSe=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(s){BSe.forEach(function(u){Yp[LSe(u,s)]=Yp[s]})});function mE(s,u,p){var m=u==null||typeof u=="boolean"||u==="";return m?"":!p&&typeof u=="number"&&u!==0&&!(Yp.hasOwnProperty(s)&&Yp[s])?u+"px":(Gt(u,s),(""+u).trim())}var zSe=/([A-Z])/g,USe=/^ms-/;function VSe(s){return s.replace(zSe,"-$1").toLowerCase().replace(USe,"-ms-")}var DF=function(){};{var jSe=/^(?:webkit|moz|o)[A-Z]/,HSe=/^-ms-/,WSe=/-(.)/g,OF=/;\s*$/,bd={},gE={},MF=!1,$F=!1,qSe=function(s){return s.replace(WSe,function(u,p){return p.toUpperCase()})},GSe=function(s){bd.hasOwnProperty(s)&&bd[s]||(bd[s]=!0,i("Unsupported style property %s. Did you mean %s?",s,qSe(s.replace(HSe,"ms-"))))},KSe=function(s){bd.hasOwnProperty(s)&&bd[s]||(bd[s]=!0,i("Unsupported vendor-prefixed style property %s. Did you mean %s?",s,s.charAt(0).toUpperCase()+s.slice(1)))},YSe=function(s,u){gE.hasOwnProperty(u)&&gE[u]||(gE[u]=!0,i(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,s,u.replace(OF,"")))},XSe=function(s,u){MF||(MF=!0,i("`NaN` is an invalid value for the `%s` css style property.",s))},QSe=function(s,u){$F||($F=!0,i("`Infinity` is an invalid value for the `%s` css style property.",s))};DF=function(s,u){s.indexOf("-")>-1?GSe(s):jSe.test(s)?KSe(s):OF.test(u)&&YSe(s,u),typeof u=="number"&&(isNaN(u)?XSe(s,u):isFinite(u)||QSe(s,u))}}var ZSe=DF;function JSe(s){{var u="",p="";for(var m in s)if(s.hasOwnProperty(m)){var y=s[m];if(y!=null){var _=m.indexOf("--")===0;u+=p+(_?m:VSe(m))+":",u+=mE(m,y,_),p=";"}}return u||null}}function FF(s,u){var p=s.style;for(var m in u)if(u.hasOwnProperty(m)){var y=m.indexOf("--")===0;y||ZSe(m,u[m]);var _=mE(m,u[m],y);m==="float"&&(m="cssFloat"),y?p.setProperty(m,_):p[m]=_}}function ewe(s){return s==null||typeof s=="boolean"||s===""}function PF(s){var u={};for(var p in s)for(var m=PSe[p]||[p],y=0;y<m.length;y++)u[m[y]]=p;return u}function twe(s,u){{if(!u)return;var p=PF(s),m=PF(u),y={};for(var _ in p){var k=p[_],N=m[_];if(N&&k!==N){var $=k+","+N;if(y[$])continue;y[$]=!0,i("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",ewe(s[k])?"Removing":"Updating",k,N)}}}}var nwe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},rwe=Xt({menuitem:!0},nwe),awe="__html";function vE(s,u){if(u){if(rwe[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw new Error(s+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof u.dangerouslySetInnerHTML!="object"||!(awe in u.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!u.suppressContentEditableWarning&&u.contentEditable&&u.children!=null&&i("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),u.style!=null&&typeof u.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Jl(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yb={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},LF={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Sd={},owe=new RegExp("^(aria)-["+We+"]*$"),swe=new RegExp("^(aria)[A-Z]["+We+"]*$");function iwe(s,u){{if(it.call(Sd,u)&&Sd[u])return!0;if(swe.test(u)){var p="aria-"+u.slice(4).toLowerCase(),m=LF.hasOwnProperty(p)?p:null;if(m==null)return i("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",u),Sd[u]=!0,!0;if(u!==m)return i("Invalid ARIA attribute `%s`. Did you mean `%s`?",u,m),Sd[u]=!0,!0}if(owe.test(u)){var y=u.toLowerCase(),_=LF.hasOwnProperty(y)?y:null;if(_==null)return Sd[u]=!0,!1;if(u!==_)return i("Unknown ARIA attribute `%s`. Did you mean `%s`?",u,_),Sd[u]=!0,!0}}return!0}function uwe(s,u){{var p=[];for(var m in u){var y=iwe(s,m);y||p.push(m)}var _=p.map(function(k){return"`"+k+"`"}).join(", ");p.length===1?i("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",_,s):p.length>1&&i("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",_,s)}}function lwe(s,u){Jl(s,u)||uwe(s,u)}var BF=!1;function cwe(s,u){{if(s!=="input"&&s!=="textarea"&&s!=="select")return;u!=null&&u.value===null&&!BF&&(BF=!0,s==="select"&&u.multiple?i("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",s):i("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",s))}}var zF=function(){};{var co={},UF=/^on./,dwe=/^on[^A-Z]/,fwe=new RegExp("^(aria)-["+We+"]*$"),pwe=new RegExp("^(aria)[A-Z]["+We+"]*$");zF=function(s,u,p,m){if(it.call(co,u)&&co[u])return!0;var y=u.toLowerCase();if(y==="onfocusin"||y==="onfocusout")return i("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),co[u]=!0,!0;if(m!=null){var _=m.registrationNameDependencies,k=m.possibleRegistrationNames;if(_.hasOwnProperty(u))return!0;var N=k.hasOwnProperty(y)?k[y]:null;if(N!=null)return i("Invalid event handler property `%s`. Did you mean `%s`?",u,N),co[u]=!0,!0;if(UF.test(u))return i("Unknown event handler property `%s`. It will be ignored.",u),co[u]=!0,!0}else if(UF.test(u))return dwe.test(u)&&i("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",u),co[u]=!0,!0;if(fwe.test(u)||pwe.test(u))return!0;if(y==="innerhtml")return i("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),co[u]=!0,!0;if(y==="aria")return i("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),co[u]=!0,!0;if(y==="is"&&p!==null&&p!==void 0&&typeof p!="string")return i("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof p),co[u]=!0,!0;if(typeof p=="number"&&isNaN(p))return i("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",u),co[u]=!0,!0;var $=kn(u),j=$!==null&&$.type===tn;if(yb.hasOwnProperty(y)){var q=yb[y];if(q!==u)return i("Invalid DOM property `%s`. Did you mean `%s`?",u,q),co[u]=!0,!0}else if(!j&&u!==y)return i("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",u,y),co[u]=!0,!0;return typeof p=="boolean"&&Ln(u,p,$,!1)?(p?i('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',p,u,u,p,u):i('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',p,u,u,p,u,u,u),co[u]=!0,!0):j?!0:Ln(u,p,$,!1)?(co[u]=!0,!1):((p==="false"||p==="true")&&$!==null&&$.type===Sn&&(i("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",p,u,p==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',u,p),co[u]=!0),!0)}}var hwe=function(s,u,p){{var m=[];for(var y in u){var _=zF(s,y,u[y],p);_||m.push(y)}var k=m.map(function(N){return"`"+N+"`"}).join(", ");m.length===1?i("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",k,s):m.length>1&&i("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",k,s)}};function mwe(s,u,p){Jl(s,u)||hwe(s,u,p)}var VF=1,yE=2,Xp=4,gwe=VF|yE|Xp,Qp=null;function vwe(s){Qp!==null&&i("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Qp=s}function ywe(){Qp===null&&i("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Qp=null}function bwe(s){return s===Qp}function bE(s){var u=s.target||s.srcElement||window;return u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===ru?u.parentNode:u}var SE=null,wd=null,_d=null;function jF(s){var u=ul(s);if(u){if(typeof SE!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var p=u.stateNode;if(p){var m=e0(p);SE(u.stateNode,u.type,m)}}}function Swe(s){SE=s}function HF(s){wd?_d?_d.push(s):_d=[s]:wd=s}function wwe(){return wd!==null||_d!==null}function WF(){if(wd){var s=wd,u=_d;if(wd=null,_d=null,jF(s),u)for(var p=0;p<u.length;p++)jF(u[p])}}var qF=function(s,u){return s(u)},GF=function(){},wE=!1;function _we(){var s=wwe();s&&(GF(),WF())}function KF(s,u,p){if(wE)return s(u,p);wE=!0;try{return qF(s,u,p)}finally{wE=!1,_we()}}function xwe(s,u,p){qF=s,GF=p}function Ewe(s){return s==="button"||s==="input"||s==="select"||s==="textarea"}function Cwe(s,u,p){switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(p.disabled&&Ewe(u));default:return!1}}function Zp(s,u){var p=s.stateNode;if(p===null)return null;var m=e0(p);if(m===null)return null;var y=m[u];if(Cwe(u,s.type,m))return null;if(y&&typeof y!="function")throw new Error("Expected `"+u+"` listener to be a function, instead got a value of `"+typeof y+"` type.");return y}var _E=!1;if(Ze)try{var Jp={};Object.defineProperty(Jp,"passive",{get:function(){_E=!0}}),window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{_E=!1}function YF(s,u,p,m,y,_,k,N,$){var j=Array.prototype.slice.call(arguments,3);try{u.apply(p,j)}catch(q){this.onError(q)}}var XF=YF;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var xE=document.createElement("react");XF=function(u,p,m,y,_,k,N,$,j){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var q=document.createEvent("Event"),ue=!1,ie=!0,be=window.event,we=Object.getOwnPropertyDescriptor(window,"event");function Te(){xE.removeEventListener(ke,kt,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=be)}var ut=Array.prototype.slice.call(arguments,3);function kt(){ue=!0,Te(),p.apply(m,ut),ie=!1}var wt,yn=!1,ln=!1;function he(me){if(wt=me.error,yn=!0,wt===null&&me.colno===0&&me.lineno===0&&(ln=!0),me.defaultPrevented&&wt!=null&&typeof wt=="object")try{wt._suppressLogging=!0}catch{}}var ke="react-"+(u||"invokeguardedcallback");if(window.addEventListener("error",he),xE.addEventListener(ke,kt,!1),q.initEvent(ke,!1,!1),xE.dispatchEvent(q),we&&Object.defineProperty(window,"event",we),ue&&ie&&(yn?ln&&(wt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):wt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(wt)),window.removeEventListener("error",he),!ue)return Te(),YF.apply(this,arguments)}}var Twe=XF,xd=!1,bb=null,Sb=!1,EE=null,kwe={onError:function(s){xd=!0,bb=s}};function CE(s,u,p,m,y,_,k,N,$){xd=!1,bb=null,Twe.apply(kwe,arguments)}function Iwe(s,u,p,m,y,_,k,N,$){if(CE.apply(this,arguments),xd){var j=TE();Sb||(Sb=!0,EE=j)}}function Rwe(){if(Sb){var s=EE;throw Sb=!1,EE=null,s}}function Awe(){return xd}function TE(){if(xd){var s=bb;return xd=!1,bb=null,s}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Ed(s){return s._reactInternals}function Nwe(s){return s._reactInternals!==void 0}function Dwe(s,u){s._reactInternals=u}var Nt=0,Cd=1,Kr=2,Mn=4,ec=16,eh=32,QF=64,$n=128,ou=256,tc=512,Td=1024,el=2048,su=4096,nc=8192,kE=16384,Owe=32767,wb=32768,fo=65536,IE=131072,ZF=1048576,RE=2097152,rc=4194304,AE=8388608,tl=16777216,NE=33554432,DE=Mn|Td|0,OE=Kr|Mn|ec|eh|tc|su|nc,th=Mn|QF|tc|nc,kd=el|ec,iu=rc|AE|RE,Mwe=n.ReactCurrentOwner;function ac(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{var m=u;do u=m,(u.flags&(Kr|su))!==Nt&&(p=u.return),m=u.return;while(m)}return u.tag===h?p:null}function JF(s){if(s.tag===D){var u=s.memoizedState;if(u===null){var p=s.alternate;p!==null&&(u=p.memoizedState)}if(u!==null)return u.dehydrated}return null}function e6(s){return s.tag===h?s.stateNode.containerInfo:null}function $we(s){return ac(s)===s}function Fwe(s){{var u=Mwe.current;if(u!==null&&u.tag===f){var p=u,m=p.stateNode;m._warnedAboutRefsInRender||i("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",At(p)||"A component"),m._warnedAboutRefsInRender=!0}}var y=Ed(s);return y?ac(y)===y:!1}function t6(s){if(ac(s)!==s)throw new Error("Unable to find node on an unmounted component.")}function n6(s){var u=s.alternate;if(!u){var p=ac(s);if(p===null)throw new Error("Unable to find node on an unmounted component.");return p!==s?null:s}for(var m=s,y=u;;){var _=m.return;if(_===null)break;var k=_.alternate;if(k===null){var N=_.return;if(N!==null){m=y=N;continue}break}if(_.child===k.child){for(var $=_.child;$;){if($===m)return t6(_),s;if($===y)return t6(_),u;$=$.sibling}throw new Error("Unable to find node on an unmounted component.")}if(m.return!==y.return)m=_,y=k;else{for(var j=!1,q=_.child;q;){if(q===m){j=!0,m=_,y=k;break}if(q===y){j=!0,y=_,m=k;break}q=q.sibling}if(!j){for(q=k.child;q;){if(q===m){j=!0,m=k,y=_;break}if(q===y){j=!0,y=k,m=_;break}q=q.sibling}if(!j)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(m.alternate!==y)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(m.tag!==h)throw new Error("Unable to find node on an unmounted component.");return m.stateNode.current===m?s:u}function r6(s){var u=n6(s);return u!==null?a6(u):null}function a6(s){if(s.tag===v||s.tag===b)return s;for(var u=s.child;u!==null;){var p=a6(u);if(p!==null)return p;u=u.sibling}return null}function Pwe(s){var u=n6(s);return u!==null?o6(u):null}function o6(s){if(s.tag===v||s.tag===b)return s;for(var u=s.child;u!==null;){if(u.tag!==g){var p=o6(u);if(p!==null)return p}u=u.sibling}return null}var s6=e.unstable_scheduleCallback,Lwe=e.unstable_cancelCallback,Bwe=e.unstable_shouldYield,zwe=e.unstable_requestPaint,va=e.unstable_now,Uwe=e.unstable_getCurrentPriorityLevel,_b=e.unstable_ImmediatePriority,ME=e.unstable_UserBlockingPriority,oc=e.unstable_NormalPriority,Vwe=e.unstable_LowPriority,$E=e.unstable_IdlePriority,jwe=e.unstable_yieldValue,Hwe=e.unstable_setDisableYieldValue,Id=null,Ga=null,rt=null,gi=!1,Us=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function Wwe(s){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled)return!0;if(!u.supportsFiber)return i("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{_e&&(s=Xt({},s,{getLaneLabelMap:Qwe,injectProfilingHooks:Xwe})),Id=u.inject(s),Ga=u}catch(p){i("React instrumentation encountered an error: %s.",p)}return!!u.checkDCE}function qwe(s,u){if(Ga&&typeof Ga.onScheduleFiberRoot=="function")try{Ga.onScheduleFiberRoot(Id,s,u)}catch(p){gi||(gi=!0,i("React instrumentation encountered an error: %s",p))}}function Gwe(s,u){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{var p=(s.current.flags&$n)===$n;if(Ie){var m;switch(u){case Go:m=_b;break;case lu:m=ME;break;case cu:m=oc;break;case Rb:m=$E;break;default:m=oc;break}Ga.onCommitFiberRoot(Id,s,m,p)}}catch(y){gi||(gi=!0,i("React instrumentation encountered an error: %s",y))}}function Kwe(s){if(Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(Id,s)}catch(u){gi||(gi=!0,i("React instrumentation encountered an error: %s",u))}}function Ywe(s){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(Id,s)}catch(u){gi||(gi=!0,i("React instrumentation encountered an error: %s",u))}}function ya(s){if(typeof jwe=="function"&&(Hwe(s),a(s)),Ga&&typeof Ga.setStrictMode=="function")try{Ga.setStrictMode(Id,s)}catch(u){gi||(gi=!0,i("React instrumentation encountered an error: %s",u))}}function Xwe(s){rt=s}function Qwe(){{for(var s=new Map,u=1,p=0;p<PE;p++){var m=v_e(u);s.set(u,m),u*=2}return s}}function Zwe(s){rt!==null&&typeof rt.markCommitStarted=="function"&&rt.markCommitStarted(s)}function i6(){rt!==null&&typeof rt.markCommitStopped=="function"&&rt.markCommitStopped()}function nh(s){rt!==null&&typeof rt.markComponentRenderStarted=="function"&&rt.markComponentRenderStarted(s)}function Rd(){rt!==null&&typeof rt.markComponentRenderStopped=="function"&&rt.markComponentRenderStopped()}function Jwe(s){rt!==null&&typeof rt.markComponentPassiveEffectMountStarted=="function"&&rt.markComponentPassiveEffectMountStarted(s)}function e_e(){rt!==null&&typeof rt.markComponentPassiveEffectMountStopped=="function"&&rt.markComponentPassiveEffectMountStopped()}function t_e(s){rt!==null&&typeof rt.markComponentPassiveEffectUnmountStarted=="function"&&rt.markComponentPassiveEffectUnmountStarted(s)}function n_e(){rt!==null&&typeof rt.markComponentPassiveEffectUnmountStopped=="function"&&rt.markComponentPassiveEffectUnmountStopped()}function r_e(s){rt!==null&&typeof rt.markComponentLayoutEffectMountStarted=="function"&&rt.markComponentLayoutEffectMountStarted(s)}function a_e(){rt!==null&&typeof rt.markComponentLayoutEffectMountStopped=="function"&&rt.markComponentLayoutEffectMountStopped()}function u6(s){rt!==null&&typeof rt.markComponentLayoutEffectUnmountStarted=="function"&&rt.markComponentLayoutEffectUnmountStarted(s)}function l6(){rt!==null&&typeof rt.markComponentLayoutEffectUnmountStopped=="function"&&rt.markComponentLayoutEffectUnmountStopped()}function o_e(s,u,p){rt!==null&&typeof rt.markComponentErrored=="function"&&rt.markComponentErrored(s,u,p)}function s_e(s,u,p){rt!==null&&typeof rt.markComponentSuspended=="function"&&rt.markComponentSuspended(s,u,p)}function i_e(s){rt!==null&&typeof rt.markLayoutEffectsStarted=="function"&&rt.markLayoutEffectsStarted(s)}function u_e(){rt!==null&&typeof rt.markLayoutEffectsStopped=="function"&&rt.markLayoutEffectsStopped()}function l_e(s){rt!==null&&typeof rt.markPassiveEffectsStarted=="function"&&rt.markPassiveEffectsStarted(s)}function c_e(){rt!==null&&typeof rt.markPassiveEffectsStopped=="function"&&rt.markPassiveEffectsStopped()}function c6(s){rt!==null&&typeof rt.markRenderStarted=="function"&&rt.markRenderStarted(s)}function d_e(){rt!==null&&typeof rt.markRenderYielded=="function"&&rt.markRenderYielded()}function d6(){rt!==null&&typeof rt.markRenderStopped=="function"&&rt.markRenderStopped()}function f_e(s){rt!==null&&typeof rt.markRenderScheduled=="function"&&rt.markRenderScheduled(s)}function p_e(s,u){rt!==null&&typeof rt.markForceUpdateScheduled=="function"&&rt.markForceUpdateScheduled(s,u)}function FE(s,u){rt!==null&&typeof rt.markStateUpdateScheduled=="function"&&rt.markStateUpdateScheduled(s,u)}var Dt=0,gn=1,Gn=2,Yr=8,vi=16,f6=Math.clz32?Math.clz32:g_e,h_e=Math.log,m_e=Math.LN2;function g_e(s){var u=s>>>0;return u===0?32:31-(h_e(u)/m_e|0)|0}var PE=31,Fe=0,ba=0,zt=1,Ad=2,uu=4,sc=8,yi=16,rh=32,Nd=4194240,ah=64,LE=128,BE=256,zE=512,UE=1024,VE=2048,jE=4096,HE=8192,WE=16384,qE=32768,GE=65536,KE=131072,YE=262144,XE=524288,QE=1048576,ZE=2097152,xb=130023424,Dd=4194304,JE=8388608,eC=16777216,tC=33554432,nC=67108864,p6=Dd,oh=134217728,h6=268435455,sh=268435456,ic=536870912,Wo=1073741824;function v_e(s){{if(s&zt)return"Sync";if(s&Ad)return"InputContinuousHydration";if(s&uu)return"InputContinuous";if(s&sc)return"DefaultHydration";if(s&yi)return"Default";if(s&rh)return"TransitionHydration";if(s&Nd)return"Transition";if(s&xb)return"Retry";if(s&oh)return"SelectiveHydration";if(s&sh)return"IdleHydration";if(s&ic)return"Idle";if(s&Wo)return"Offscreen"}}var cr=-1,Eb=ah,Cb=Dd;function ih(s){switch(uc(s)){case zt:return zt;case Ad:return Ad;case uu:return uu;case sc:return sc;case yi:return yi;case rh:return rh;case ah:case LE:case BE:case zE:case UE:case VE:case jE:case HE:case WE:case qE:case GE:case KE:case YE:case XE:case QE:case ZE:return s&Nd;case Dd:case JE:case eC:case tC:case nC:return s&xb;case oh:return oh;case sh:return sh;case ic:return ic;case Wo:return Wo;default:return i("Should have found matching lanes. This is a bug in React."),s}}function Tb(s,u){var p=s.pendingLanes;if(p===Fe)return Fe;var m=Fe,y=s.suspendedLanes,_=s.pingedLanes,k=p&h6;if(k!==Fe){var N=k&~y;if(N!==Fe)m=ih(N);else{var $=k&_;$!==Fe&&(m=ih($))}}else{var j=p&~y;j!==Fe?m=ih(j):_!==Fe&&(m=ih(_))}if(m===Fe)return Fe;if(u!==Fe&&u!==m&&(u&y)===Fe){var q=uc(m),ue=uc(u);if(q>=ue||q===yi&&(ue&Nd)!==Fe)return u}(m&uu)!==Fe&&(m|=p&yi);var ie=s.entangledLanes;if(ie!==Fe)for(var be=s.entanglements,we=m&ie;we>0;){var Te=lc(we),ut=1<<Te;m|=be[Te],we&=~ut}return m}function y_e(s,u){for(var p=s.eventTimes,m=cr;u>0;){var y=lc(u),_=1<<y,k=p[y];k>m&&(m=k),u&=~_}return m}function b_e(s,u){switch(s){case zt:case Ad:case uu:return u+250;case sc:case yi:case rh:case ah:case LE:case BE:case zE:case UE:case VE:case jE:case HE:case WE:case qE:case GE:case KE:case YE:case XE:case QE:case ZE:return u+5e3;case Dd:case JE:case eC:case tC:case nC:return cr;case oh:case sh:case ic:case Wo:return cr;default:return i("Should have found matching lanes. This is a bug in React."),cr}}function S_e(s,u){for(var p=s.pendingLanes,m=s.suspendedLanes,y=s.pingedLanes,_=s.expirationTimes,k=p;k>0;){var N=lc(k),$=1<<N,j=_[N];j===cr?(($&m)===Fe||($&y)!==Fe)&&(_[N]=b_e($,u)):j<=u&&(s.expiredLanes|=$),k&=~$}}function w_e(s){return ih(s.pendingLanes)}function rC(s){var u=s.pendingLanes&~Wo;return u!==Fe?u:u&Wo?Wo:Fe}function __e(s){return(s&zt)!==Fe}function aC(s){return(s&h6)!==Fe}function m6(s){return(s&xb)===s}function x_e(s){var u=zt|uu|yi;return(s&u)===Fe}function E_e(s){return(s&Nd)===s}function kb(s,u){var p=Ad|uu|sc|yi;return(u&p)!==Fe}function C_e(s,u){return(u&s.expiredLanes)!==Fe}function g6(s){return(s&Nd)!==Fe}function v6(){var s=Eb;return Eb<<=1,(Eb&Nd)===Fe&&(Eb=ah),s}function T_e(){var s=Cb;return Cb<<=1,(Cb&xb)===Fe&&(Cb=Dd),s}function uc(s){return s&-s}function uh(s){return uc(s)}function lc(s){return 31-f6(s)}function oC(s){return lc(s)}function qo(s,u){return(s&u)!==Fe}function Od(s,u){return(s&u)===u}function Qt(s,u){return s|u}function Ib(s,u){return s&~u}function y6(s,u){return s&u}function SAe(s){return s}function k_e(s,u){return s!==ba&&s<u?s:u}function sC(s){for(var u=[],p=0;p<PE;p++)u.push(s);return u}function lh(s,u,p){s.pendingLanes|=u,u!==ic&&(s.suspendedLanes=Fe,s.pingedLanes=Fe);var m=s.eventTimes,y=oC(u);m[y]=p}function I_e(s,u){s.suspendedLanes|=u,s.pingedLanes&=~u;for(var p=s.expirationTimes,m=u;m>0;){var y=lc(m),_=1<<y;p[y]=cr,m&=~_}}function b6(s,u,p){s.pingedLanes|=s.suspendedLanes&u}function R_e(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=Fe,s.pingedLanes=Fe,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u;for(var m=s.entanglements,y=s.eventTimes,_=s.expirationTimes,k=p;k>0;){var N=lc(k),$=1<<N;m[N]=Fe,y[N]=cr,_[N]=cr,k&=~$}}function iC(s,u){for(var p=s.entangledLanes|=u,m=s.entanglements,y=p;y;){var _=lc(y),k=1<<_;k&u|m[_]&u&&(m[_]|=u),y&=~k}}function A_e(s,u){var p=uc(u),m;switch(p){case uu:m=Ad;break;case yi:m=sc;break;case ah:case LE:case BE:case zE:case UE:case VE:case jE:case HE:case WE:case qE:case GE:case KE:case YE:case XE:case QE:case ZE:case Dd:case JE:case eC:case tC:case nC:m=rh;break;case ic:m=sh;break;default:m=ba;break}return(m&(s.suspendedLanes|u))!==ba?ba:m}function S6(s,u,p){if(Us)for(var m=s.pendingUpdatersLaneMap;p>0;){var y=oC(p),_=1<<y,k=m[y];k.add(u),p&=~_}}function w6(s,u){if(Us)for(var p=s.pendingUpdatersLaneMap,m=s.memoizedUpdaters;u>0;){var y=oC(u),_=1<<y,k=p[y];k.size>0&&(k.forEach(function(N){var $=N.alternate;($===null||!m.has($))&&m.add(N)}),k.clear()),u&=~_}}function _6(s,u){return null}var Go=zt,lu=uu,cu=yi,Rb=ic,ch=ba;function Vs(){return ch}function Sa(s){ch=s}function N_e(s,u){var p=ch;try{return ch=s,u()}finally{ch=p}}function D_e(s,u){return s!==0&&s<u?s:u}function O_e(s,u){return s>u?s:u}function uC(s,u){return s!==0&&s<u}function x6(s){var u=uc(s);return uC(Go,u)?uC(lu,u)?aC(u)?cu:Rb:lu:Go}function Ab(s){var u=s.current.memoizedState;return u.isDehydrated}var E6;function M_e(s){E6=s}function $_e(s){E6(s)}var lC;function F_e(s){lC=s}var C6;function P_e(s){C6=s}var T6;function L_e(s){T6=s}var k6;function B_e(s){k6=s}var cC=!1,Nb=[],nl=null,rl=null,al=null,dh=new Map,fh=new Map,ol=[],z_e=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function U_e(s){return z_e.indexOf(s)>-1}function V_e(s,u,p,m,y){return{blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:y,targetContainers:[m]}}function I6(s,u){switch(s){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":{var p=u.pointerId;dh.delete(p);break}case"gotpointercapture":case"lostpointercapture":{var m=u.pointerId;fh.delete(m);break}}}function ph(s,u,p,m,y,_){if(s===null||s.nativeEvent!==_){var k=V_e(u,p,m,y,_);if(u!==null){var N=ul(u);N!==null&&lC(N)}return k}s.eventSystemFlags|=m;var $=s.targetContainers;return y!==null&&$.indexOf(y)===-1&&$.push(y),s}function j_e(s,u,p,m,y){switch(u){case"focusin":{var _=y;return nl=ph(nl,s,u,p,m,_),!0}case"dragenter":{var k=y;return rl=ph(rl,s,u,p,m,k),!0}case"mouseover":{var N=y;return al=ph(al,s,u,p,m,N),!0}case"pointerover":{var $=y,j=$.pointerId;return dh.set(j,ph(dh.get(j)||null,s,u,p,m,$)),!0}case"gotpointercapture":{var q=y,ue=q.pointerId;return fh.set(ue,ph(fh.get(ue)||null,s,u,p,m,q)),!0}}return!1}function R6(s){var u=fc(s.target);if(u!==null){var p=ac(u);if(p!==null){var m=p.tag;if(m===D){var y=JF(p);if(y!==null){s.blockedOn=y,k6(s.priority,function(){C6(p)});return}}else if(m===h){var _=p.stateNode;if(Ab(_)){s.blockedOn=e6(p);return}}}}s.blockedOn=null}function H_e(s){for(var u=T6(),p={blockedOn:null,target:s,priority:u},m=0;m<ol.length&&uC(u,ol[m].priority);m++);ol.splice(m,0,p),m===0&&R6(p)}function Db(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;u.length>0;){var p=u[0],m=pC(s.domEventName,s.eventSystemFlags,p,s.nativeEvent);if(m===null){var y=s.nativeEvent,_=new y.constructor(y.type,y);vwe(_),y.target.dispatchEvent(_),ywe()}else{var k=ul(m);return k!==null&&lC(k),s.blockedOn=m,!1}u.shift()}return!0}function A6(s,u,p){Db(s)&&p.delete(u)}function W_e(){cC=!1,nl!==null&&Db(nl)&&(nl=null),rl!==null&&Db(rl)&&(rl=null),al!==null&&Db(al)&&(al=null),dh.forEach(A6),fh.forEach(A6)}function hh(s,u){s.blockedOn===u&&(s.blockedOn=null,cC||(cC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W_e)))}function mh(s){if(Nb.length>0){hh(Nb[0],s);for(var u=1;u<Nb.length;u++){var p=Nb[u];p.blockedOn===s&&(p.blockedOn=null)}}nl!==null&&hh(nl,s),rl!==null&&hh(rl,s),al!==null&&hh(al,s);var m=function(N){return hh(N,s)};dh.forEach(m),fh.forEach(m);for(var y=0;y<ol.length;y++){var _=ol[y];_.blockedOn===s&&(_.blockedOn=null)}for(;ol.length>0;){var k=ol[0];if(k.blockedOn!==null)break;R6(k),k.blockedOn===null&&ol.shift()}}var Md=n.ReactCurrentBatchConfig,dC=!0;function N6(s){dC=!!s}function q_e(){return dC}function G_e(s,u,p){var m=D6(u),y;switch(m){case Go:y=K_e;break;case lu:y=Y_e;break;case cu:default:y=fC;break}return y.bind(null,u,p,s)}function K_e(s,u,p,m){var y=Vs(),_=Md.transition;Md.transition=null;try{Sa(Go),fC(s,u,p,m)}finally{Sa(y),Md.transition=_}}function Y_e(s,u,p,m){var y=Vs(),_=Md.transition;Md.transition=null;try{Sa(lu),fC(s,u,p,m)}finally{Sa(y),Md.transition=_}}function fC(s,u,p,m){dC&&X_e(s,u,p,m)}function X_e(s,u,p,m){var y=pC(s,u,p,m);if(y===null){kC(s,u,m,Ob,p),I6(s,m);return}if(j_e(y,s,u,p,m)){m.stopPropagation();return}if(I6(s,m),u&Xp&&U_e(s)){for(;y!==null;){var _=ul(y);_!==null&&$_e(_);var k=pC(s,u,p,m);if(k===null&&kC(s,u,m,Ob,p),k===y)break;y=k}y!==null&&m.stopPropagation();return}kC(s,u,m,null,p)}var Ob=null;function pC(s,u,p,m){Ob=null;var y=bE(m),_=fc(y);if(_!==null){var k=ac(_);if(k===null)_=null;else{var N=k.tag;if(N===D){var $=JF(k);if($!==null)return $;_=null}else if(N===h){var j=k.stateNode;if(Ab(j))return e6(k);_=null}else k!==_&&(_=null)}}return Ob=_,null}function D6(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Go;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return lu;case"message":{var u=Uwe();switch(u){case _b:return Go;case ME:return lu;case oc:case Vwe:return cu;case $E:return Rb;default:return cu}}default:return cu}}function Q_e(s,u,p){return s.addEventListener(u,p,!1),p}function Z_e(s,u,p){return s.addEventListener(u,p,!0),p}function J_e(s,u,p,m){return s.addEventListener(u,p,{capture:!0,passive:m}),p}function exe(s,u,p,m){return s.addEventListener(u,p,{passive:m}),p}var gh=null,hC=null,vh=null;function txe(s){return gh=s,hC=M6(),!0}function nxe(){gh=null,hC=null,vh=null}function O6(){if(vh)return vh;var s,u=hC,p=u.length,m,y=M6(),_=y.length;for(s=0;s<p&&u[s]===y[s];s++);var k=p-s;for(m=1;m<=k&&u[p-m]===y[_-m];m++);var N=m>1?1-m:void 0;return vh=y.slice(s,N),vh}function M6(){return"value"in gh?gh.value:gh.textContent}function Mb(s){var u,p=s.keyCode;return"charCode"in s?(u=s.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),u>=32||u===13?u:0}function $b(){return!0}function $6(){return!1}function Ko(s){function u(p,m,y,_,k){this._reactName=p,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var N in s)if(s.hasOwnProperty(N)){var $=s[N];$?this[N]=$(_):this[N]=_[N]}var j=_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1;return j?this.isDefaultPrevented=$b:this.isDefaultPrevented=$6,this.isPropagationStopped=$6,this}return Xt(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$b)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$b)},persist:function(){},isPersistent:$b}),u}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mC=Ko($d),yh=Xt({},$d,{view:0,detail:0}),rxe=Ko(yh),gC,vC,bh;function axe(s){s!==bh&&(bh&&s.type==="mousemove"?(gC=s.screenX-bh.screenX,vC=s.screenY-bh.screenY):(gC=0,vC=0),bh=s)}var Fb=Xt({},yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bC,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(axe(s),gC)},movementY:function(s){return"movementY"in s?s.movementY:vC}}),F6=Ko(Fb),oxe=Xt({},Fb,{dataTransfer:0}),sxe=Ko(oxe),ixe=Xt({},yh,{relatedTarget:0}),yC=Ko(ixe),uxe=Xt({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),lxe=Ko(uxe),cxe=Xt({},$d,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),dxe=Ko(cxe),fxe=Xt({},$d,{data:0}),P6=Ko(fxe),pxe=P6,hxe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mxe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function gxe(s){if(s.key){var u=hxe[s.key]||s.key;if(u!=="Unidentified")return u}if(s.type==="keypress"){var p=Mb(s);return p===13?"Enter":String.fromCharCode(p)}return s.type==="keydown"||s.type==="keyup"?mxe[s.keyCode]||"Unidentified":""}var vxe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yxe(s){var u=this,p=u.nativeEvent;if(p.getModifierState)return p.getModifierState(s);var m=vxe[s];return m?!!p[m]:!1}function bC(s){return yxe}var bxe=Xt({},yh,{key:gxe,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bC,charCode:function(s){return s.type==="keypress"?Mb(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mb(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sxe=Ko(bxe),wxe=Xt({},Fb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L6=Ko(wxe),_xe=Xt({},yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bC}),xxe=Ko(_xe),Exe=Xt({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cxe=Ko(Exe),Txe=Xt({},Fb,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),kxe=Ko(Txe),Ixe=[9,13,27,32],B6=229,SC=Ze&&"CompositionEvent"in window,Sh=null;Ze&&"documentMode"in document&&(Sh=document.documentMode);var Rxe=Ze&&"TextEvent"in window&&!Sh,z6=Ze&&(!SC||Sh&&Sh>8&&Sh<=11),U6=32,V6=String.fromCharCode(U6);function Axe(){je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),je("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),je("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var j6=!1;function Nxe(s){return(s.ctrlKey||s.altKey||s.metaKey)&&!(s.ctrlKey&&s.altKey)}function Dxe(s){switch(s){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function Oxe(s,u){return s==="keydown"&&u.keyCode===B6}function H6(s,u){switch(s){case"keyup":return Ixe.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==B6;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W6(s){var u=s.detail;return typeof u=="object"&&"data"in u?u.data:null}function q6(s){return s.locale==="ko"}var Fd=!1;function Mxe(s,u,p,m,y){var _,k;if(SC?_=Dxe(u):Fd?H6(u,m)&&(_="onCompositionEnd"):Oxe(u,m)&&(_="onCompositionStart"),!_)return null;z6&&!q6(m)&&(!Fd&&_==="onCompositionStart"?Fd=txe(y):_==="onCompositionEnd"&&Fd&&(k=O6()));var N=Ub(p,_);if(N.length>0){var $=new P6(_,u,null,m,y);if(s.push({event:$,listeners:N}),k)$.data=k;else{var j=W6(m);j!==null&&($.data=j)}}}function $xe(s,u){switch(s){case"compositionend":return W6(u);case"keypress":var p=u.which;return p!==U6?null:(j6=!0,V6);case"textInput":var m=u.data;return m===V6&&j6?null:m;default:return null}}function Fxe(s,u){if(Fd){if(s==="compositionend"||!SC&&H6(s,u)){var p=O6();return nxe(),Fd=!1,p}return null}switch(s){case"paste":return null;case"keypress":if(!Nxe(u)){if(u.char&&u.char.length>1)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return z6&&!q6(u)?null:u.data;default:return null}}function Pxe(s,u,p,m,y){var _;if(Rxe?_=$xe(u,m):_=Fxe(u,m),!_)return null;var k=Ub(p,"onBeforeInput");if(k.length>0){var N=new pxe("onBeforeInput","beforeinput",null,m,y);s.push({event:N,listeners:k}),N.data=_}}function Lxe(s,u,p,m,y,_,k){Mxe(s,u,p,m,y),Pxe(s,u,p,m,y)}var Bxe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G6(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Bxe[s.type]:u==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function zxe(s){if(!Ze)return!1;var u="on"+s,p=u in document;if(!p){var m=document.createElement("div");m.setAttribute(u,"return;"),p=typeof m[u]=="function"}return p}function Uxe(){je("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function K6(s,u,p,m){HF(m);var y=Ub(u,"onChange");if(y.length>0){var _=new mC("onChange","change",null,p,m);s.push({event:_,listeners:y})}}var wh=null,_h=null;function Vxe(s){var u=s.nodeName&&s.nodeName.toLowerCase();return u==="select"||u==="input"&&s.type==="file"}function jxe(s){var u=[];K6(u,_h,s,bE(s)),KF(Hxe,u)}function Hxe(s){fP(s,0)}function Pb(s){var u=Vd(s);if(tu(u))return s}function Wxe(s,u){if(s==="change")return u}var Y6=!1;Ze&&(Y6=zxe("input")&&(!document.documentMode||document.documentMode>9));function qxe(s,u){wh=s,_h=u,wh.attachEvent("onpropertychange",Q6)}function X6(){wh&&(wh.detachEvent("onpropertychange",Q6),wh=null,_h=null)}function Q6(s){s.propertyName==="value"&&Pb(_h)&&jxe(s)}function Gxe(s,u,p){s==="focusin"?(X6(),qxe(u,p)):s==="focusout"&&X6()}function Kxe(s,u){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pb(_h)}function Yxe(s){var u=s.nodeName;return u&&u.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")}function Xxe(s,u){if(s==="click")return Pb(u)}function Qxe(s,u){if(s==="input"||s==="change")return Pb(u)}function Zxe(s){var u=s._wrapperState;!u||!u.controlled||s.type!=="number"||M(s,"number",s.value)}function Jxe(s,u,p,m,y,_,k){var N=p?Vd(p):window,$,j;if(Vxe(N)?$=Wxe:G6(N)?Y6?$=Qxe:($=Kxe,j=Gxe):Yxe(N)&&($=Xxe),$){var q=$(u,p);if(q){K6(s,q,m,y);return}}j&&j(u,N,p),u==="focusout"&&Zxe(N)}function eEe(){Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"])}function tEe(s,u,p,m,y,_,k){var N=u==="mouseover"||u==="pointerover",$=u==="mouseout"||u==="pointerout";if(N&&!bwe(m)){var j=m.relatedTarget||m.fromElement;if(j&&(fc(j)||Ph(j)))return}if(!(!$&&!N)){var q;if(y.window===y)q=y;else{var ue=y.ownerDocument;ue?q=ue.defaultView||ue.parentWindow:q=window}var ie,be;if($){var we=m.relatedTarget||m.toElement;if(ie=p,be=we?fc(we):null,be!==null){var Te=ac(be);(be!==Te||be.tag!==v&&be.tag!==b)&&(be=null)}}else ie=null,be=p;if(ie!==be){var ut=F6,kt="onMouseLeave",wt="onMouseEnter",yn="mouse";(u==="pointerout"||u==="pointerover")&&(ut=L6,kt="onPointerLeave",wt="onPointerEnter",yn="pointer");var ln=ie==null?q:Vd(ie),he=be==null?q:Vd(be),ke=new ut(kt,yn+"leave",ie,m,y);ke.target=ln,ke.relatedTarget=he;var me=null,Be=fc(y);if(Be===p){var lt=new ut(wt,yn+"enter",be,m,y);lt.target=he,lt.relatedTarget=ln,me=lt}CEe(s,ke,me,ie,be)}}}function nEe(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Yo=typeof Object.is=="function"?Object.is:nEe;function xh(s,u){if(Yo(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),m=Object.keys(u);if(p.length!==m.length)return!1;for(var y=0;y<p.length;y++){var _=p[y];if(!it.call(u,_)||!Yo(s[_],u[_]))return!1}return!0}function Z6(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function rEe(s){for(;s;){if(s.nextSibling)return s.nextSibling;s=s.parentNode}}function J6(s,u){for(var p=Z6(s),m=0,y=0;p;){if(p.nodeType===ru){if(y=m+p.textContent.length,m<=u&&y>=u)return{node:p,offset:u-m};m=y}p=Z6(rEe(p))}}function aEe(s){var u=s.ownerDocument,p=u&&u.defaultView||window,m=p.getSelection&&p.getSelection();if(!m||m.rangeCount===0)return null;var y=m.anchorNode,_=m.anchorOffset,k=m.focusNode,N=m.focusOffset;try{y.nodeType,k.nodeType}catch{return null}return oEe(s,y,_,k,N)}function oEe(s,u,p,m,y){var _=0,k=-1,N=-1,$=0,j=0,q=s,ue=null;e:for(;;){for(var ie=null;q===u&&(p===0||q.nodeType===ru)&&(k=_+p),q===m&&(y===0||q.nodeType===ru)&&(N=_+y),q.nodeType===ru&&(_+=q.nodeValue.length),(ie=q.firstChild)!==null;)ue=q,q=ie;for(;;){if(q===s)break e;if(ue===u&&++$===p&&(k=_),ue===m&&++j===y&&(N=_),(ie=q.nextSibling)!==null)break;q=ue,ue=q.parentNode}q=ie}return k===-1||N===-1?null:{start:k,end:N}}function sEe(s,u){var p=s.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var y=m.getSelection(),_=s.textContent.length,k=Math.min(u.start,_),N=u.end===void 0?k:Math.min(u.end,_);if(!y.extend&&k>N){var $=N;N=k,k=$}var j=J6(s,k),q=J6(s,N);if(j&&q){if(y.rangeCount===1&&y.anchorNode===j.node&&y.anchorOffset===j.offset&&y.focusNode===q.node&&y.focusOffset===q.offset)return;var ue=p.createRange();ue.setStart(j.node,j.offset),y.removeAllRanges(),k>N?(y.addRange(ue),y.extend(q.node,q.offset)):(ue.setEnd(q.node,q.offset),y.addRange(ue))}}}function eP(s){return s&&s.nodeType===ru}function tP(s,u){return!s||!u?!1:s===u?!0:eP(s)?!1:eP(u)?tP(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1}function iEe(s){return s&&s.ownerDocument&&tP(s.ownerDocument.documentElement,s)}function uEe(s){try{return typeof s.contentWindow.location.href=="string"}catch{return!1}}function nP(){for(var s=window,u=lr();u instanceof s.HTMLIFrameElement;){if(uEe(u))s=u.contentWindow;else return u;u=lr(s.document)}return u}function wC(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function lEe(){var s=nP();return{focusedElem:s,selectionRange:wC(s)?dEe(s):null}}function cEe(s){var u=nP(),p=s.focusedElem,m=s.selectionRange;if(u!==p&&iEe(p)){m!==null&&wC(p)&&fEe(p,m);for(var y=[],_=p;_=_.parentNode;)_.nodeType===To&&y.push({element:_,left:_.scrollLeft,top:_.scrollTop});typeof p.focus=="function"&&p.focus();for(var k=0;k<y.length;k++){var N=y[k];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}}function dEe(s){var u;return"selectionStart"in s?u={start:s.selectionStart,end:s.selectionEnd}:u=aEe(s),u||{start:0,end:0}}function fEe(s,u){var p=u.start,m=u.end;m===void 0&&(m=p),"selectionStart"in s?(s.selectionStart=p,s.selectionEnd=Math.min(m,s.value.length)):sEe(s,u)}var pEe=Ze&&"documentMode"in document&&document.documentMode<=11;function hEe(){je("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Pd=null,_C=null,Eh=null,xC=!1;function mEe(s){if("selectionStart"in s&&wC(s))return{start:s.selectionStart,end:s.selectionEnd};var u=s.ownerDocument&&s.ownerDocument.defaultView||window,p=u.getSelection();return{anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}}function gEe(s){return s.window===s?s.document:s.nodeType===au?s:s.ownerDocument}function rP(s,u,p){var m=gEe(p);if(!(xC||Pd==null||Pd!==lr(m))){var y=mEe(Pd);if(!Eh||!xh(Eh,y)){Eh=y;var _=Ub(_C,"onSelect");if(_.length>0){var k=new mC("onSelect","select",null,u,p);s.push({event:k,listeners:_}),k.target=Pd}}}}function vEe(s,u,p,m,y,_,k){var N=p?Vd(p):window;switch(u){case"focusin":(G6(N)||N.contentEditable==="true")&&(Pd=N,_C=p,Eh=null);break;case"focusout":Pd=null,_C=null,Eh=null;break;case"mousedown":xC=!0;break;case"contextmenu":case"mouseup":case"dragend":xC=!1,rP(s,m,y);break;case"selectionchange":if(pEe)break;case"keydown":case"keyup":rP(s,m,y)}}function Lb(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var Ld={animationend:Lb("Animation","AnimationEnd"),animationiteration:Lb("Animation","AnimationIteration"),animationstart:Lb("Animation","AnimationStart"),transitionend:Lb("Transition","TransitionEnd")},EC={},aP={};Ze&&(aP=document.createElement("div").style,"AnimationEvent"in window||(delete Ld.animationend.animation,delete Ld.animationiteration.animation,delete Ld.animationstart.animation),"TransitionEvent"in window||delete Ld.transitionend.transition);function Bb(s){if(EC[s])return EC[s];if(!Ld[s])return s;var u=Ld[s];for(var p in u)if(u.hasOwnProperty(p)&&p in aP)return EC[s]=u[p];return s}var oP=Bb("animationend"),sP=Bb("animationiteration"),iP=Bb("animationstart"),uP=Bb("transitionend"),lP=new Map,cP=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function sl(s,u){lP.set(s,u),je(u,[s])}function yEe(){for(var s=0;s<cP.length;s++){var u=cP[s],p=u.toLowerCase(),m=u[0].toUpperCase()+u.slice(1);sl(p,"on"+m)}sl(oP,"onAnimationEnd"),sl(sP,"onAnimationIteration"),sl(iP,"onAnimationStart"),sl("dblclick","onDoubleClick"),sl("focusin","onFocus"),sl("focusout","onBlur"),sl(uP,"onTransitionEnd")}function bEe(s,u,p,m,y,_,k){var N=lP.get(u);if(N!==void 0){var $=mC,j=u;switch(u){case"keypress":if(Mb(m)===0)return;case"keydown":case"keyup":$=Sxe;break;case"focusin":j="focus",$=yC;break;case"focusout":j="blur",$=yC;break;case"beforeblur":case"afterblur":$=yC;break;case"click":if(m.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=F6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=sxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=xxe;break;case oP:case sP:case iP:$=lxe;break;case uP:$=Cxe;break;case"scroll":$=rxe;break;case"wheel":$=kxe;break;case"copy":case"cut":case"paste":$=dxe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=L6;break}var q=(_&Xp)!==0;{var ue=!q&&u==="scroll",ie=xEe(p,N,m.type,q,ue);if(ie.length>0){var be=new $(N,j,null,m,y);s.push({event:be,listeners:ie})}}}}yEe(),eEe(),Uxe(),hEe(),Axe();function SEe(s,u,p,m,y,_,k){bEe(s,u,p,m,y,_);var N=(_&gwe)===0;N&&(tEe(s,u,p,m,y),Jxe(s,u,p,m,y),vEe(s,u,p,m,y),Lxe(s,u,p,m,y))}var Ch=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],CC=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Ch));function dP(s,u,p){var m=s.type||"unknown-event";s.currentTarget=p,Iwe(m,u,void 0,s),s.currentTarget=null}function wEe(s,u,p){var m;if(p)for(var y=u.length-1;y>=0;y--){var _=u[y],k=_.instance,N=_.currentTarget,$=_.listener;if(k!==m&&s.isPropagationStopped())return;dP(s,$,N),m=k}else for(var j=0;j<u.length;j++){var q=u[j],ue=q.instance,ie=q.currentTarget,be=q.listener;if(ue!==m&&s.isPropagationStopped())return;dP(s,be,ie),m=ue}}function fP(s,u){for(var p=(u&Xp)!==0,m=0;m<s.length;m++){var y=s[m],_=y.event,k=y.listeners;wEe(_,k,p)}Rwe()}function _Ee(s,u,p,m,y){var _=bE(p),k=[];SEe(k,s,m,p,_,u),fP(k,u)}function mr(s,u){CC.has(s)||i('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',s);var p=!1,m=ZCe(u),y=TEe(s);m.has(y)||(pP(u,s,yE,p),m.add(y))}function TC(s,u,p){CC.has(s)&&!u&&i('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',s);var m=0;u&&(m|=Xp),pP(p,s,m,u)}var zb="_reactListening"+Math.random().toString(36).slice(2);function Th(s){if(!s[zb]){s[zb]=!0,ze.forEach(function(p){p!=="selectionchange"&&(CC.has(p)||TC(p,!1,s),TC(p,!0,s))});var u=s.nodeType===au?s:s.ownerDocument;u!==null&&(u[zb]||(u[zb]=!0,TC("selectionchange",!1,u)))}}function pP(s,u,p,m,y){var _=G_e(s,u,p),k=void 0;_E&&(u==="touchstart"||u==="touchmove"||u==="wheel")&&(k=!0),s=s,m?k!==void 0?J_e(s,u,_,k):Z_e(s,u,_):k!==void 0?exe(s,u,_,k):Q_e(s,u,_)}function hP(s,u){return s===u||s.nodeType===Gr&&s.parentNode===u}function kC(s,u,p,m,y){var _=m;if((u&VF)===0&&(u&yE)===0){var k=y;if(m!==null){var N=m;e:for(;;){if(N===null)return;var $=N.tag;if($===h||$===g){var j=N.stateNode.containerInfo;if(hP(j,k))break;if($===g)for(var q=N.return;q!==null;){var ue=q.tag;if(ue===h||ue===g){var ie=q.stateNode.containerInfo;if(hP(ie,k))return}q=q.return}for(;j!==null;){var be=fc(j);if(be===null)return;var we=be.tag;if(we===v||we===b){N=_=be;continue e}j=j.parentNode}}N=N.return}}}KF(function(){return _Ee(s,u,p,_)})}function kh(s,u,p){return{instance:s,listener:u,currentTarget:p}}function xEe(s,u,p,m,y,_){for(var k=u!==null?u+"Capture":null,N=m?k:u,$=[],j=s,q=null;j!==null;){var ue=j,ie=ue.stateNode,be=ue.tag;if(be===v&&ie!==null&&(q=ie,N!==null)){var we=Zp(j,N);we!=null&&$.push(kh(j,we,q))}if(y)break;j=j.return}return $}function Ub(s,u){for(var p=u+"Capture",m=[],y=s;y!==null;){var _=y,k=_.stateNode,N=_.tag;if(N===v&&k!==null){var $=k,j=Zp(y,p);j!=null&&m.unshift(kh(y,j,$));var q=Zp(y,u);q!=null&&m.push(kh(y,q,$))}y=y.return}return m}function Bd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==v);return s||null}function EEe(s,u){for(var p=s,m=u,y=0,_=p;_;_=Bd(_))y++;for(var k=0,N=m;N;N=Bd(N))k++;for(;y-k>0;)p=Bd(p),y--;for(;k-y>0;)m=Bd(m),k--;for(var $=y;$--;){if(p===m||m!==null&&p===m.alternate)return p;p=Bd(p),m=Bd(m)}return null}function mP(s,u,p,m,y){for(var _=u._reactName,k=[],N=p;N!==null&&N!==m;){var $=N,j=$.alternate,q=$.stateNode,ue=$.tag;if(j!==null&&j===m)break;if(ue===v&&q!==null){var ie=q;if(y){var be=Zp(N,_);be!=null&&k.unshift(kh(N,be,ie))}else if(!y){var we=Zp(N,_);we!=null&&k.push(kh(N,we,ie))}}N=N.return}k.length!==0&&s.push({event:u,listeners:k})}function CEe(s,u,p,m,y){var _=m&&y?EEe(m,y):null;m!==null&&mP(s,u,m,_,!1),y!==null&&p!==null&&mP(s,p,y,_,!0)}function TEe(s,u){return s+"__bubble"}var ko=!1,Ih="dangerouslySetInnerHTML",Vb="suppressContentEditableWarning",il="suppressHydrationWarning",gP="autoFocus",cc="children",dc="style",jb="__html",IC,Hb,Rh,vP,Wb,yP,bP;IC={dialog:!0,webview:!0},Hb=function(s,u){lwe(s,u),cwe(s,u),mwe(s,u,{registrationNameDependencies:Ve,possibleRegistrationNames:Le})},yP=Ze&&!document.documentMode,Rh=function(s,u,p){if(!ko){var m=qb(p),y=qb(u);y!==m&&(ko=!0,i("Prop `%s` did not match. Server: %s Client: %s",s,JSON.stringify(y),JSON.stringify(m)))}},vP=function(s){if(!ko){ko=!0;var u=[];s.forEach(function(p){u.push(p)}),i("Extra attributes from the server: %s",u)}},Wb=function(s,u){u===!1?i("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",s,s,s):i("Expected `%s` listener to be a function, instead got a value of `%s` type.",s,typeof u)},bP=function(s,u){var p=s.namespaceURI===nu?s.ownerDocument.createElement(s.tagName):s.ownerDocument.createElementNS(s.namespaceURI,s.tagName);return p.innerHTML=u,p.innerHTML};var kEe=/\r\n?/g,IEe=/\u0000|\uFFFD/g;function qb(s){Vt(s);var u=typeof s=="string"?s:""+s;return u.replace(kEe,`
`).replace(IEe,"")}function Gb(s,u,p,m){var y=qb(u),_=qb(s);if(_!==y&&(m&&(ko||(ko=!0,i('Text content did not match. Server: "%s" Client: "%s"',_,y))),p&&oe))throw new Error("Text content does not match server-rendered HTML.")}function SP(s){return s.nodeType===au?s:s.ownerDocument}function REe(){}function Kb(s){s.onclick=REe}function AEe(s,u,p,m,y){for(var _ in m)if(m.hasOwnProperty(_)){var k=m[_];if(_===dc)k&&Object.freeze(k),FF(u,k);else if(_===Ih){var N=k?k[jb]:void 0;N!=null&&NF(u,N)}else if(_===cc)if(typeof k=="string"){var $=s!=="textarea"||k!=="";$&&vb(u,k)}else typeof k=="number"&&vb(u,""+k);else _===Vb||_===il||_===gP||(Ve.hasOwnProperty(_)?k!=null&&(typeof k!="function"&&Wb(_,k),_==="onScroll"&&mr("scroll",u)):k!=null&&nn(u,_,k,y))}}function NEe(s,u,p,m){for(var y=0;y<u.length;y+=2){var _=u[y],k=u[y+1];_===dc?FF(s,k):_===Ih?NF(s,k):_===cc?vb(s,k):nn(s,_,k,m)}}function DEe(s,u,p,m){var y,_=SP(p),k,N=m;if(N===nu&&(N=fE(s)),N===nu){if(y=Jl(s,u),!y&&s!==s.toLowerCase()&&i("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",s),s==="script"){var $=_.createElement("div");$.innerHTML="<script><\/script>";var j=$.firstChild;k=$.removeChild(j)}else if(typeof u.is=="string")k=_.createElement(s,{is:u.is});else if(k=_.createElement(s),s==="select"){var q=k;u.multiple?q.multiple=!0:u.size&&(q.size=u.size)}}else k=_.createElementNS(N,s);return N===nu&&!y&&Object.prototype.toString.call(k)==="[object HTMLUnknownElement]"&&!it.call(IC,s)&&(IC[s]=!0,i("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",s)),k}function OEe(s,u){return SP(u).createTextNode(s)}function MEe(s,u,p,m){var y=Jl(u,p);Hb(u,p);var _;switch(u){case"dialog":mr("cancel",s),mr("close",s),_=p;break;case"iframe":case"object":case"embed":mr("load",s),_=p;break;case"video":case"audio":for(var k=0;k<Ch.length;k++)mr(Ch[k],s);_=p;break;case"source":mr("error",s),_=p;break;case"img":case"image":case"link":mr("error",s),mr("load",s),_=p;break;case"details":mr("toggle",s),_=p;break;case"input":yd(s,p),_=mi(s,p),mr("invalid",s);break;case"option":Q(s,p),_=p;break;case"select":Un(s,p),_=un(s,p),mr("invalid",s);break;case"textarea":Or(s,p),_=wn(s,p),mr("invalid",s);break;default:_=p}switch(vE(u,_),AEe(u,s,m,_,y),u){case"input":jo(s),Se(s,p,!1);break;case"textarea":jo(s),AF(s);break;case"option":fe(s,p);break;case"select":qn(s,p);break;default:typeof _.onClick=="function"&&Kb(s);break}}function $Ee(s,u,p,m,y){Hb(u,m);var _=null,k,N;switch(u){case"input":k=mi(s,p),N=mi(s,m),_=[];break;case"select":k=un(s,p),N=un(s,m),_=[];break;case"textarea":k=wn(s,p),N=wn(s,m),_=[];break;default:k=p,N=m,typeof k.onClick!="function"&&typeof N.onClick=="function"&&Kb(s);break}vE(u,N);var $,j,q=null;for($ in k)if(!(N.hasOwnProperty($)||!k.hasOwnProperty($)||k[$]==null))if($===dc){var ue=k[$];for(j in ue)ue.hasOwnProperty(j)&&(q||(q={}),q[j]="")}else $===Ih||$===cc||$===Vb||$===il||$===gP||(Ve.hasOwnProperty($)?_||(_=[]):(_=_||[]).push($,null));for($ in N){var ie=N[$],be=k!=null?k[$]:void 0;if(!(!N.hasOwnProperty($)||ie===be||ie==null&&be==null))if($===dc)if(ie&&Object.freeze(ie),be){for(j in be)be.hasOwnProperty(j)&&(!ie||!ie.hasOwnProperty(j))&&(q||(q={}),q[j]="");for(j in ie)ie.hasOwnProperty(j)&&be[j]!==ie[j]&&(q||(q={}),q[j]=ie[j])}else q||(_||(_=[]),_.push($,q)),q=ie;else if($===Ih){var we=ie?ie[jb]:void 0,Te=be?be[jb]:void 0;we!=null&&Te!==we&&(_=_||[]).push($,we)}else $===cc?(typeof ie=="string"||typeof ie=="number")&&(_=_||[]).push($,""+ie):$===Vb||$===il||(Ve.hasOwnProperty($)?(ie!=null&&(typeof ie!="function"&&Wb($,ie),$==="onScroll"&&mr("scroll",s)),!_&&be!==ie&&(_=[])):(_=_||[]).push($,ie))}return q&&(twe(q,N[dc]),(_=_||[]).push(dc,q)),_}function FEe(s,u,p,m,y){p==="input"&&y.type==="radio"&&y.name!=null&&P(s,y);var _=Jl(p,m),k=Jl(p,y);switch(NEe(s,u,_,k),p){case"input":te(s,y);break;case"textarea":zs(s,y);break;case"select":Dr(s,y);break}}function PEe(s){{var u=s.toLowerCase();return yb.hasOwnProperty(u)&&yb[u]||null}}function LEe(s,u,p,m,y,_,k){var N,$;switch(N=Jl(u,p),Hb(u,p),u){case"dialog":mr("cancel",s),mr("close",s);break;case"iframe":case"object":case"embed":mr("load",s);break;case"video":case"audio":for(var j=0;j<Ch.length;j++)mr(Ch[j],s);break;case"source":mr("error",s);break;case"img":case"image":case"link":mr("error",s),mr("load",s);break;case"details":mr("toggle",s);break;case"input":yd(s,p),mr("invalid",s);break;case"option":Q(s,p);break;case"select":Un(s,p),mr("invalid",s);break;case"textarea":Or(s,p),mr("invalid",s);break}vE(u,p);{$=new Set;for(var q=s.attributes,ue=0;ue<q.length;ue++){var ie=q[ue].name.toLowerCase();switch(ie){case"value":break;case"checked":break;case"selected":break;default:$.add(q[ue].name)}}}var be=null;for(var we in p)if(p.hasOwnProperty(we)){var Te=p[we];if(we===cc)typeof Te=="string"?s.textContent!==Te&&(p[il]!==!0&&Gb(s.textContent,Te,_,k),be=[cc,Te]):typeof Te=="number"&&s.textContent!==""+Te&&(p[il]!==!0&&Gb(s.textContent,Te,_,k),be=[cc,""+Te]);else if(Ve.hasOwnProperty(we))Te!=null&&(typeof Te!="function"&&Wb(we,Te),we==="onScroll"&&mr("scroll",s));else if(k&&typeof N=="boolean"){var ut=void 0,kt=kn(we);if(p[il]!==!0){if(!(we===Vb||we===il||we==="value"||we==="checked"||we==="selected")){if(we===Ih){var wt=s.innerHTML,yn=Te?Te[jb]:void 0;if(yn!=null){var ln=bP(s,yn);ln!==wt&&Rh(we,wt,ln)}}else if(we===dc){if($.delete(we),yP){var he=JSe(Te);ut=s.getAttribute("style"),he!==ut&&Rh(we,ut,he)}}else if(N&&!ve)$.delete(we.toLowerCase()),ut=Ge(s,we,Te),Te!==ut&&Rh(we,ut,Te);else if(!Bt(we,kt,N)&&!br(we,Te,kt,N)){var ke=!1;if(kt!==null)$.delete(kt.attributeName),ut=gt(s,we,Te,kt);else{var me=m;if(me===nu&&(me=fE(u)),me===nu)$.delete(we.toLowerCase());else{var Be=PEe(we);Be!==null&&Be!==we&&(ke=!0,$.delete(Be)),$.delete(we)}ut=Ge(s,we,Te)}var lt=ve;!lt&&Te!==ut&&!ke&&Rh(we,ut,Te)}}}}}switch(k&&$.size>0&&p[il]!==!0&&vP($),u){case"input":jo(s),Se(s,p,!0);break;case"textarea":jo(s),AF(s);break;case"select":case"option":break;default:typeof p.onClick=="function"&&Kb(s);break}return be}function BEe(s,u,p){var m=s.nodeValue!==u;return m}function RC(s,u){{if(ko)return;ko=!0,i("Did not expect server HTML to contain a <%s> in <%s>.",u.nodeName.toLowerCase(),s.nodeName.toLowerCase())}}function AC(s,u){{if(ko)return;ko=!0,i('Did not expect server HTML to contain the text node "%s" in <%s>.',u.nodeValue,s.nodeName.toLowerCase())}}function NC(s,u,p){{if(ko)return;ko=!0,i("Expected server HTML to contain a matching <%s> in <%s>.",u,s.nodeName.toLowerCase())}}function DC(s,u){{if(u===""||ko)return;ko=!0,i('Expected server HTML to contain a matching text node for "%s" in <%s>.',u,s.nodeName.toLowerCase())}}function zEe(s,u,p){switch(u){case"input":S(s,p);return;case"textarea":MSe(s,p);return;case"select":qa(s,p);return}}var Ah=function(){},Nh=function(){};{var UEe=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],wP=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],VEe=wP.concat(["button"]),jEe=["dd","dt","li","option","optgroup","p","rp","rt"],_P={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Nh=function(s,u){var p=Xt({},s||_P),m={tag:u};return wP.indexOf(u)!==-1&&(p.aTagInScope=null,p.buttonTagInScope=null,p.nobrTagInScope=null),VEe.indexOf(u)!==-1&&(p.pTagInButtonScope=null),UEe.indexOf(u)!==-1&&u!=="address"&&u!=="div"&&u!=="p"&&(p.listItemTagAutoclosing=null,p.dlItemTagAutoclosing=null),p.current=m,u==="form"&&(p.formTag=m),u==="a"&&(p.aTagInScope=m),u==="button"&&(p.buttonTagInScope=m),u==="nobr"&&(p.nobrTagInScope=m),u==="p"&&(p.pTagInButtonScope=m),u==="li"&&(p.listItemTagAutoclosing=m),(u==="dd"||u==="dt")&&(p.dlItemTagAutoclosing=m),p};var HEe=function(s,u){switch(u){case"select":return s==="option"||s==="optgroup"||s==="#text";case"optgroup":return s==="option"||s==="#text";case"option":return s==="#text";case"tr":return s==="th"||s==="td"||s==="style"||s==="script"||s==="template";case"tbody":case"thead":case"tfoot":return s==="tr"||s==="style"||s==="script"||s==="template";case"colgroup":return s==="col"||s==="template";case"table":return s==="caption"||s==="colgroup"||s==="tbody"||s==="tfoot"||s==="thead"||s==="style"||s==="script"||s==="template";case"head":return s==="base"||s==="basefont"||s==="bgsound"||s==="link"||s==="meta"||s==="title"||s==="noscript"||s==="noframes"||s==="style"||s==="script"||s==="template";case"html":return s==="head"||s==="body"||s==="frameset";case"frameset":return s==="frame";case"#document":return s==="html"}switch(s){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return u!=="h1"&&u!=="h2"&&u!=="h3"&&u!=="h4"&&u!=="h5"&&u!=="h6";case"rp":case"rt":return jEe.indexOf(u)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return u==null}return!0},WEe=function(s,u){switch(s){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return u.pTagInButtonScope;case"form":return u.formTag||u.pTagInButtonScope;case"li":return u.listItemTagAutoclosing;case"dd":case"dt":return u.dlItemTagAutoclosing;case"button":return u.buttonTagInScope;case"a":return u.aTagInScope;case"nobr":return u.nobrTagInScope}return null},xP={};Ah=function(s,u,p){p=p||_P;var m=p.current,y=m&&m.tag;u!=null&&(s!=null&&i("validateDOMNesting: when childText is passed, childTag should be null"),s="#text");var _=HEe(s,y)?null:m,k=_?null:WEe(s,p),N=_||k;if(N){var $=N.tag,j=!!_+"|"+s+"|"+$;if(!xP[j]){xP[j]=!0;var q=s,ue="";if(s==="#text"?/\S/.test(u)?q="Text nodes":(q="Whitespace text nodes",ue=" Make sure you don't have any extra whitespace between tags on each line of your source code."):q="<"+s+">",_){var ie="";$==="table"&&s==="tr"&&(ie+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),i("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",q,$,ue,ie)}else i("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",q,$)}}}}var Yb="suppressHydrationWarning",Xb="$",Qb="/$",Dh="$?",Oh="$!",qEe="style",OC=null,MC=null;function GEe(s){var u,p,m=s.nodeType;switch(m){case au:case hE:{u=m===au?"#document":"#fragment";var y=s.documentElement;p=y?y.namespaceURI:pE(null,"");break}default:{var _=m===Gr?s.parentNode:s,k=_.namespaceURI||null;u=_.tagName,p=pE(k,u);break}}{var N=u.toLowerCase(),$=Nh(null,N);return{namespace:p,ancestorInfo:$}}}function KEe(s,u,p){{var m=s,y=pE(m.namespace,u),_=Nh(m.ancestorInfo,u);return{namespace:y,ancestorInfo:_}}}function wAe(s){return s}function YEe(s){OC=q_e(),MC=lEe();var u=null;return N6(!1),u}function XEe(s){cEe(MC),N6(OC),OC=null,MC=null}function QEe(s,u,p,m,y){var _;{var k=m;if(Ah(s,null,k.ancestorInfo),typeof u.children=="string"||typeof u.children=="number"){var N=""+u.children,$=Nh(k.ancestorInfo,s);Ah(null,N,$)}_=k.namespace}var j=DEe(s,u,p,_);return Fh(y,j),VC(j,u),j}function ZEe(s,u){s.appendChild(u)}function JEe(s,u,p,m,y){switch(MEe(s,u,p,m),u){case"button":case"input":case"select":case"textarea":return!!p.autoFocus;case"img":return!0;default:return!1}}function eCe(s,u,p,m,y,_){{var k=_;if(typeof m.children!=typeof p.children&&(typeof m.children=="string"||typeof m.children=="number")){var N=""+m.children,$=Nh(k.ancestorInfo,u);Ah(null,N,$)}}return $Ee(s,u,p,m)}function $C(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}function tCe(s,u,p,m){{var y=p;Ah(null,s,y.ancestorInfo)}var _=OEe(s,u);return Fh(m,_),_}function nCe(){var s=window.event;return s===void 0?cu:D6(s.type)}var FC=typeof setTimeout=="function"?setTimeout:void 0,rCe=typeof clearTimeout=="function"?clearTimeout:void 0,PC=-1,EP=typeof Promise=="function"?Promise:void 0,aCe=typeof queueMicrotask=="function"?queueMicrotask:typeof EP<"u"?function(s){return EP.resolve(null).then(s).catch(oCe)}:FC;function oCe(s){setTimeout(function(){throw s})}function sCe(s,u,p,m){switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&s.focus();return;case"img":{p.src&&(s.src=p.src);return}}}function iCe(s,u,p,m,y,_){FEe(s,u,p,m,y),VC(s,y)}function CP(s){vb(s,"")}function uCe(s,u,p){s.nodeValue=p}function lCe(s,u){s.appendChild(u)}function cCe(s,u){var p;s.nodeType===Gr?(p=s.parentNode,p.insertBefore(u,s)):(p=s,p.appendChild(u));var m=s._reactRootContainer;m==null&&p.onclick===null&&Kb(p)}function dCe(s,u,p){s.insertBefore(u,p)}function fCe(s,u,p){s.nodeType===Gr?s.parentNode.insertBefore(u,p):s.insertBefore(u,p)}function pCe(s,u){s.removeChild(u)}function hCe(s,u){s.nodeType===Gr?s.parentNode.removeChild(u):s.removeChild(u)}function LC(s,u){var p=u,m=0;do{var y=p.nextSibling;if(s.removeChild(p),y&&y.nodeType===Gr){var _=y.data;if(_===Qb)if(m===0){s.removeChild(y),mh(u);return}else m--;else(_===Xb||_===Dh||_===Oh)&&m++}p=y}while(p);mh(u)}function mCe(s,u){s.nodeType===Gr?LC(s.parentNode,u):s.nodeType===To&&LC(s,u),mh(s)}function gCe(s){s=s;var u=s.style;typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"}function vCe(s){s.nodeValue=""}function yCe(s,u){s=s;var p=u[qEe],m=p!=null&&p.hasOwnProperty("display")?p.display:null;s.style.display=mE("display",m)}function bCe(s,u){s.nodeValue=u}function SCe(s){s.nodeType===To?s.textContent="":s.nodeType===au&&s.documentElement&&s.removeChild(s.documentElement)}function wCe(s,u,p){return s.nodeType!==To||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s}function _Ce(s,u){return u===""||s.nodeType!==ru?null:s}function xCe(s){return s.nodeType!==Gr?null:s}function TP(s){return s.data===Dh}function BC(s){return s.data===Oh}function ECe(s){var u=s.nextSibling&&s.nextSibling.dataset,p,m,y;return u&&(p=u.dgst,m=u.msg,y=u.stck),{message:m,digest:p,stack:y}}function CCe(s,u){s._reactRetry=u}function Zb(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===To||u===ru)break;if(u===Gr){var p=s.data;if(p===Xb||p===Oh||p===Dh)break;if(p===Qb)return null}}return s}function Mh(s){return Zb(s.nextSibling)}function TCe(s){return Zb(s.firstChild)}function kCe(s){return Zb(s.firstChild)}function ICe(s){return Zb(s.nextSibling)}function RCe(s,u,p,m,y,_,k){Fh(_,s),VC(s,p);var N;{var $=y;N=$.namespace}var j=(_.mode&gn)!==Dt;return LEe(s,u,p,N,m,j,k)}function ACe(s,u,p,m){return Fh(p,s),p.mode&gn,BEe(s,u)}function NCe(s,u){Fh(u,s)}function DCe(s){for(var u=s.nextSibling,p=0;u;){if(u.nodeType===Gr){var m=u.data;if(m===Qb){if(p===0)return Mh(u);p--}else(m===Xb||m===Oh||m===Dh)&&p++}u=u.nextSibling}return null}function kP(s){for(var u=s.previousSibling,p=0;u;){if(u.nodeType===Gr){var m=u.data;if(m===Xb||m===Oh||m===Dh){if(p===0)return u;p--}else m===Qb&&p++}u=u.previousSibling}return null}function OCe(s){mh(s)}function MCe(s){mh(s)}function $Ce(s){return s!=="head"&&s!=="body"}function FCe(s,u,p,m){var y=!0;Gb(u.nodeValue,p,m,y)}function PCe(s,u,p,m,y,_){if(u[Yb]!==!0){var k=!0;Gb(m.nodeValue,y,_,k)}}function LCe(s,u){u.nodeType===To?RC(s,u):u.nodeType===Gr||AC(s,u)}function BCe(s,u){{var p=s.parentNode;p!==null&&(u.nodeType===To?RC(p,u):u.nodeType===Gr||AC(p,u))}}function zCe(s,u,p,m,y){(y||u[Yb]!==!0)&&(m.nodeType===To?RC(p,m):m.nodeType===Gr||AC(p,m))}function UCe(s,u,p){NC(s,u)}function VCe(s,u){DC(s,u)}function jCe(s,u,p){{var m=s.parentNode;m!==null&&NC(m,u)}}function HCe(s,u){{var p=s.parentNode;p!==null&&DC(p,u)}}function WCe(s,u,p,m,y,_){(_||u[Yb]!==!0)&&NC(p,m)}function qCe(s,u,p,m,y){(y||u[Yb]!==!0)&&DC(p,m)}function GCe(s){i("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",s.nodeName.toLowerCase())}function KCe(s){Th(s)}var zd=Math.random().toString(36).slice(2),Ud="__reactFiber$"+zd,zC="__reactProps$"+zd,$h="__reactContainer$"+zd,UC="__reactEvents$"+zd,YCe="__reactListeners$"+zd,XCe="__reactHandles$"+zd;function QCe(s){delete s[Ud],delete s[zC],delete s[UC],delete s[YCe],delete s[XCe]}function Fh(s,u){u[Ud]=s}function Jb(s,u){u[$h]=s}function IP(s){s[$h]=null}function Ph(s){return!!s[$h]}function fc(s){var u=s[Ud];if(u)return u;for(var p=s.parentNode;p;){if(u=p[$h]||p[Ud],u){var m=u.alternate;if(u.child!==null||m!==null&&m.child!==null)for(var y=kP(s);y!==null;){var _=y[Ud];if(_)return _;y=kP(y)}return u}s=p,p=s.parentNode}return null}function ul(s){var u=s[Ud]||s[$h];return u&&(u.tag===v||u.tag===b||u.tag===D||u.tag===h)?u:null}function Vd(s){if(s.tag===v||s.tag===b)return s.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function e0(s){return s[zC]||null}function VC(s,u){s[zC]=u}function ZCe(s){var u=s[UC];return u===void 0&&(u=s[UC]=new Set),u}var RP={},AP=n.ReactDebugCurrentFrame;function t0(s){if(s){var u=s._owner,p=ja(s.type,s._source,u?u.type:null);AP.setExtraStackFrame(p)}else AP.setExtraStackFrame(null)}function js(s,u,p,m,y){{var _=Function.call.bind(it);for(var k in s)if(_(s,k)){var N=void 0;try{if(typeof s[k]!="function"){var $=Error((m||"React class")+": "+p+" type `"+k+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[k]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw $.name="Invariant Violation",$}N=s[k](u,k,m,p,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(j){N=j}N&&!(N instanceof Error)&&(t0(y),i("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",m||"React class",p,k,typeof N),t0(null)),N instanceof Error&&!(N.message in RP)&&(RP[N.message]=!0,t0(y),i("Failed %s type: %s",p,N.message),t0(null))}}}var jC=[],n0;n0=[];var du=-1;function ll(s){return{current:s}}function Ka(s,u){if(du<0){i("Unexpected pop.");return}u!==n0[du]&&i("Unexpected Fiber popped."),s.current=jC[du],jC[du]=null,n0[du]=null,du--}function Ya(s,u,p){du++,jC[du]=s.current,n0[du]=p,s.current=u}var HC;HC={};var Xo={};Object.freeze(Xo);var fu=ll(Xo),bi=ll(!1),WC=Xo;function jd(s,u,p){return p&&Si(u)?WC:fu.current}function NP(s,u,p){{var m=s.stateNode;m.__reactInternalMemoizedUnmaskedChildContext=u,m.__reactInternalMemoizedMaskedChildContext=p}}function Hd(s,u){{var p=s.type,m=p.contextTypes;if(!m)return Xo;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var _={};for(var k in m)_[k]=u[k];{var N=At(s)||"Unknown";js(m,_,"context",N)}return y&&NP(s,u,_),_}}function r0(){return bi.current}function Si(s){{var u=s.childContextTypes;return u!=null}}function a0(s){Ka(bi,s),Ka(fu,s)}function qC(s){Ka(bi,s),Ka(fu,s)}function DP(s,u,p){{if(fu.current!==Xo)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ya(fu,u,s),Ya(bi,p,s)}}function OP(s,u,p){{var m=s.stateNode,y=u.childContextTypes;if(typeof m.getChildContext!="function"){{var _=At(s)||"Unknown";HC[_]||(HC[_]=!0,i("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",_,_))}return p}var k=m.getChildContext();for(var N in k)if(!(N in y))throw new Error((At(s)||"Unknown")+'.getChildContext(): key "'+N+'" is not defined in childContextTypes.');{var $=At(s)||"Unknown";js(y,k,"child context",$)}return Xt({},p,k)}}function o0(s){{var u=s.stateNode,p=u&&u.__reactInternalMemoizedMergedChildContext||Xo;return WC=fu.current,Ya(fu,p,s),Ya(bi,bi.current,s),!0}}function MP(s,u,p){{var m=s.stateNode;if(!m)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(p){var y=OP(s,u,WC);m.__reactInternalMemoizedMergedChildContext=y,Ka(bi,s),Ka(fu,s),Ya(fu,y,s),Ya(bi,p,s)}else Ka(bi,s),Ya(bi,p,s)}}function JCe(s){{if(!$we(s)||s.tag!==f)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=s;do{switch(u.tag){case h:return u.stateNode.context;case f:{var p=u.type;if(Si(p))return u.stateNode.__reactInternalMemoizedMergedChildContext;break}}u=u.return}while(u!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var cl=0,s0=1,pu=null,GC=!1,KC=!1;function $P(s){pu===null?pu=[s]:pu.push(s)}function eTe(s){GC=!0,$P(s)}function FP(){GC&&dl()}function dl(){if(!KC&&pu!==null){KC=!0;var s=0,u=Vs();try{var p=!0,m=pu;for(Sa(Go);s<m.length;s++){var y=m[s];do y=y(p);while(y!==null)}pu=null,GC=!1}catch(_){throw pu!==null&&(pu=pu.slice(s+1)),s6(_b,dl),_}finally{Sa(u),KC=!1}}return null}var Wd=[],qd=0,i0=null,u0=0,ps=[],hs=0,pc=null,hu=1,mu="";function tTe(s){return mc(),(s.flags&ZF)!==Nt}function nTe(s){return mc(),u0}function rTe(){var s=mu,u=hu,p=u&~aTe(u);return p.toString(32)+s}function hc(s,u){mc(),Wd[qd++]=u0,Wd[qd++]=i0,i0=s,u0=u}function PP(s,u,p){mc(),ps[hs++]=hu,ps[hs++]=mu,ps[hs++]=pc,pc=s;var m=hu,y=mu,_=l0(m)-1,k=m&~(1<<_),N=p+1,$=l0(u)+_;if($>30){var j=_-_%5,q=(1<<j)-1,ue=(k&q).toString(32),ie=k>>j,be=_-j,we=l0(u)+be,Te=N<<be,ut=Te|ie,kt=ue+y;hu=1<<we|ut,mu=kt}else{var wt=N<<_,yn=wt|k,ln=y;hu=1<<$|yn,mu=ln}}function YC(s){mc();var u=s.return;if(u!==null){var p=1,m=0;hc(s,p),PP(s,p,m)}}function l0(s){return 32-f6(s)}function aTe(s){return 1<<l0(s)-1}function XC(s){for(;s===i0;)i0=Wd[--qd],Wd[qd]=null,u0=Wd[--qd],Wd[qd]=null;for(;s===pc;)pc=ps[--hs],ps[hs]=null,mu=ps[--hs],ps[hs]=null,hu=ps[--hs],ps[hs]=null}function oTe(){return mc(),pc!==null?{id:hu,overflow:mu}:null}function sTe(s,u){mc(),ps[hs++]=hu,ps[hs++]=mu,ps[hs++]=pc,hu=u.id,mu=u.overflow,pc=s}function mc(){Ia()||i("Expected to be hydrating. This is a bug in React. Please file an issue.")}var ka=null,ms=null,Hs=!1,gc=!1,fl=null;function iTe(){Hs&&i("We should not be hydrating here. This is a bug in React. Please file a bug.")}function LP(){gc=!0}function uTe(){return gc}function lTe(s){var u=s.stateNode.containerInfo;return ms=kCe(u),ka=s,Hs=!0,fl=null,gc=!1,!0}function cTe(s,u,p){return ms=ICe(u),ka=s,Hs=!0,fl=null,gc=!1,p!==null&&sTe(s,p),!0}function BP(s,u){switch(s.tag){case h:{LCe(s.stateNode.containerInfo,u);break}case v:{var p=(s.mode&gn)!==Dt;zCe(s.type,s.memoizedProps,s.stateNode,u,p);break}case D:{var m=s.memoizedState;m.dehydrated!==null&&BCe(m.dehydrated,u);break}}}function zP(s,u){BP(s,u);var p=pIe();p.stateNode=u,p.return=s;var m=s.deletions;m===null?(s.deletions=[p],s.flags|=ec):m.push(p)}function QC(s,u){{if(gc)return;switch(s.tag){case h:{var p=s.stateNode.containerInfo;switch(u.tag){case v:var m=u.type;u.pendingProps,UCe(p,m);break;case b:var y=u.pendingProps;VCe(p,y);break}break}case v:{var _=s.type,k=s.memoizedProps,N=s.stateNode;switch(u.tag){case v:{var $=u.type,j=u.pendingProps,q=(s.mode&gn)!==Dt;WCe(_,k,N,$,j,q);break}case b:{var ue=u.pendingProps,ie=(s.mode&gn)!==Dt;qCe(_,k,N,ue,ie);break}}break}case D:{var be=s.memoizedState,we=be.dehydrated;if(we!==null)switch(u.tag){case v:var Te=u.type;u.pendingProps,jCe(we,Te);break;case b:var ut=u.pendingProps;HCe(we,ut);break}break}default:return}}}function UP(s,u){u.flags=u.flags&~su|Kr,QC(s,u)}function VP(s,u){switch(s.tag){case v:{var p=s.type;s.pendingProps;var m=wCe(u,p);return m!==null?(s.stateNode=m,ka=s,ms=TCe(m),!0):!1}case b:{var y=s.pendingProps,_=_Ce(u,y);return _!==null?(s.stateNode=_,ka=s,ms=null,!0):!1}case D:{var k=xCe(u);if(k!==null){var N={dehydrated:k,treeContext:oTe(),retryLane:Wo};s.memoizedState=N;var $=hIe(k);return $.return=s,s.child=$,ka=s,ms=null,!0}return!1}default:return!1}}function ZC(s){return(s.mode&gn)!==Dt&&(s.flags&$n)===Nt}function JC(s){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function eT(s){if(Hs){var u=ms;if(!u){ZC(s)&&(QC(ka,s),JC()),UP(ka,s),Hs=!1,ka=s;return}var p=u;if(!VP(s,u)){ZC(s)&&(QC(ka,s),JC()),u=Mh(p);var m=ka;if(!u||!VP(s,u)){UP(ka,s),Hs=!1,ka=s;return}zP(m,p)}}}function dTe(s,u,p){var m=s.stateNode,y=!gc,_=RCe(m,s.type,s.memoizedProps,u,p,s,y);return s.updateQueue=_,_!==null}function fTe(s){var u=s.stateNode,p=s.memoizedProps,m=ACe(u,p,s);if(m){var y=ka;if(y!==null)switch(y.tag){case h:{var _=y.stateNode.containerInfo,k=(y.mode&gn)!==Dt;FCe(_,u,p,k);break}case v:{var N=y.type,$=y.memoizedProps,j=y.stateNode,q=(y.mode&gn)!==Dt;PCe(N,$,j,u,p,q);break}}}return m}function pTe(s){var u=s.memoizedState,p=u!==null?u.dehydrated:null;if(!p)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");NCe(p,s)}function hTe(s){var u=s.memoizedState,p=u!==null?u.dehydrated:null;if(!p)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return DCe(p)}function jP(s){for(var u=s.return;u!==null&&u.tag!==v&&u.tag!==h&&u.tag!==D;)u=u.return;ka=u}function c0(s){if(s!==ka)return!1;if(!Hs)return jP(s),Hs=!0,!1;if(s.tag!==h&&(s.tag!==v||$Ce(s.type)&&!$C(s.type,s.memoizedProps))){var u=ms;if(u)if(ZC(s))HP(s),JC();else for(;u;)zP(s,u),u=Mh(u)}return jP(s),s.tag===D?ms=hTe(s):ms=ka?Mh(s.stateNode):null,!0}function mTe(){return Hs&&ms!==null}function HP(s){for(var u=ms;u;)BP(s,u),u=Mh(u)}function Gd(){ka=null,ms=null,Hs=!1,gc=!1}function WP(){fl!==null&&(B5(fl),fl=null)}function Ia(){return Hs}function tT(s){fl===null?fl=[s]:fl.push(s)}var gTe=n.ReactCurrentBatchConfig,vTe=null;function yTe(){return gTe.transition}var Ws={recordUnsafeLifecycleWarnings:function(s,u){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(s,u){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var bTe=function(s){for(var u=null,p=s;p!==null;)p.mode&Yr&&(u=p),p=p.return;return u},vc=function(s){var u=[];return s.forEach(function(p){u.push(p)}),u.sort().join(", ")},Lh=[],Bh=[],zh=[],Uh=[],Vh=[],jh=[],yc=new Set;Ws.recordUnsafeLifecycleWarnings=function(s,u){yc.has(s.type)||(typeof u.componentWillMount=="function"&&u.componentWillMount.__suppressDeprecationWarning!==!0&&Lh.push(s),s.mode&Yr&&typeof u.UNSAFE_componentWillMount=="function"&&Bh.push(s),typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&zh.push(s),s.mode&Yr&&typeof u.UNSAFE_componentWillReceiveProps=="function"&&Uh.push(s),typeof u.componentWillUpdate=="function"&&u.componentWillUpdate.__suppressDeprecationWarning!==!0&&Vh.push(s),s.mode&Yr&&typeof u.UNSAFE_componentWillUpdate=="function"&&jh.push(s))},Ws.flushPendingUnsafeLifecycleWarnings=function(){var s=new Set;Lh.length>0&&(Lh.forEach(function(ie){s.add(At(ie)||"Component"),yc.add(ie.type)}),Lh=[]);var u=new Set;Bh.length>0&&(Bh.forEach(function(ie){u.add(At(ie)||"Component"),yc.add(ie.type)}),Bh=[]);var p=new Set;zh.length>0&&(zh.forEach(function(ie){p.add(At(ie)||"Component"),yc.add(ie.type)}),zh=[]);var m=new Set;Uh.length>0&&(Uh.forEach(function(ie){m.add(At(ie)||"Component"),yc.add(ie.type)}),Uh=[]);var y=new Set;Vh.length>0&&(Vh.forEach(function(ie){y.add(At(ie)||"Component"),yc.add(ie.type)}),Vh=[]);var _=new Set;if(jh.length>0&&(jh.forEach(function(ie){_.add(At(ie)||"Component"),yc.add(ie.type)}),jh=[]),u.size>0){var k=vc(u);i(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,k)}if(m.size>0){var N=vc(m);i(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,N)}if(_.size>0){var $=vc(_);i(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,$)}if(s.size>0){var j=vc(s);o(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,j)}if(p.size>0){var q=vc(p);o(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,q)}if(y.size>0){var ue=vc(y);o(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ue)}};var d0=new Map,qP=new Set;Ws.recordLegacyContextWarning=function(s,u){var p=bTe(s);if(p===null){i("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!qP.has(s.type)){var m=d0.get(p);(s.type.contextTypes!=null||s.type.childContextTypes!=null||u!==null&&typeof u.getChildContext=="function")&&(m===void 0&&(m=[],d0.set(p,m)),m.push(s))}},Ws.flushLegacyContextWarning=function(){d0.forEach(function(s,u){if(s.length!==0){var p=s[0],m=new Set;s.forEach(function(_){m.add(At(_)||"Component"),qP.add(_.type)});var y=vc(m);try{X(p),i(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,y)}finally{Tr()}}})},Ws.discardPendingWarnings=function(){Lh=[],Bh=[],zh=[],Uh=[],Vh=[],jh=[],d0=new Map}}function qs(s,u){if(s&&s.defaultProps){var p=Xt({},u),m=s.defaultProps;for(var y in m)p[y]===void 0&&(p[y]=m[y]);return p}return u}var nT=ll(null),rT;rT={};var f0=null,Kd=null,aT=null,p0=!1;function h0(){f0=null,Kd=null,aT=null,p0=!1}function GP(){p0=!0}function KP(){p0=!1}function YP(s,u,p){Ya(nT,u._currentValue,s),u._currentValue=p,u._currentRenderer!==void 0&&u._currentRenderer!==null&&u._currentRenderer!==rT&&i("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),u._currentRenderer=rT}function oT(s,u){var p=nT.current;Ka(nT,u),s._currentValue=p}function sT(s,u,p){for(var m=s;m!==null;){var y=m.alternate;if(Od(m.childLanes,u)?y!==null&&!Od(y.childLanes,u)&&(y.childLanes=Qt(y.childLanes,u)):(m.childLanes=Qt(m.childLanes,u),y!==null&&(y.childLanes=Qt(y.childLanes,u))),m===p)break;m=m.return}m!==p&&i("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function STe(s,u,p){wTe(s,u,p)}function wTe(s,u,p){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=void 0,_=m.dependencies;if(_!==null){y=m.child;for(var k=_.firstContext;k!==null;){if(k.context===u){if(m.tag===f){var N=uh(p),$=gu(cr,N);$.tag=g0;var j=m.updateQueue;if(j!==null){var q=j.shared,ue=q.pending;ue===null?$.next=$:($.next=ue.next,ue.next=$),q.pending=$}}m.lanes=Qt(m.lanes,p);var ie=m.alternate;ie!==null&&(ie.lanes=Qt(ie.lanes,p)),sT(m.return,p,s),_.lanes=Qt(_.lanes,p);break}k=k.next}}else if(m.tag===T)y=m.type===s.type?null:m.child;else if(m.tag===U){var be=m.return;if(be===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");be.lanes=Qt(be.lanes,p);var we=be.alternate;we!==null&&(we.lanes=Qt(we.lanes,p)),sT(be,p,s),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===s){y=null;break}var Te=y.sibling;if(Te!==null){Te.return=y.return,y=Te;break}y=y.return}m=y}}function Yd(s,u){f0=s,Kd=null,aT=null;var p=s.dependencies;if(p!==null){var m=p.firstContext;m!==null&&(qo(p.lanes,u)&&rm(),p.firstContext=null)}}function Xr(s){p0&&i("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var u=s._currentValue;if(aT!==s){var p={context:s,memoizedValue:u,next:null};if(Kd===null){if(f0===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Kd=p,f0.dependencies={lanes:Fe,firstContext:p}}else Kd=Kd.next=p}return u}var bc=null;function iT(s){bc===null?bc=[s]:bc.push(s)}function _Te(){if(bc!==null){for(var s=0;s<bc.length;s++){var u=bc[s],p=u.interleaved;if(p!==null){u.interleaved=null;var m=p.next,y=u.pending;if(y!==null){var _=y.next;y.next=m,p.next=_}u.pending=p}}bc=null}}function XP(s,u,p,m){var y=u.interleaved;return y===null?(p.next=p,iT(u)):(p.next=y.next,y.next=p),u.interleaved=p,m0(s,m)}function xTe(s,u,p,m){var y=u.interleaved;y===null?(p.next=p,iT(u)):(p.next=y.next,y.next=p),u.interleaved=p}function ETe(s,u,p,m){var y=u.interleaved;return y===null?(p.next=p,iT(u)):(p.next=y.next,y.next=p),u.interleaved=p,m0(s,m)}function Io(s,u){return m0(s,u)}var CTe=m0;function m0(s,u){s.lanes=Qt(s.lanes,u);var p=s.alternate;p!==null&&(p.lanes=Qt(p.lanes,u)),p===null&&(s.flags&(Kr|su))!==Nt&&Q5(s);for(var m=s,y=s.return;y!==null;)y.childLanes=Qt(y.childLanes,u),p=y.alternate,p!==null?p.childLanes=Qt(p.childLanes,u):(y.flags&(Kr|su))!==Nt&&Q5(s),m=y,y=y.return;if(m.tag===h){var _=m.stateNode;return _}else return null}var QP=0,ZP=1,g0=2,uT=3,v0=!1,lT,y0;lT=!1,y0=null;function cT(s){var u={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Fe},effects:null};s.updateQueue=u}function JP(s,u){var p=u.updateQueue,m=s.updateQueue;if(p===m){var y={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects};u.updateQueue=y}}function gu(s,u){var p={eventTime:s,lane:u,tag:QP,payload:null,callback:null,next:null};return p}function pl(s,u,p){var m=s.updateQueue;if(m===null)return null;var y=m.shared;if(y0===y&&!lT&&(i("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),lT=!0),Cke()){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,CTe(s,p)}else return ETe(s,y,u,p)}function b0(s,u,p){var m=u.updateQueue;if(m!==null){var y=m.shared;if(g6(p)){var _=y.lanes;_=y6(_,s.pendingLanes);var k=Qt(_,p);y.lanes=k,iC(s,k)}}}function dT(s,u){var p=s.updateQueue,m=s.alternate;if(m!==null){var y=m.updateQueue;if(p===y){var _=null,k=null,N=p.firstBaseUpdate;if(N!==null){var $=N;do{var j={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};k===null?_=k=j:(k.next=j,k=j),$=$.next}while($!==null);k===null?_=k=u:(k.next=u,k=u)}else _=k=u;p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:y.shared,effects:y.effects},s.updateQueue=p;return}}var q=p.lastBaseUpdate;q===null?p.firstBaseUpdate=u:q.next=u,p.lastBaseUpdate=u}function TTe(s,u,p,m,y,_){switch(p.tag){case ZP:{var k=p.payload;if(typeof k=="function"){GP();var N=k.call(_,m,y);{if(s.mode&Yr){ya(!0);try{k.call(_,m,y)}finally{ya(!1)}}KP()}return N}return k}case uT:s.flags=s.flags&~fo|$n;case QP:{var $=p.payload,j;if(typeof $=="function"){GP(),j=$.call(_,m,y);{if(s.mode&Yr){ya(!0);try{$.call(_,m,y)}finally{ya(!1)}}KP()}}else j=$;return j==null?m:Xt({},m,j)}case g0:return v0=!0,m}return m}function S0(s,u,p,m){var y=s.updateQueue;v0=!1,y0=y.shared;var _=y.firstBaseUpdate,k=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var $=N,j=$.next;$.next=null,k===null?_=j:k.next=j,k=$;var q=s.alternate;if(q!==null){var ue=q.updateQueue,ie=ue.lastBaseUpdate;ie!==k&&(ie===null?ue.firstBaseUpdate=j:ie.next=j,ue.lastBaseUpdate=$)}}if(_!==null){var be=y.baseState,we=Fe,Te=null,ut=null,kt=null,wt=_;do{var yn=wt.lane,ln=wt.eventTime;if(Od(m,yn)){if(kt!==null){var ke={eventTime:ln,lane:ba,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null};kt=kt.next=ke}be=TTe(s,y,wt,be,u,p);var me=wt.callback;if(me!==null&&wt.lane!==ba){s.flags|=QF;var Be=y.effects;Be===null?y.effects=[wt]:Be.push(wt)}}else{var he={eventTime:ln,lane:yn,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null};kt===null?(ut=kt=he,Te=be):kt=kt.next=he,we=Qt(we,yn)}if(wt=wt.next,wt===null){if(N=y.shared.pending,N===null)break;var lt=N,tt=lt.next;lt.next=null,wt=tt,y.lastBaseUpdate=lt,y.shared.pending=null}}while(!0);kt===null&&(Te=be),y.baseState=Te,y.firstBaseUpdate=ut,y.lastBaseUpdate=kt;var Mt=y.shared.interleaved;if(Mt!==null){var jt=Mt;do we=Qt(we,jt.lane),jt=jt.next;while(jt!==Mt)}else _===null&&(y.shared.lanes=Fe);mm(we),s.lanes=we,s.memoizedState=be}y0=null}function kTe(s,u){if(typeof s!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+s));s.call(u)}function eL(){v0=!1}function w0(){return v0}function tL(s,u,p){var m=u.effects;if(u.effects=null,m!==null)for(var y=0;y<m.length;y++){var _=m[y],k=_.callback;k!==null&&(_.callback=null,kTe(k,p))}}var fT={},nL=new t.Component().refs,pT,hT,mT,gT,vT,rL,_0,yT,bT,ST;{pT=new Set,hT=new Set,mT=new Set,gT=new Set,yT=new Set,vT=new Set,bT=new Set,ST=new Set;var aL=new Set;_0=function(s,u){if(!(s===null||typeof s=="function")){var p=u+"_"+s;aL.has(p)||(aL.add(p),i("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",u,s))}},rL=function(s,u){if(u===void 0){var p=sn(s)||"Component";vT.has(p)||(vT.add(p),i("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",p))}},Object.defineProperty(fT,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(fT)}function wT(s,u,p,m){var y=s.memoizedState,_=p(m,y);{if(s.mode&Yr){ya(!0);try{_=p(m,y)}finally{ya(!1)}}rL(u,_)}var k=_==null?y:Xt({},y,_);if(s.memoizedState=k,s.lanes===Fe){var N=s.updateQueue;N.baseState=k}}var _T={isMounted:Fwe,enqueueSetState:function(s,u,p){var m=Ed(s),y=mo(),_=wl(m),k=gu(y,_);k.payload=u,p!=null&&(_0(p,"setState"),k.callback=p);var N=pl(m,k,_);N!==null&&(ua(N,m,_,y),b0(N,m,_)),FE(m,_)},enqueueReplaceState:function(s,u,p){var m=Ed(s),y=mo(),_=wl(m),k=gu(y,_);k.tag=ZP,k.payload=u,p!=null&&(_0(p,"replaceState"),k.callback=p);var N=pl(m,k,_);N!==null&&(ua(N,m,_,y),b0(N,m,_)),FE(m,_)},enqueueForceUpdate:function(s,u){var p=Ed(s),m=mo(),y=wl(p),_=gu(m,y);_.tag=g0,u!=null&&(_0(u,"forceUpdate"),_.callback=u);var k=pl(p,_,y);k!==null&&(ua(k,p,y,m),b0(k,p,y)),p_e(p,y)}};function oL(s,u,p,m,y,_,k){var N=s.stateNode;if(typeof N.shouldComponentUpdate=="function"){var $=N.shouldComponentUpdate(m,_,k);{if(s.mode&Yr){ya(!0);try{$=N.shouldComponentUpdate(m,_,k)}finally{ya(!1)}}$===void 0&&i("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",sn(u)||"Component")}return $}return u.prototype&&u.prototype.isPureReactComponent?!xh(p,m)||!xh(y,_):!0}function ITe(s,u,p){var m=s.stateNode;{var y=sn(u)||"Component",_=m.render;_||(u.prototype&&typeof u.prototype.render=="function"?i("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",y):i("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",y)),m.getInitialState&&!m.getInitialState.isReactClassApproved&&!m.state&&i("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",y),m.getDefaultProps&&!m.getDefaultProps.isReactClassApproved&&i("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",y),m.propTypes&&i("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",y),m.contextType&&i("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",y),m.contextTypes&&i("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",y),u.contextType&&u.contextTypes&&!bT.has(u)&&(bT.add(u),i("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",y)),typeof m.componentShouldUpdate=="function"&&i("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",y),u.prototype&&u.prototype.isPureReactComponent&&typeof m.shouldComponentUpdate<"u"&&i("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",sn(u)||"A pure component"),typeof m.componentDidUnmount=="function"&&i("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",y),typeof m.componentDidReceiveProps=="function"&&i("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",y),typeof m.componentWillRecieveProps=="function"&&i("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",y),typeof m.UNSAFE_componentWillRecieveProps=="function"&&i("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",y);var k=m.props!==p;m.props!==void 0&&k&&i("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",y,y),m.defaultProps&&i("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",y,y),typeof m.getSnapshotBeforeUpdate=="function"&&typeof m.componentDidUpdate!="function"&&!mT.has(u)&&(mT.add(u),i("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",sn(u))),typeof m.getDerivedStateFromProps=="function"&&i("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof m.getDerivedStateFromError=="function"&&i("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof u.getSnapshotBeforeUpdate=="function"&&i("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",y);var N=m.state;N&&(typeof N!="object"||Re(N))&&i("%s.state: must be set to an object or null",y),typeof m.getChildContext=="function"&&typeof u.childContextTypes!="object"&&i("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",y)}}function sL(s,u){u.updater=_T,s.stateNode=u,Dwe(u,s),u._reactInternalInstance=fT}function iL(s,u,p){var m=!1,y=Xo,_=Xo,k=u.contextType;if("contextType"in u){var N=k===null||k!==void 0&&k.$$typeof===Me&&k._context===void 0;if(!N&&!ST.has(u)){ST.add(u);var $="";k===void 0?$=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof k!="object"?$=" However, it is set to a "+typeof k+".":k.$$typeof===ee?$=" Did you accidentally pass the Context.Provider instead?":k._context!==void 0?$=" Did you accidentally pass the Context.Consumer instead?":$=" However, it is set to an object with keys {"+Object.keys(k).join(", ")+"}.",i("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",sn(u)||"Component",$)}}if(typeof k=="object"&&k!==null)_=Xr(k);else{y=jd(s,u,!0);var j=u.contextTypes;m=j!=null,_=m?Hd(s,y):Xo}var q=new u(p,_);if(s.mode&Yr){ya(!0);try{q=new u(p,_)}finally{ya(!1)}}var ue=s.memoizedState=q.state!==null&&q.state!==void 0?q.state:null;sL(s,q);{if(typeof u.getDerivedStateFromProps=="function"&&ue===null){var ie=sn(u)||"Component";hT.has(ie)||(hT.add(ie),i("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",ie,q.state===null?"null":"undefined",ie))}if(typeof u.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"){var be=null,we=null,Te=null;if(typeof q.componentWillMount=="function"&&q.componentWillMount.__suppressDeprecationWarning!==!0?be="componentWillMount":typeof q.UNSAFE_componentWillMount=="function"&&(be="UNSAFE_componentWillMount"),typeof q.componentWillReceiveProps=="function"&&q.componentWillReceiveProps.__suppressDeprecationWarning!==!0?we="componentWillReceiveProps":typeof q.UNSAFE_componentWillReceiveProps=="function"&&(we="UNSAFE_componentWillReceiveProps"),typeof q.componentWillUpdate=="function"&&q.componentWillUpdate.__suppressDeprecationWarning!==!0?Te="componentWillUpdate":typeof q.UNSAFE_componentWillUpdate=="function"&&(Te="UNSAFE_componentWillUpdate"),be!==null||we!==null||Te!==null){var ut=sn(u)||"Component",kt=typeof u.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";gT.has(ut)||(gT.add(ut),i(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,ut,kt,be!==null?`
  `+be:"",we!==null?`
  `+we:"",Te!==null?`
  `+Te:""))}}}return m&&NP(s,y,_),q}function RTe(s,u){var p=u.state;typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&(i("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",At(s)||"Component"),_T.enqueueReplaceState(u,u.state,null))}function uL(s,u,p,m){var y=u.state;if(typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,m),u.state!==y){{var _=At(s)||"Component";pT.has(_)||(pT.add(_),i("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",_))}_T.enqueueReplaceState(u,u.state,null)}}function xT(s,u,p,m){ITe(s,u,p);var y=s.stateNode;y.props=p,y.state=s.memoizedState,y.refs=nL,cT(s);var _=u.contextType;if(typeof _=="object"&&_!==null)y.context=Xr(_);else{var k=jd(s,u,!0);y.context=Hd(s,k)}{if(y.state===p){var N=sn(u)||"Component";yT.has(N)||(yT.add(N),i("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",N))}s.mode&Yr&&Ws.recordLegacyContextWarning(s,y),Ws.recordUnsafeLifecycleWarnings(s,y)}y.state=s.memoizedState;var $=u.getDerivedStateFromProps;if(typeof $=="function"&&(wT(s,u,$,p),y.state=s.memoizedState),typeof u.getDerivedStateFromProps!="function"&&typeof y.getSnapshotBeforeUpdate!="function"&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(RTe(s,y),S0(s,p,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"){var j=Mn;j|=rc,(s.mode&vi)!==Dt&&(j|=tl),s.flags|=j}}function ATe(s,u,p,m){var y=s.stateNode,_=s.memoizedProps;y.props=_;var k=y.context,N=u.contextType,$=Xo;if(typeof N=="object"&&N!==null)$=Xr(N);else{var j=jd(s,u,!0);$=Hd(s,j)}var q=u.getDerivedStateFromProps,ue=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";!ue&&(typeof y.UNSAFE_componentWillReceiveProps=="function"||typeof y.componentWillReceiveProps=="function")&&(_!==p||k!==$)&&uL(s,y,p,$),eL();var ie=s.memoizedState,be=y.state=ie;if(S0(s,p,y,m),be=s.memoizedState,_===p&&ie===be&&!r0()&&!w0()){if(typeof y.componentDidMount=="function"){var we=Mn;we|=rc,(s.mode&vi)!==Dt&&(we|=tl),s.flags|=we}return!1}typeof q=="function"&&(wT(s,u,q,p),be=s.memoizedState);var Te=w0()||oL(s,u,_,p,ie,be,$);if(Te){if(!ue&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"){var ut=Mn;ut|=rc,(s.mode&vi)!==Dt&&(ut|=tl),s.flags|=ut}}else{if(typeof y.componentDidMount=="function"){var kt=Mn;kt|=rc,(s.mode&vi)!==Dt&&(kt|=tl),s.flags|=kt}s.memoizedProps=p,s.memoizedState=be}return y.props=p,y.state=be,y.context=$,Te}function NTe(s,u,p,m,y){var _=u.stateNode;JP(s,u);var k=u.memoizedProps,N=u.type===u.elementType?k:qs(u.type,k);_.props=N;var $=u.pendingProps,j=_.context,q=p.contextType,ue=Xo;if(typeof q=="object"&&q!==null)ue=Xr(q);else{var ie=jd(u,p,!0);ue=Hd(u,ie)}var be=p.getDerivedStateFromProps,we=typeof be=="function"||typeof _.getSnapshotBeforeUpdate=="function";!we&&(typeof _.UNSAFE_componentWillReceiveProps=="function"||typeof _.componentWillReceiveProps=="function")&&(k!==$||j!==ue)&&uL(u,_,m,ue),eL();var Te=u.memoizedState,ut=_.state=Te;if(S0(u,m,_,y),ut=u.memoizedState,k===$&&Te===ut&&!r0()&&!w0()&&!pe)return typeof _.componentDidUpdate=="function"&&(k!==s.memoizedProps||Te!==s.memoizedState)&&(u.flags|=Mn),typeof _.getSnapshotBeforeUpdate=="function"&&(k!==s.memoizedProps||Te!==s.memoizedState)&&(u.flags|=Td),!1;typeof be=="function"&&(wT(u,p,be,m),ut=u.memoizedState);var kt=w0()||oL(u,p,N,m,Te,ut,ue)||pe;return kt?(!we&&(typeof _.UNSAFE_componentWillUpdate=="function"||typeof _.componentWillUpdate=="function")&&(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ut,ue),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ut,ue)),typeof _.componentDidUpdate=="function"&&(u.flags|=Mn),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=Td)):(typeof _.componentDidUpdate=="function"&&(k!==s.memoizedProps||Te!==s.memoizedState)&&(u.flags|=Mn),typeof _.getSnapshotBeforeUpdate=="function"&&(k!==s.memoizedProps||Te!==s.memoizedState)&&(u.flags|=Td),u.memoizedProps=m,u.memoizedState=ut),_.props=m,_.state=ut,_.context=ue,kt}var ET,CT,TT,kT,IT,lL=function(s,u){};ET=!1,CT=!1,TT={},kT={},IT={},lL=function(s,u){if(!(s===null||typeof s!="object")&&!(!s._store||s._store.validated||s.key!=null)){if(typeof s._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");s._store.validated=!0;var p=At(u)||"Component";kT[p]||(kT[p]=!0,i('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function Hh(s,u,p){var m=p.ref;if(m!==null&&typeof m!="function"&&typeof m!="object"){if((s.mode&Yr||Ee)&&!(p._owner&&p._self&&p._owner.stateNode!==p._self)){var y=At(s)||"Component";TT[y]||(i('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',m),TT[y]=!0)}if(p._owner){var _=p._owner,k;if(_){var N=_;if(N.tag!==f)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");k=N.stateNode}if(!k)throw new Error("Missing owner for string ref "+m+". This error is likely caused by a bug in React. Please file an issue.");var $=k;Ht(m,"ref");var j=""+m;if(u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j)return u.ref;var q=function(ue){var ie=$.refs;ie===nL&&(ie=$.refs={}),ue===null?delete ie[j]:ie[j]=ue};return q._stringRef=j,q}else{if(typeof m!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!p._owner)throw new Error("Element ref was specified as a string ("+m+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return m}function x0(s,u){var p=Object.prototype.toString.call(u);throw new Error("Objects are not valid as a React child (found: "+(p==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":p)+"). If you meant to render a collection of children, use an array instead.")}function E0(s){{var u=At(s)||"Component";if(IT[u])return;IT[u]=!0,i("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function cL(s){var u=s._payload,p=s._init;return p(u)}function dL(s){function u(he,ke){if(s){var me=he.deletions;me===null?(he.deletions=[ke],he.flags|=ec):me.push(ke)}}function p(he,ke){if(!s)return null;for(var me=ke;me!==null;)u(he,me),me=me.sibling;return null}function m(he,ke){for(var me=new Map,Be=ke;Be!==null;)Be.key!==null?me.set(Be.key,Be):me.set(Be.index,Be),Be=Be.sibling;return me}function y(he,ke){var me=kc(he,ke);return me.index=0,me.sibling=null,me}function _(he,ke,me){if(he.index=me,!s)return he.flags|=ZF,ke;var Be=he.alternate;if(Be!==null){var lt=Be.index;return lt<ke?(he.flags|=Kr,ke):lt}else return he.flags|=Kr,ke}function k(he){return s&&he.alternate===null&&(he.flags|=Kr),he}function N(he,ke,me,Be){if(ke===null||ke.tag!==b){var lt=tk(me,he.mode,Be);return lt.return=he,lt}else{var tt=y(ke,me);return tt.return=he,tt}}function $(he,ke,me,Be){var lt=me.type;if(lt===Et)return q(he,ke,me.props.children,Be,me.key);if(ke!==null&&(ke.elementType===lt||t8(ke,me)||typeof lt=="object"&&lt!==null&&lt.$$typeof===_t&&cL(lt)===ke.type)){var tt=y(ke,me.props);return tt.ref=Hh(he,ke,me),tt.return=he,tt._debugSource=me._source,tt._debugOwner=me._owner,tt}var Mt=ek(me,he.mode,Be);return Mt.ref=Hh(he,ke,me),Mt.return=he,Mt}function j(he,ke,me,Be){if(ke===null||ke.tag!==g||ke.stateNode.containerInfo!==me.containerInfo||ke.stateNode.implementation!==me.implementation){var lt=nk(me,he.mode,Be);return lt.return=he,lt}else{var tt=y(ke,me.children||[]);return tt.return=he,tt}}function q(he,ke,me,Be,lt){if(ke===null||ke.tag!==w){var tt=xl(me,he.mode,Be,lt);return tt.return=he,tt}else{var Mt=y(ke,me);return Mt.return=he,Mt}}function ue(he,ke,me){if(typeof ke=="string"&&ke!==""||typeof ke=="number"){var Be=tk(""+ke,he.mode,me);return Be.return=he,Be}if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Yt:{var lt=ek(ke,he.mode,me);return lt.ref=Hh(he,null,ke),lt.return=he,lt}case Tt:{var tt=nk(ke,he.mode,me);return tt.return=he,tt}case _t:{var Mt=ke._payload,jt=ke._init;return ue(he,jt(Mt),me)}}if(Re(ke)||xo(ke)){var Yn=xl(ke,he.mode,me,null);return Yn.return=he,Yn}x0(he,ke)}return typeof ke=="function"&&E0(he),null}function ie(he,ke,me,Be){var lt=ke!==null?ke.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return lt!==null?null:N(he,ke,""+me,Be);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Yt:return me.key===lt?$(he,ke,me,Be):null;case Tt:return me.key===lt?j(he,ke,me,Be):null;case _t:{var tt=me._payload,Mt=me._init;return ie(he,ke,Mt(tt),Be)}}if(Re(me)||xo(me))return lt!==null?null:q(he,ke,me,Be,null);x0(he,me)}return typeof me=="function"&&E0(he),null}function be(he,ke,me,Be,lt){if(typeof Be=="string"&&Be!==""||typeof Be=="number"){var tt=he.get(me)||null;return N(ke,tt,""+Be,lt)}if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case Yt:{var Mt=he.get(Be.key===null?me:Be.key)||null;return $(ke,Mt,Be,lt)}case Tt:{var jt=he.get(Be.key===null?me:Be.key)||null;return j(ke,jt,Be,lt)}case _t:var Yn=Be._payload,Rn=Be._init;return be(he,ke,me,Rn(Yn),lt)}if(Re(Be)||xo(Be)){var Ur=he.get(me)||null;return q(ke,Ur,Be,lt,null)}x0(ke,Be)}return typeof Be=="function"&&E0(ke),null}function we(he,ke,me){{if(typeof he!="object"||he===null)return ke;switch(he.$$typeof){case Yt:case Tt:lL(he,me);var Be=he.key;if(typeof Be!="string")break;if(ke===null){ke=new Set,ke.add(Be);break}if(!ke.has(Be)){ke.add(Be);break}i("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",Be);break;case _t:var lt=he._payload,tt=he._init;we(tt(lt),ke,me);break}}return ke}function Te(he,ke,me,Be){for(var lt=null,tt=0;tt<me.length;tt++){var Mt=me[tt];lt=we(Mt,lt,he)}for(var jt=null,Yn=null,Rn=ke,Ur=0,An=0,Mr=null;Rn!==null&&An<me.length;An++){Rn.index>An?(Mr=Rn,Rn=null):Mr=Rn.sibling;var Qa=ie(he,Rn,me[An],Be);if(Qa===null){Rn===null&&(Rn=Mr);break}s&&Rn&&Qa.alternate===null&&u(he,Rn),Ur=_(Qa,Ur,An),Yn===null?jt=Qa:Yn.sibling=Qa,Yn=Qa,Rn=Mr}if(An===me.length){if(p(he,Rn),Ia()){var $a=An;hc(he,$a)}return jt}if(Rn===null){for(;An<me.length;An++){var Zo=ue(he,me[An],Be);Zo!==null&&(Ur=_(Zo,Ur,An),Yn===null?jt=Zo:Yn.sibling=Zo,Yn=Zo)}if(Ia()){var go=An;hc(he,go)}return jt}for(var vo=m(he,Rn);An<me.length;An++){var Za=be(vo,he,An,me[An],Be);Za!==null&&(s&&Za.alternate!==null&&vo.delete(Za.key===null?An:Za.key),Ur=_(Za,Ur,An),Yn===null?jt=Za:Yn.sibling=Za,Yn=Za)}if(s&&vo.forEach(function(pf){return u(he,pf)}),Ia()){var _u=An;hc(he,_u)}return jt}function ut(he,ke,me,Be){var lt=xo(me);if(typeof lt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&me[Symbol.toStringTag]==="Generator"&&(CT||i("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),CT=!0),me.entries===lt&&(ET||i("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ET=!0);var tt=lt.call(me);if(tt)for(var Mt=null,jt=tt.next();!jt.done;jt=tt.next()){var Yn=jt.value;Mt=we(Yn,Mt,he)}}var Rn=lt.call(me);if(Rn==null)throw new Error("An iterable object provided no iterator.");for(var Ur=null,An=null,Mr=ke,Qa=0,$a=0,Zo=null,go=Rn.next();Mr!==null&&!go.done;$a++,go=Rn.next()){Mr.index>$a?(Zo=Mr,Mr=null):Zo=Mr.sibling;var vo=ie(he,Mr,go.value,Be);if(vo===null){Mr===null&&(Mr=Zo);break}s&&Mr&&vo.alternate===null&&u(he,Mr),Qa=_(vo,Qa,$a),An===null?Ur=vo:An.sibling=vo,An=vo,Mr=Zo}if(go.done){if(p(he,Mr),Ia()){var Za=$a;hc(he,Za)}return Ur}if(Mr===null){for(;!go.done;$a++,go=Rn.next()){var _u=ue(he,go.value,Be);_u!==null&&(Qa=_(_u,Qa,$a),An===null?Ur=_u:An.sibling=_u,An=_u)}if(Ia()){var pf=$a;hc(he,pf)}return Ur}for(var Sm=m(he,Mr);!go.done;$a++,go=Rn.next()){var Ii=be(Sm,he,$a,go.value,Be);Ii!==null&&(s&&Ii.alternate!==null&&Sm.delete(Ii.key===null?$a:Ii.key),Qa=_(Ii,Qa,$a),An===null?Ur=Ii:An.sibling=Ii,An=Ii)}if(s&&Sm.forEach(function(WIe){return u(he,WIe)}),Ia()){var HIe=$a;hc(he,HIe)}return Ur}function kt(he,ke,me,Be){if(ke!==null&&ke.tag===b){p(he,ke.sibling);var lt=y(ke,me);return lt.return=he,lt}p(he,ke);var tt=tk(me,he.mode,Be);return tt.return=he,tt}function wt(he,ke,me,Be){for(var lt=me.key,tt=ke;tt!==null;){if(tt.key===lt){var Mt=me.type;if(Mt===Et){if(tt.tag===w){p(he,tt.sibling);var jt=y(tt,me.props.children);return jt.return=he,jt._debugSource=me._source,jt._debugOwner=me._owner,jt}}else if(tt.elementType===Mt||t8(tt,me)||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===_t&&cL(Mt)===tt.type){p(he,tt.sibling);var Yn=y(tt,me.props);return Yn.ref=Hh(he,tt,me),Yn.return=he,Yn._debugSource=me._source,Yn._debugOwner=me._owner,Yn}p(he,tt);break}else u(he,tt);tt=tt.sibling}if(me.type===Et){var Rn=xl(me.props.children,he.mode,Be,me.key);return Rn.return=he,Rn}else{var Ur=ek(me,he.mode,Be);return Ur.ref=Hh(he,ke,me),Ur.return=he,Ur}}function yn(he,ke,me,Be){for(var lt=me.key,tt=ke;tt!==null;){if(tt.key===lt)if(tt.tag===g&&tt.stateNode.containerInfo===me.containerInfo&&tt.stateNode.implementation===me.implementation){p(he,tt.sibling);var Mt=y(tt,me.children||[]);return Mt.return=he,Mt}else{p(he,tt);break}else u(he,tt);tt=tt.sibling}var jt=nk(me,he.mode,Be);return jt.return=he,jt}function ln(he,ke,me,Be){var lt=typeof me=="object"&&me!==null&&me.type===Et&&me.key===null;if(lt&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case Yt:return k(wt(he,ke,me,Be));case Tt:return k(yn(he,ke,me,Be));case _t:var tt=me._payload,Mt=me._init;return ln(he,ke,Mt(tt),Be)}if(Re(me))return Te(he,ke,me,Be);if(xo(me))return ut(he,ke,me,Be);x0(he,me)}return typeof me=="string"&&me!==""||typeof me=="number"?k(kt(he,ke,""+me,Be)):(typeof me=="function"&&E0(he),p(he,ke))}return ln}var Xd=dL(!0),fL=dL(!1);function DTe(s,u){if(s!==null&&u.child!==s.child)throw new Error("Resuming work not yet implemented.");if(u.child!==null){var p=u.child,m=kc(p,p.pendingProps);for(u.child=m,m.return=u;p.sibling!==null;)p=p.sibling,m=m.sibling=kc(p,p.pendingProps),m.return=u;m.sibling=null}}function OTe(s,u){for(var p=s.child;p!==null;)uIe(p,u),p=p.sibling}var Wh={},hl=ll(Wh),qh=ll(Wh),C0=ll(Wh);function T0(s){if(s===Wh)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return s}function pL(){var s=T0(C0.current);return s}function RT(s,u){Ya(C0,u,s),Ya(qh,s,s),Ya(hl,Wh,s);var p=GEe(u);Ka(hl,s),Ya(hl,p,s)}function Qd(s){Ka(hl,s),Ka(qh,s),Ka(C0,s)}function AT(){var s=T0(hl.current);return s}function hL(s){T0(C0.current);var u=T0(hl.current),p=KEe(u,s.type);u!==p&&(Ya(qh,s,s),Ya(hl,p,s))}function NT(s){qh.current===s&&(Ka(hl,s),Ka(qh,s))}var MTe=0,mL=1,gL=1,Gh=2,Gs=ll(MTe);function DT(s,u){return(s&u)!==0}function Zd(s){return s&mL}function OT(s,u){return s&mL|u}function $Te(s,u){return s|u}function ml(s,u){Ya(Gs,u,s)}function Jd(s){Ka(Gs,s)}function FTe(s,u){var p=s.memoizedState;return p!==null?p.dehydrated!==null:(s.memoizedProps,!0)}function k0(s){for(var u=s;u!==null;){if(u.tag===D){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;if(m===null||TP(m)||BC(m))return u}}else if(u.tag===O&&u.memoizedProps.revealOrder!==void 0){var y=(u.flags&$n)!==Nt;if(y)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)return null;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ro=0,ta=1,wi=2,na=4,Ra=8,MT=[];function $T(){for(var s=0;s<MT.length;s++){var u=MT[s];u._workInProgressVersionPrimary=null}MT.length=0}function PTe(s,u){var p=u._getVersion,m=p(u._source);s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,m]:s.mutableSourceEagerHydrationData.push(u,m)}var st=n.ReactCurrentDispatcher,Kh=n.ReactCurrentBatchConfig,FT,ef;FT=new Set;var Sc=Fe,Kn=null,ra=null,aa=null,I0=!1,Yh=!1,Xh=0,LTe=0,BTe=25,Ne=null,gs=null,gl=-1,PT=!1;function Bn(){{var s=Ne;gs===null?gs=[s]:gs.push(s)}}function Xe(){{var s=Ne;gs!==null&&(gl++,gs[gl]!==s&&zTe(s))}}function tf(s){s!=null&&!Re(s)&&i("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ne,typeof s)}function zTe(s){{var u=At(Kn);if(!FT.has(u)&&(FT.add(u),gs!==null)){for(var p="",m=30,y=0;y<=gl;y++){for(var _=gs[y],k=y===gl?s:_,N=y+1+". "+_;N.length<m;)N+=" ";N+=k+`
`,p+=N}i(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,u,p)}}}function Xa(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function LT(s,u){if(PT)return!1;if(u===null)return i("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ne),!1;s.length!==u.length&&i(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ne,"["+u.join(", ")+"]","["+s.join(", ")+"]");for(var p=0;p<u.length&&p<s.length;p++)if(!Yo(s[p],u[p]))return!1;return!0}function nf(s,u,p,m,y,_){Sc=_,Kn=u,gs=s!==null?s._debugHookTypes:null,gl=-1,PT=s!==null&&s.type!==u.type,u.memoizedState=null,u.updateQueue=null,u.lanes=Fe,s!==null&&s.memoizedState!==null?st.current=LL:gs!==null?st.current=PL:st.current=FL;var k=p(m,y);if(Yh){var N=0;do{if(Yh=!1,Xh=0,N>=BTe)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");N+=1,PT=!1,ra=null,aa=null,u.updateQueue=null,gl=-1,st.current=BL,k=p(m,y)}while(Yh)}st.current=U0,u._debugHookTypes=gs;var $=ra!==null&&ra.next!==null;if(Sc=Fe,Kn=null,ra=null,aa=null,Ne=null,gs=null,gl=-1,s!==null&&(s.flags&iu)!==(u.flags&iu)&&(s.mode&gn)!==Dt&&i("Internal React error: Expected static flag was missing. Please notify the React team."),I0=!1,$)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return k}function rf(){var s=Xh!==0;return Xh=0,s}function vL(s,u,p){u.updateQueue=s.updateQueue,(u.mode&vi)!==Dt?u.flags&=-50333701:u.flags&=-2053,s.lanes=Ib(s.lanes,p)}function yL(){if(st.current=U0,I0){for(var s=Kn.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}I0=!1}Sc=Fe,Kn=null,ra=null,aa=null,gs=null,gl=-1,Ne=null,NL=!1,Yh=!1,Xh=0}function _i(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?Kn.memoizedState=aa=s:aa=aa.next=s,aa}function vs(){var s;if(ra===null){var u=Kn.alternate;u!==null?s=u.memoizedState:s=null}else s=ra.next;var p;if(aa===null?p=Kn.memoizedState:p=aa.next,p!==null)aa=p,p=aa.next,ra=s;else{if(s===null)throw new Error("Rendered more hooks than during the previous render.");ra=s;var m={memoizedState:ra.memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null};aa===null?Kn.memoizedState=aa=m:aa=aa.next=m}return aa}function bL(){return{lastEffect:null,stores:null}}function BT(s,u){return typeof u=="function"?u(s):u}function zT(s,u,p){var m=_i(),y;p!==void 0?y=p(u):y=u,m.memoizedState=m.baseState=y;var _={pending:null,interleaved:null,lanes:Fe,dispatch:null,lastRenderedReducer:s,lastRenderedState:y};m.queue=_;var k=_.dispatch=HTe.bind(null,Kn,_);return[m.memoizedState,k]}function UT(s,u,p){var m=vs(),y=m.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var _=ra,k=_.baseQueue,N=y.pending;if(N!==null){if(k!==null){var $=k.next,j=N.next;k.next=j,N.next=$}_.baseQueue!==k&&i("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),_.baseQueue=k=N,y.pending=null}if(k!==null){var q=k.next,ue=_.baseState,ie=null,be=null,we=null,Te=q;do{var ut=Te.lane;if(Od(Sc,ut)){if(we!==null){var wt={lane:ba,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};we=we.next=wt}if(Te.hasEagerState)ue=Te.eagerState;else{var yn=Te.action;ue=s(ue,yn)}}else{var kt={lane:ut,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};we===null?(be=we=kt,ie=ue):we=we.next=kt,Kn.lanes=Qt(Kn.lanes,ut),mm(ut)}Te=Te.next}while(Te!==null&&Te!==q);we===null?ie=ue:we.next=be,Yo(ue,m.memoizedState)||rm(),m.memoizedState=ue,m.baseState=ie,m.baseQueue=we,y.lastRenderedState=ue}var ln=y.interleaved;if(ln!==null){var he=ln;do{var ke=he.lane;Kn.lanes=Qt(Kn.lanes,ke),mm(ke),he=he.next}while(he!==ln)}else k===null&&(y.lanes=Fe);var me=y.dispatch;return[m.memoizedState,me]}function VT(s,u,p){var m=vs(),y=m.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var _=y.dispatch,k=y.pending,N=m.memoizedState;if(k!==null){y.pending=null;var $=k.next,j=$;do{var q=j.action;N=s(N,q),j=j.next}while(j!==$);Yo(N,m.memoizedState)||rm(),m.memoizedState=N,m.baseQueue===null&&(m.baseState=N),y.lastRenderedState=N}return[N,_]}function _Ae(s,u,p){}function xAe(s,u,p){}function jT(s,u,p){var m=Kn,y=_i(),_,k=Ia();if(k){if(p===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");_=p(),ef||_!==p()&&(i("The result of getServerSnapshot should be cached to avoid an infinite loop"),ef=!0)}else{if(_=u(),!ef){var N=u();Yo(_,N)||(i("The result of getSnapshot should be cached to avoid an infinite loop"),ef=!0)}var $=o1();if($===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");kb($,Sc)||SL(m,u,_)}y.memoizedState=_;var j={value:_,getSnapshot:u};return y.queue=j,O0(_L.bind(null,m,j,s),[s]),m.flags|=el,Qh(ta|Ra,wL.bind(null,m,j,_,u),void 0,null),_}function R0(s,u,p){var m=Kn,y=vs(),_=u();if(!ef){var k=u();Yo(_,k)||(i("The result of getSnapshot should be cached to avoid an infinite loop"),ef=!0)}var N=y.memoizedState,$=!Yo(N,_);$&&(y.memoizedState=_,rm());var j=y.queue;if(Jh(_L.bind(null,m,j,s),[s]),j.getSnapshot!==u||$||aa!==null&&aa.memoizedState.tag&ta){m.flags|=el,Qh(ta|Ra,wL.bind(null,m,j,_,u),void 0,null);var q=o1();if(q===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");kb(q,Sc)||SL(m,u,_)}return _}function SL(s,u,p){s.flags|=kE;var m={getSnapshot:u,value:p},y=Kn.updateQueue;if(y===null)y=bL(),Kn.updateQueue=y,y.stores=[m];else{var _=y.stores;_===null?y.stores=[m]:_.push(m)}}function wL(s,u,p,m){u.value=p,u.getSnapshot=m,xL(u)&&EL(s)}function _L(s,u,p){var m=function(){xL(u)&&EL(s)};return p(m)}function xL(s){var u=s.getSnapshot,p=s.value;try{var m=u();return!Yo(p,m)}catch{return!0}}function EL(s){var u=Io(s,zt);u!==null&&ua(u,s,zt,cr)}function A0(s){var u=_i();typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s;var p={pending:null,interleaved:null,lanes:Fe,dispatch:null,lastRenderedReducer:BT,lastRenderedState:s};u.queue=p;var m=p.dispatch=WTe.bind(null,Kn,p);return[u.memoizedState,m]}function HT(s){return UT(BT)}function WT(s){return VT(BT)}function Qh(s,u,p,m){var y={tag:s,create:u,destroy:p,deps:m,next:null},_=Kn.updateQueue;if(_===null)_=bL(),Kn.updateQueue=_,_.lastEffect=y.next=y;else{var k=_.lastEffect;if(k===null)_.lastEffect=y.next=y;else{var N=k.next;k.next=y,y.next=N,_.lastEffect=y}}return y}function qT(s){var u=_i();{var p={current:s};return u.memoizedState=p,p}}function N0(s){var u=vs();return u.memoizedState}function Zh(s,u,p,m){var y=_i(),_=m===void 0?null:m;Kn.flags|=s,y.memoizedState=Qh(ta|u,p,void 0,_)}function D0(s,u,p,m){var y=vs(),_=m===void 0?null:m,k=void 0;if(ra!==null){var N=ra.memoizedState;if(k=N.destroy,_!==null){var $=N.deps;if(LT(_,$)){y.memoizedState=Qh(u,p,k,_);return}}}Kn.flags|=s,y.memoizedState=Qh(ta|u,p,k,_)}function O0(s,u){return(Kn.mode&vi)!==Dt?Zh(NE|el|AE,Ra,s,u):Zh(el|AE,Ra,s,u)}function Jh(s,u){return D0(el,Ra,s,u)}function GT(s,u){return Zh(Mn,wi,s,u)}function M0(s,u){return D0(Mn,wi,s,u)}function KT(s,u){var p=Mn;return p|=rc,(Kn.mode&vi)!==Dt&&(p|=tl),Zh(p,na,s,u)}function $0(s,u){return D0(Mn,na,s,u)}function CL(s,u){if(typeof u=="function"){var p=u,m=s();return p(m),function(){p(null)}}else if(u!=null){var y=u;y.hasOwnProperty("current")||i("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(y).join(", ")+"}");var _=s();return y.current=_,function(){y.current=null}}}function YT(s,u,p){typeof u!="function"&&i("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",u!==null?typeof u:"null");var m=p!=null?p.concat([s]):null,y=Mn;return y|=rc,(Kn.mode&vi)!==Dt&&(y|=tl),Zh(y,na,CL.bind(null,u,s),m)}function F0(s,u,p){typeof u!="function"&&i("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",u!==null?typeof u:"null");var m=p!=null?p.concat([s]):null;return D0(Mn,na,CL.bind(null,u,s),m)}function UTe(s,u){}var P0=UTe;function XT(s,u){var p=_i(),m=u===void 0?null:u;return p.memoizedState=[s,m],s}function L0(s,u){var p=vs(),m=u===void 0?null:u,y=p.memoizedState;if(y!==null&&m!==null){var _=y[1];if(LT(m,_))return y[0]}return p.memoizedState=[s,m],s}function QT(s,u){var p=_i(),m=u===void 0?null:u,y=s();return p.memoizedState=[y,m],y}function B0(s,u){var p=vs(),m=u===void 0?null:u,y=p.memoizedState;if(y!==null&&m!==null){var _=y[1];if(LT(m,_))return y[0]}var k=s();return p.memoizedState=[k,m],k}function ZT(s){var u=_i();return u.memoizedState=s,s}function TL(s){var u=vs(),p=ra,m=p.memoizedState;return IL(u,m,s)}function kL(s){var u=vs();if(ra===null)return u.memoizedState=s,s;var p=ra.memoizedState;return IL(u,p,s)}function IL(s,u,p){var m=!x_e(Sc);if(m){if(!Yo(p,u)){var y=v6();Kn.lanes=Qt(Kn.lanes,y),mm(y),s.baseState=!0}return u}else return s.baseState&&(s.baseState=!1,rm()),s.memoizedState=p,p}function VTe(s,u,p){var m=Vs();Sa(D_e(m,lu)),s(!0);var y=Kh.transition;Kh.transition={};var _=Kh.transition;Kh.transition._updatedFibers=new Set;try{s(!1),u()}finally{if(Sa(m),Kh.transition=y,y===null&&_._updatedFibers){var k=_._updatedFibers.size;k>10&&o("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),_._updatedFibers.clear()}}}function JT(){var s=A0(!1),u=s[0],p=s[1],m=VTe.bind(null,p),y=_i();return y.memoizedState=m,[u,m]}function RL(){var s=HT(),u=s[0],p=vs(),m=p.memoizedState;return[u,m]}function AL(){var s=WT(),u=s[0],p=vs(),m=p.memoizedState;return[u,m]}var NL=!1;function jTe(){return NL}function e2(){var s=_i(),u=o1(),p=u.identifierPrefix,m;if(Ia()){var y=rTe();m=":"+p+"R"+y;var _=Xh++;_>0&&(m+="H"+_.toString(32)),m+=":"}else{var k=LTe++;m=":"+p+"r"+k.toString(32)+":"}return s.memoizedState=m,m}function z0(){var s=vs(),u=s.memoizedState;return u}function HTe(s,u,p){typeof arguments[3]=="function"&&i("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var m=wl(s),y={lane:m,action:p,hasEagerState:!1,eagerState:null,next:null};if(DL(s))OL(u,y);else{var _=XP(s,u,y,m);if(_!==null){var k=mo();ua(_,s,m,k),ML(_,u,m)}}$L(s,m)}function WTe(s,u,p){typeof arguments[3]=="function"&&i("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var m=wl(s),y={lane:m,action:p,hasEagerState:!1,eagerState:null,next:null};if(DL(s))OL(u,y);else{var _=s.alternate;if(s.lanes===Fe&&(_===null||_.lanes===Fe)){var k=u.lastRenderedReducer;if(k!==null){var N;N=st.current,st.current=Ks;try{var $=u.lastRenderedState,j=k($,p);if(y.hasEagerState=!0,y.eagerState=j,Yo(j,$)){xTe(s,u,y,m);return}}catch{}finally{st.current=N}}}var q=XP(s,u,y,m);if(q!==null){var ue=mo();ua(q,s,m,ue),ML(q,u,m)}}$L(s,m)}function DL(s){var u=s.alternate;return s===Kn||u!==null&&u===Kn}function OL(s,u){Yh=I0=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function ML(s,u,p){if(g6(p)){var m=u.lanes;m=y6(m,s.pendingLanes);var y=Qt(m,p);u.lanes=y,iC(s,y)}}function $L(s,u,p){FE(s,u)}var U0={readContext:Xr,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useInsertionEffect:Xa,useLayoutEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useDeferredValue:Xa,useTransition:Xa,useMutableSource:Xa,useSyncExternalStore:Xa,useId:Xa,unstable_isNewReconciler:le},FL=null,PL=null,LL=null,BL=null,xi=null,Ks=null,V0=null;{var t2=function(){i("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Ut=function(){i("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};FL={readContext:function(s){return Xr(s)},useCallback:function(s,u){return Ne="useCallback",Bn(),tf(u),XT(s,u)},useContext:function(s){return Ne="useContext",Bn(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Bn(),tf(u),O0(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Bn(),tf(p),YT(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Bn(),tf(u),GT(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Bn(),tf(u),KT(s,u)},useMemo:function(s,u){Ne="useMemo",Bn(),tf(u);var p=st.current;st.current=xi;try{return QT(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Bn();var m=st.current;st.current=xi;try{return zT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Bn(),qT(s)},useState:function(s){Ne="useState",Bn();var u=st.current;st.current=xi;try{return A0(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Bn(),void 0},useDeferredValue:function(s){return Ne="useDeferredValue",Bn(),ZT(s)},useTransition:function(){return Ne="useTransition",Bn(),JT()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Bn(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Bn(),jT(s,u,p)},useId:function(){return Ne="useId",Bn(),e2()},unstable_isNewReconciler:le},PL={readContext:function(s){return Xr(s)},useCallback:function(s,u){return Ne="useCallback",Xe(),XT(s,u)},useContext:function(s){return Ne="useContext",Xe(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Xe(),O0(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Xe(),YT(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Xe(),GT(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Xe(),KT(s,u)},useMemo:function(s,u){Ne="useMemo",Xe();var p=st.current;st.current=xi;try{return QT(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Xe();var m=st.current;st.current=xi;try{return zT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Xe(),qT(s)},useState:function(s){Ne="useState",Xe();var u=st.current;st.current=xi;try{return A0(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Xe(),void 0},useDeferredValue:function(s){return Ne="useDeferredValue",Xe(),ZT(s)},useTransition:function(){return Ne="useTransition",Xe(),JT()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Xe(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Xe(),jT(s,u,p)},useId:function(){return Ne="useId",Xe(),e2()},unstable_isNewReconciler:le},LL={readContext:function(s){return Xr(s)},useCallback:function(s,u){return Ne="useCallback",Xe(),L0(s,u)},useContext:function(s){return Ne="useContext",Xe(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Xe(),Jh(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Xe(),F0(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Xe(),M0(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Xe(),$0(s,u)},useMemo:function(s,u){Ne="useMemo",Xe();var p=st.current;st.current=Ks;try{return B0(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Xe();var m=st.current;st.current=Ks;try{return UT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Xe(),N0()},useState:function(s){Ne="useState",Xe();var u=st.current;st.current=Ks;try{return HT(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Xe(),P0()},useDeferredValue:function(s){return Ne="useDeferredValue",Xe(),TL(s)},useTransition:function(){return Ne="useTransition",Xe(),RL()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Xe(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Xe(),R0(s,u)},useId:function(){return Ne="useId",Xe(),z0()},unstable_isNewReconciler:le},BL={readContext:function(s){return Xr(s)},useCallback:function(s,u){return Ne="useCallback",Xe(),L0(s,u)},useContext:function(s){return Ne="useContext",Xe(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Xe(),Jh(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Xe(),F0(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Xe(),M0(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Xe(),$0(s,u)},useMemo:function(s,u){Ne="useMemo",Xe();var p=st.current;st.current=V0;try{return B0(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Xe();var m=st.current;st.current=V0;try{return VT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Xe(),N0()},useState:function(s){Ne="useState",Xe();var u=st.current;st.current=V0;try{return WT(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Xe(),P0()},useDeferredValue:function(s){return Ne="useDeferredValue",Xe(),kL(s)},useTransition:function(){return Ne="useTransition",Xe(),AL()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Xe(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Xe(),R0(s,u)},useId:function(){return Ne="useId",Xe(),z0()},unstable_isNewReconciler:le},xi={readContext:function(s){return t2(),Xr(s)},useCallback:function(s,u){return Ne="useCallback",Ut(),Bn(),XT(s,u)},useContext:function(s){return Ne="useContext",Ut(),Bn(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Ut(),Bn(),O0(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Ut(),Bn(),YT(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Ut(),Bn(),GT(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Ut(),Bn(),KT(s,u)},useMemo:function(s,u){Ne="useMemo",Ut(),Bn();var p=st.current;st.current=xi;try{return QT(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Ut(),Bn();var m=st.current;st.current=xi;try{return zT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Ut(),Bn(),qT(s)},useState:function(s){Ne="useState",Ut(),Bn();var u=st.current;st.current=xi;try{return A0(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Ut(),Bn(),void 0},useDeferredValue:function(s){return Ne="useDeferredValue",Ut(),Bn(),ZT(s)},useTransition:function(){return Ne="useTransition",Ut(),Bn(),JT()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Ut(),Bn(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Ut(),Bn(),jT(s,u,p)},useId:function(){return Ne="useId",Ut(),Bn(),e2()},unstable_isNewReconciler:le},Ks={readContext:function(s){return t2(),Xr(s)},useCallback:function(s,u){return Ne="useCallback",Ut(),Xe(),L0(s,u)},useContext:function(s){return Ne="useContext",Ut(),Xe(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Ut(),Xe(),Jh(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Ut(),Xe(),F0(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Ut(),Xe(),M0(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Ut(),Xe(),$0(s,u)},useMemo:function(s,u){Ne="useMemo",Ut(),Xe();var p=st.current;st.current=Ks;try{return B0(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Ut(),Xe();var m=st.current;st.current=Ks;try{return UT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Ut(),Xe(),N0()},useState:function(s){Ne="useState",Ut(),Xe();var u=st.current;st.current=Ks;try{return HT(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Ut(),Xe(),P0()},useDeferredValue:function(s){return Ne="useDeferredValue",Ut(),Xe(),TL(s)},useTransition:function(){return Ne="useTransition",Ut(),Xe(),RL()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Ut(),Xe(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Ut(),Xe(),R0(s,u)},useId:function(){return Ne="useId",Ut(),Xe(),z0()},unstable_isNewReconciler:le},V0={readContext:function(s){return t2(),Xr(s)},useCallback:function(s,u){return Ne="useCallback",Ut(),Xe(),L0(s,u)},useContext:function(s){return Ne="useContext",Ut(),Xe(),Xr(s)},useEffect:function(s,u){return Ne="useEffect",Ut(),Xe(),Jh(s,u)},useImperativeHandle:function(s,u,p){return Ne="useImperativeHandle",Ut(),Xe(),F0(s,u,p)},useInsertionEffect:function(s,u){return Ne="useInsertionEffect",Ut(),Xe(),M0(s,u)},useLayoutEffect:function(s,u){return Ne="useLayoutEffect",Ut(),Xe(),$0(s,u)},useMemo:function(s,u){Ne="useMemo",Ut(),Xe();var p=st.current;st.current=Ks;try{return B0(s,u)}finally{st.current=p}},useReducer:function(s,u,p){Ne="useReducer",Ut(),Xe();var m=st.current;st.current=Ks;try{return VT(s,u,p)}finally{st.current=m}},useRef:function(s){return Ne="useRef",Ut(),Xe(),N0()},useState:function(s){Ne="useState",Ut(),Xe();var u=st.current;st.current=Ks;try{return WT(s)}finally{st.current=u}},useDebugValue:function(s,u){return Ne="useDebugValue",Ut(),Xe(),P0()},useDeferredValue:function(s){return Ne="useDeferredValue",Ut(),Xe(),kL(s)},useTransition:function(){return Ne="useTransition",Ut(),Xe(),AL()},useMutableSource:function(s,u,p){return Ne="useMutableSource",Ut(),Xe(),void 0},useSyncExternalStore:function(s,u,p){return Ne="useSyncExternalStore",Ut(),Xe(),R0(s,u)},useId:function(){return Ne="useId",Ut(),Xe(),z0()},unstable_isNewReconciler:le}}var vl=e.unstable_now,zL=0,j0=-1,em=-1,H0=-1,n2=!1,W0=!1;function UL(){return n2}function qTe(){W0=!0}function GTe(){n2=!1,W0=!1}function KTe(){n2=W0,W0=!1}function VL(){return zL}function jL(){zL=vl()}function r2(s){em=vl(),s.actualStartTime<0&&(s.actualStartTime=vl())}function HL(s){em=-1}function q0(s,u){if(em>=0){var p=vl()-em;s.actualDuration+=p,u&&(s.selfBaseDuration=p),em=-1}}function Ei(s){if(j0>=0){var u=vl()-j0;j0=-1;for(var p=s.return;p!==null;){switch(p.tag){case h:var m=p.stateNode;m.effectDuration+=u;return;case I:var y=p.stateNode;y.effectDuration+=u;return}p=p.return}}}function a2(s){if(H0>=0){var u=vl()-H0;H0=-1;for(var p=s.return;p!==null;){switch(p.tag){case h:var m=p.stateNode;m!==null&&(m.passiveEffectDuration+=u);return;case I:var y=p.stateNode;y!==null&&(y.passiveEffectDuration+=u);return}p=p.return}}}function Ci(){j0=vl()}function o2(){H0=vl()}function s2(s){for(var u=s.child;u;)s.actualDuration+=u.actualDuration,u=u.sibling}function wc(s,u){return{value:s,source:u,stack:Co(u),digest:null}}function i2(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function YTe(s,u){return!0}function u2(s,u){try{var p=YTe(s,u);if(p===!1)return;var m=u.value,y=u.source,_=u.stack,k=_!==null?_:"";if(m!=null&&m._suppressLogging){if(s.tag===f)return;console.error(m)}var N=y?At(y):null,$=N?"The above error occurred in the <"+N+"> component:":"The above error occurred in one of your React components:",j;if(s.tag===h)j=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var q=At(s)||"Anonymous";j="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+q+".")}var ue=$+`
`+k+`

`+(""+j);console.error(ue)}catch(ie){setTimeout(function(){throw ie})}}var XTe=typeof WeakMap=="function"?WeakMap:Map;function WL(s,u,p){var m=gu(cr,p);m.tag=uT,m.payload={element:null};var y=u.value;return m.callback=function(){Vke(y),u2(s,u)},m}function l2(s,u,p){var m=gu(cr,p);m.tag=uT;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var _=u.value;m.payload=function(){return y(_)},m.callback=function(){n8(s),u2(s,u)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){n8(s),u2(s,u),typeof y!="function"&&zke(this);var $=u.value,j=u.stack;this.componentDidCatch($,{componentStack:j!==null?j:""}),typeof y!="function"&&(qo(s.lanes,zt)||i("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",At(s)||"Unknown"))}),m}function qL(s,u,p){var m=s.pingCache,y;if(m===null?(m=s.pingCache=new XTe,y=new Set,m.set(u,y)):(y=m.get(u),y===void 0&&(y=new Set,m.set(u,y))),!y.has(p)){y.add(p);var _=jke.bind(null,s,u,p);Us&&gm(s,p),u.then(_,_)}}function QTe(s,u,p,m){var y=s.updateQueue;if(y===null){var _=new Set;_.add(p),s.updateQueue=_}else y.add(p)}function ZTe(s,u){var p=s.tag;if((s.mode&gn)===Dt&&(p===d||p===C||p===B)){var m=s.alternate;m?(s.updateQueue=m.updateQueue,s.memoizedState=m.memoizedState,s.lanes=m.lanes):(s.updateQueue=null,s.memoizedState=null)}}function GL(s){var u=s;do{if(u.tag===D&&FTe(u))return u;u=u.return}while(u!==null);return null}function KL(s,u,p,m,y){if((s.mode&gn)===Dt){if(s===u)s.flags|=fo;else{if(s.flags|=$n,p.flags|=IE,p.flags&=-52805,p.tag===f){var _=p.alternate;if(_===null)p.tag=z;else{var k=gu(cr,zt);k.tag=g0,pl(p,k,zt)}}p.lanes=Qt(p.lanes,zt)}return s}return s.flags|=fo,s.lanes=y,s}function JTe(s,u,p,m,y){if(p.flags|=wb,Us&&gm(s,y),m!==null&&typeof m=="object"&&typeof m.then=="function"){var _=m;ZTe(p),Ia()&&p.mode&gn&&LP();var k=GL(u);if(k!==null){k.flags&=~ou,KL(k,u,p,s,y),k.mode&gn&&qL(s,_,y),QTe(k,s,_);return}else{if(!__e(y)){qL(s,_,y),V2();return}var N=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");m=N}}else if(Ia()&&p.mode&gn){LP();var $=GL(u);if($!==null){($.flags&fo)===Nt&&($.flags|=ou),KL($,u,p,s,y),tT(wc(m,p));return}}m=wc(m,p),Dke(m);var j=u;do{switch(j.tag){case h:{var q=m;j.flags|=fo;var ue=uh(y);j.lanes=Qt(j.lanes,ue);var ie=WL(j,q,ue);dT(j,ie);return}case f:var be=m,we=j.type,Te=j.stateNode;if((j.flags&$n)===Nt&&(typeof we.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&!G5(Te))){j.flags|=fo;var ut=uh(y);j.lanes=Qt(j.lanes,ut);var kt=l2(j,be,ut);dT(j,kt);return}break}j=j.return}while(j!==null)}function e2e(){return null}var tm=n.ReactCurrentOwner,Ys=!1,c2,nm,d2,f2,p2,_c,h2,G0;c2={},nm={},d2={},f2={},p2={},_c=!1,h2={},G0={};function po(s,u,p,m){s===null?u.child=fL(u,null,p,m):u.child=Xd(u,s.child,p,m)}function t2e(s,u,p,m){u.child=Xd(u,s.child,null,m),u.child=Xd(u,null,p,m)}function YL(s,u,p,m,y){if(u.type!==u.elementType){var _=p.propTypes;_&&js(_,m,"prop",sn(p))}var k=p.render,N=u.ref,$,j;Yd(u,y),nh(u);{if(tm.current=u,$e(!0),$=nf(s,u,k,m,N,y),j=rf(),u.mode&Yr){ya(!0);try{$=nf(s,u,k,m,N,y),j=rf()}finally{ya(!1)}}$e(!1)}return Rd(),s!==null&&!Ys?(vL(s,u,y),vu(s,u,y)):(Ia()&&j&&YC(u),u.flags|=Cd,po(s,u,$,y),u.child)}function XL(s,u,p,m,y){if(s===null){var _=p.type;if(sIe(_)&&p.compare===null&&p.defaultProps===void 0){var k=_;return k=ff(_),u.tag=B,u.type=k,v2(u,_),QL(s,u,k,m,y)}{var N=_.propTypes;N&&js(N,m,"prop",sn(_))}var $=J2(p.type,null,m,u,u.mode,y);return $.ref=u.ref,$.return=u,u.child=$,$}{var j=p.type,q=j.propTypes;q&&js(q,m,"prop",sn(j))}var ue=s.child,ie=x2(s,y);if(!ie){var be=ue.memoizedProps,we=p.compare;if(we=we!==null?we:xh,we(be,m)&&s.ref===u.ref)return vu(s,u,y)}u.flags|=Cd;var Te=kc(ue,m);return Te.ref=u.ref,Te.return=u,u.child=Te,Te}function QL(s,u,p,m,y){if(u.type!==u.elementType){var _=u.elementType;if(_.$$typeof===_t){var k=_,N=k._payload,$=k._init;try{_=$(N)}catch{_=null}var j=_&&_.propTypes;j&&js(j,m,"prop",sn(_))}}if(s!==null){var q=s.memoizedProps;if(xh(q,m)&&s.ref===u.ref&&u.type===s.type)if(Ys=!1,u.pendingProps=m=q,x2(s,y))(s.flags&IE)!==Nt&&(Ys=!0);else return u.lanes=s.lanes,vu(s,u,y)}return m2(s,u,p,m,y)}function ZL(s,u,p){var m=u.pendingProps,y=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden"||ye)if((u.mode&gn)===Dt){var k={baseLanes:Fe,cachePool:null,transitions:null};u.memoizedState=k,s1(u,p)}else if(qo(p,Wo)){var ue={baseLanes:Fe,cachePool:null,transitions:null};u.memoizedState=ue;var ie=_!==null?_.baseLanes:p;s1(u,ie)}else{var N=null,$;if(_!==null){var j=_.baseLanes;$=Qt(j,p)}else $=p;u.lanes=u.childLanes=Wo;var q={baseLanes:$,cachePool:N,transitions:null};return u.memoizedState=q,u.updateQueue=null,s1(u,$),null}else{var be;_!==null?(be=Qt(_.baseLanes,p),u.memoizedState=null):be=p,s1(u,be)}return po(s,u,y,p),u.child}function n2e(s,u,p){var m=u.pendingProps;return po(s,u,m,p),u.child}function r2e(s,u,p){var m=u.pendingProps.children;return po(s,u,m,p),u.child}function a2e(s,u,p){{u.flags|=Mn;{var m=u.stateNode;m.effectDuration=0,m.passiveEffectDuration=0}}var y=u.pendingProps,_=y.children;return po(s,u,_,p),u.child}function JL(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=tc,u.flags|=RE)}function m2(s,u,p,m,y){if(u.type!==u.elementType){var _=p.propTypes;_&&js(_,m,"prop",sn(p))}var k;{var N=jd(u,p,!0);k=Hd(u,N)}var $,j;Yd(u,y),nh(u);{if(tm.current=u,$e(!0),$=nf(s,u,p,m,k,y),j=rf(),u.mode&Yr){ya(!0);try{$=nf(s,u,p,m,k,y),j=rf()}finally{ya(!1)}}$e(!1)}return Rd(),s!==null&&!Ys?(vL(s,u,y),vu(s,u,y)):(Ia()&&j&&YC(u),u.flags|=Cd,po(s,u,$,y),u.child)}function e5(s,u,p,m,y){{switch(wIe(u)){case!1:{var _=u.stateNode,k=u.type,N=new k(u.memoizedProps,_.context),$=N.state;_.updater.enqueueSetState(_,$,null);break}case!0:{u.flags|=$n,u.flags|=fo;var j=new Error("Simulated error coming from DevTools"),q=uh(y);u.lanes=Qt(u.lanes,q);var ue=l2(u,wc(j,u),q);dT(u,ue);break}}if(u.type!==u.elementType){var ie=p.propTypes;ie&&js(ie,m,"prop",sn(p))}}var be;Si(p)?(be=!0,o0(u)):be=!1,Yd(u,y);var we=u.stateNode,Te;we===null?(Y0(s,u),iL(u,p,m),xT(u,p,m,y),Te=!0):s===null?Te=ATe(u,p,m,y):Te=NTe(s,u,p,m,y);var ut=g2(s,u,p,Te,be,y);{var kt=u.stateNode;Te&&kt.props!==m&&(_c||i("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",At(u)||"a component"),_c=!0)}return ut}function g2(s,u,p,m,y,_){JL(s,u);var k=(u.flags&$n)!==Nt;if(!m&&!k)return y&&MP(u,p,!1),vu(s,u,_);var N=u.stateNode;tm.current=u;var $;if(k&&typeof p.getDerivedStateFromError!="function")$=null,HL();else{nh(u);{if($e(!0),$=N.render(),u.mode&Yr){ya(!0);try{N.render()}finally{ya(!1)}}$e(!1)}Rd()}return u.flags|=Cd,s!==null&&k?t2e(s,u,$,_):po(s,u,$,_),u.memoizedState=N.state,y&&MP(u,p,!0),u.child}function t5(s){var u=s.stateNode;u.pendingContext?DP(s,u.pendingContext,u.pendingContext!==u.context):u.context&&DP(s,u.context,!1),RT(s,u.containerInfo)}function o2e(s,u,p){if(t5(u),s===null)throw new Error("Should have a current fiber. This is a bug in React.");var m=u.pendingProps,y=u.memoizedState,_=y.element;JP(s,u),S0(u,m,null,p);var k=u.memoizedState;u.stateNode;var N=k.element;if(y.isDehydrated){var $={element:N,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},j=u.updateQueue;if(j.baseState=$,u.memoizedState=$,u.flags&ou){var q=wc(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),u);return n5(s,u,N,p,q)}else if(N!==_){var ue=wc(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),u);return n5(s,u,N,p,ue)}else{lTe(u);var ie=fL(u,null,N,p);u.child=ie;for(var be=ie;be;)be.flags=be.flags&~Kr|su,be=be.sibling}}else{if(Gd(),N===_)return vu(s,u,p);po(s,u,N,p)}return u.child}function n5(s,u,p,m,y){return Gd(),tT(y),u.flags|=ou,po(s,u,p,m),u.child}function s2e(s,u,p){hL(u),s===null&&eT(u);var m=u.type,y=u.pendingProps,_=s!==null?s.memoizedProps:null,k=y.children,N=$C(m,y);return N?k=null:_!==null&&$C(m,_)&&(u.flags|=eh),JL(s,u),po(s,u,k,p),u.child}function i2e(s,u){return s===null&&eT(u),null}function u2e(s,u,p,m){Y0(s,u);var y=u.pendingProps,_=p,k=_._payload,N=_._init,$=N(k);u.type=$;var j=u.tag=iIe($),q=qs($,y),ue;switch(j){case d:return v2(u,$),u.type=$=ff($),ue=m2(null,u,$,q,m),ue;case f:return u.type=$=G2($),ue=e5(null,u,$,q,m),ue;case C:return u.type=$=K2($),ue=YL(null,u,$,q,m),ue;case F:{if(u.type!==u.elementType){var ie=$.propTypes;ie&&js(ie,q,"prop",sn($))}return ue=XL(null,u,$,qs($.type,q),m),ue}}var be="";throw $!==null&&typeof $=="object"&&$.$$typeof===_t&&(be=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+$+". "+("Lazy element type must resolve to a class or function."+be))}function l2e(s,u,p,m,y){Y0(s,u),u.tag=f;var _;return Si(p)?(_=!0,o0(u)):_=!1,Yd(u,y),iL(u,p,m),xT(u,p,m,y),g2(null,u,p,!0,_,y)}function c2e(s,u,p,m){Y0(s,u);var y=u.pendingProps,_;{var k=jd(u,p,!1);_=Hd(u,k)}Yd(u,m);var N,$;nh(u);{if(p.prototype&&typeof p.prototype.render=="function"){var j=sn(p)||"Unknown";c2[j]||(i("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",j,j),c2[j]=!0)}u.mode&Yr&&Ws.recordLegacyContextWarning(u,null),$e(!0),tm.current=u,N=nf(null,u,p,y,_,m),$=rf(),$e(!1)}if(Rd(),u.flags|=Cd,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0){var q=sn(p)||"Unknown";nm[q]||(i("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",q,q,q),nm[q]=!0)}if(typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0){{var ue=sn(p)||"Unknown";nm[ue]||(i("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ue,ue,ue),nm[ue]=!0)}u.tag=f,u.memoizedState=null,u.updateQueue=null;var ie=!1;return Si(p)?(ie=!0,o0(u)):ie=!1,u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,cT(u),sL(u,N),xT(u,p,y,m),g2(null,u,p,!0,ie,m)}else{if(u.tag=d,u.mode&Yr){ya(!0);try{N=nf(null,u,p,y,_,m),$=rf()}finally{ya(!1)}}return Ia()&&$&&YC(u),po(null,u,N,m),v2(u,p),u.child}}function v2(s,u){{if(u&&u.childContextTypes&&i("%s(...): childContextTypes cannot be defined on a function component.",u.displayName||u.name||"Component"),s.ref!==null){var p="",m=Wa();m&&(p+=`

Check the render method of \``+m+"`.");var y=m||"",_=s._debugSource;_&&(y=_.fileName+":"+_.lineNumber),p2[y]||(p2[y]=!0,i("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",p))}if(typeof u.getDerivedStateFromProps=="function"){var k=sn(u)||"Unknown";f2[k]||(i("%s: Function components do not support getDerivedStateFromProps.",k),f2[k]=!0)}if(typeof u.contextType=="object"&&u.contextType!==null){var N=sn(u)||"Unknown";d2[N]||(i("%s: Function components do not support contextType.",N),d2[N]=!0)}}}var y2={dehydrated:null,treeContext:null,retryLane:ba};function b2(s){return{baseLanes:s,cachePool:e2e(),transitions:null}}function d2e(s,u){var p=null;return{baseLanes:Qt(s.baseLanes,u),cachePool:p,transitions:s.transitions}}function f2e(s,u,p,m){if(u!==null){var y=u.memoizedState;if(y===null)return!1}return DT(s,Gh)}function p2e(s,u){return Ib(s.childLanes,u)}function r5(s,u,p){var m=u.pendingProps;_Ie(u)&&(u.flags|=$n);var y=Gs.current,_=!1,k=(u.flags&$n)!==Nt;if(k||f2e(y,s)?(_=!0,u.flags&=~$n):(s===null||s.memoizedState!==null)&&(y=$Te(y,gL)),y=Zd(y),ml(u,y),s===null){eT(u);var N=u.memoizedState;if(N!==null){var $=N.dehydrated;if($!==null)return y2e(u,$)}var j=m.children,q=m.fallback;if(_){var ue=h2e(u,j,q,p),ie=u.child;return ie.memoizedState=b2(p),u.memoizedState=y2,ue}else return S2(u,j)}else{var be=s.memoizedState;if(be!==null){var we=be.dehydrated;if(we!==null)return b2e(s,u,k,m,we,be,p)}if(_){var Te=m.fallback,ut=m.children,kt=g2e(s,u,ut,Te,p),wt=u.child,yn=s.child.memoizedState;return wt.memoizedState=yn===null?b2(p):d2e(yn,p),wt.childLanes=p2e(s,p),u.memoizedState=y2,kt}else{var ln=m.children,he=m2e(s,u,ln,p);return u.memoizedState=null,he}}}function S2(s,u,p){var m=s.mode,y={mode:"visible",children:u},_=w2(y,m);return _.return=s,s.child=_,_}function h2e(s,u,p,m){var y=s.mode,_=s.child,k={mode:"hidden",children:u},N,$;return(y&gn)===Dt&&_!==null?(N=_,N.childLanes=Fe,N.pendingProps=k,s.mode&Gn&&(N.actualDuration=0,N.actualStartTime=-1,N.selfBaseDuration=0,N.treeBaseDuration=0),$=xl(p,y,m,null)):(N=w2(k,y),$=xl(p,y,m,null)),N.return=s,$.return=s,N.sibling=$,s.child=N,$}function w2(s,u,p){return a8(s,u,Fe,null)}function a5(s,u){return kc(s,u)}function m2e(s,u,p,m){var y=s.child,_=y.sibling,k=a5(y,{mode:"visible",children:p});if((u.mode&gn)===Dt&&(k.lanes=m),k.return=u,k.sibling=null,_!==null){var N=u.deletions;N===null?(u.deletions=[_],u.flags|=ec):N.push(_)}return u.child=k,k}function g2e(s,u,p,m,y){var _=u.mode,k=s.child,N=k.sibling,$={mode:"hidden",children:p},j;if((_&gn)===Dt&&u.child!==k){var q=u.child;j=q,j.childLanes=Fe,j.pendingProps=$,u.mode&Gn&&(j.actualDuration=0,j.actualStartTime=-1,j.selfBaseDuration=k.selfBaseDuration,j.treeBaseDuration=k.treeBaseDuration),u.deletions=null}else j=a5(k,$),j.subtreeFlags=k.subtreeFlags&iu;var ue;return N!==null?ue=kc(N,m):(ue=xl(m,_,y,null),ue.flags|=Kr),ue.return=u,j.return=u,j.sibling=ue,u.child=j,ue}function K0(s,u,p,m){m!==null&&tT(m),Xd(u,s.child,null,p);var y=u.pendingProps,_=y.children,k=S2(u,_);return k.flags|=Kr,u.memoizedState=null,k}function v2e(s,u,p,m,y){var _=u.mode,k={mode:"visible",children:p},N=w2(k,_),$=xl(m,_,y,null);return $.flags|=Kr,N.return=u,$.return=u,N.sibling=$,u.child=N,(u.mode&gn)!==Dt&&Xd(u,s.child,null,y),$}function y2e(s,u,p){return(s.mode&gn)===Dt?(i("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),s.lanes=zt):BC(u)?s.lanes=sc:s.lanes=Wo,null}function b2e(s,u,p,m,y,_,k){if(p)if(u.flags&ou){u.flags&=~ou;var he=i2(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return K0(s,u,k,he)}else{if(u.memoizedState!==null)return u.child=s.child,u.flags|=$n,null;var ke=m.children,me=m.fallback,Be=v2e(s,u,ke,me,k),lt=u.child;return lt.memoizedState=b2(k),u.memoizedState=y2,Be}else{if(iTe(),(u.mode&gn)===Dt)return K0(s,u,k,null);if(BC(y)){var N,$,j;{var q=ECe(y);N=q.digest,$=q.message,j=q.stack}var ue;$?ue=new Error($):ue=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var ie=i2(ue,N,j);return K0(s,u,k,ie)}var be=qo(k,s.childLanes);if(Ys||be){var we=o1();if(we!==null){var Te=A_e(we,k);if(Te!==ba&&Te!==_.retryLane){_.retryLane=Te;var ut=cr;Io(s,Te),ua(we,s,Te,ut)}}V2();var kt=i2(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return K0(s,u,k,kt)}else if(TP(y)){u.flags|=$n,u.child=s.child;var wt=Hke.bind(null,s);return CCe(y,wt),null}else{cTe(u,y,_.treeContext);var yn=m.children,ln=S2(u,yn);return ln.flags|=su,ln}}}function o5(s,u,p){s.lanes=Qt(s.lanes,u);var m=s.alternate;m!==null&&(m.lanes=Qt(m.lanes,u)),sT(s.return,u,p)}function S2e(s,u,p){for(var m=u;m!==null;){if(m.tag===D){var y=m.memoizedState;y!==null&&o5(m,p,s)}else if(m.tag===O)o5(m,p,s);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)return;for(;m.sibling===null;){if(m.return===null||m.return===s)return;m=m.return}m.sibling.return=m.return,m=m.sibling}}function w2e(s){for(var u=s,p=null;u!==null;){var m=u.alternate;m!==null&&k0(m)===null&&(p=u),u=u.sibling}return p}function _2e(s){if(s!==void 0&&s!=="forwards"&&s!=="backwards"&&s!=="together"&&!h2[s])if(h2[s]=!0,typeof s=="string")switch(s.toLowerCase()){case"together":case"forwards":case"backwards":{i('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break}case"forward":case"backward":{i('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break}default:i('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);break}else i('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}function x2e(s,u){s!==void 0&&!G0[s]&&(s!=="collapsed"&&s!=="hidden"?(G0[s]=!0,i('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):u!=="forwards"&&u!=="backwards"&&(G0[s]=!0,i('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s)))}function s5(s,u){{var p=Re(s),m=!p&&typeof xo(s)=="function";if(p||m){var y=p?"array":"iterable";return i("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",y,u,y),!1}}return!0}function E2e(s,u){if((u==="forwards"||u==="backwards")&&s!==void 0&&s!==null&&s!==!1)if(Re(s)){for(var p=0;p<s.length;p++)if(!s5(s[p],p))return}else{var m=xo(s);if(typeof m=="function"){var y=m.call(s);if(y)for(var _=y.next(),k=0;!_.done;_=y.next()){if(!s5(_.value,k))return;k++}}else i('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',u)}}function _2(s,u,p,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:y}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=p,_.tailMode=y)}function i5(s,u,p){var m=u.pendingProps,y=m.revealOrder,_=m.tail,k=m.children;_2e(y),x2e(_,y),E2e(k,y),po(s,u,k,p);var N=Gs.current,$=DT(N,Gh);if($)N=OT(N,Gh),u.flags|=$n;else{var j=s!==null&&(s.flags&$n)!==Nt;j&&S2e(u,u.child,p),N=Zd(N)}if(ml(u,N),(u.mode&gn)===Dt)u.memoizedState=null;else switch(y){case"forwards":{var q=w2e(u.child),ue;q===null?(ue=u.child,u.child=null):(ue=q.sibling,q.sibling=null),_2(u,!1,ue,q,_);break}case"backwards":{var ie=null,be=u.child;for(u.child=null;be!==null;){var we=be.alternate;if(we!==null&&k0(we)===null){u.child=be;break}var Te=be.sibling;be.sibling=ie,ie=be,be=Te}_2(u,!0,ie,null,_);break}case"together":{_2(u,!1,null,null,void 0);break}default:u.memoizedState=null}return u.child}function C2e(s,u,p){RT(u,u.stateNode.containerInfo);var m=u.pendingProps;return s===null?u.child=Xd(u,null,m,p):po(s,u,m,p),u.child}var u5=!1;function T2e(s,u,p){var m=u.type,y=m._context,_=u.pendingProps,k=u.memoizedProps,N=_.value;{"value"in _||u5||(u5=!0,i("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var $=u.type.propTypes;$&&js($,_,"prop","Context.Provider")}if(YP(u,y,N),k!==null){var j=k.value;if(Yo(j,N)){if(k.children===_.children&&!r0())return vu(s,u,p)}else STe(u,y,p)}var q=_.children;return po(s,u,q,p),u.child}var l5=!1;function k2e(s,u,p){var m=u.type;m._context===void 0?m!==m.Consumer&&(l5||(l5=!0,i("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):m=m._context;var y=u.pendingProps,_=y.children;typeof _!="function"&&i("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Yd(u,p);var k=Xr(m);nh(u);var N;return tm.current=u,$e(!0),N=_(k),$e(!1),Rd(),u.flags|=Cd,po(s,u,N,p),u.child}function rm(){Ys=!0}function Y0(s,u){(u.mode&gn)===Dt&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=Kr)}function vu(s,u,p){return s!==null&&(u.dependencies=s.dependencies),HL(),mm(u.lanes),qo(p,u.childLanes)?(DTe(s,u),u.child):null}function I2e(s,u,p){{var m=u.return;if(m===null)throw new Error("Cannot swap the root fiber.");if(s.alternate=null,u.alternate=null,p.index=u.index,p.sibling=u.sibling,p.return=u.return,p.ref=u.ref,u===m.child)m.child=p;else{var y=m.child;if(y===null)throw new Error("Expected parent to have a child.");for(;y.sibling!==u;)if(y=y.sibling,y===null)throw new Error("Expected to find the previous sibling.");y.sibling=p}var _=m.deletions;return _===null?(m.deletions=[s],m.flags|=ec):_.push(s),p.flags|=Kr,p}}function x2(s,u){var p=s.lanes;return!!qo(p,u)}function R2e(s,u,p){switch(u.tag){case h:t5(u),u.stateNode,Gd();break;case v:hL(u);break;case f:{var m=u.type;Si(m)&&o0(u);break}case g:RT(u,u.stateNode.containerInfo);break;case T:{var y=u.memoizedProps.value,_=u.type._context;YP(u,_,y);break}case I:{var k=qo(p,u.childLanes);k&&(u.flags|=Mn);{var N=u.stateNode;N.effectDuration=0,N.passiveEffectDuration=0}}break;case D:{var $=u.memoizedState;if($!==null){if($.dehydrated!==null)return ml(u,Zd(Gs.current)),u.flags|=$n,null;var j=u.child,q=j.childLanes;if(qo(p,q))return r5(s,u,p);ml(u,Zd(Gs.current));var ue=vu(s,u,p);return ue!==null?ue.sibling:null}else ml(u,Zd(Gs.current));break}case O:{var ie=(s.flags&$n)!==Nt,be=qo(p,u.childLanes);if(ie){if(be)return i5(s,u,p);u.flags|=$n}var we=u.memoizedState;if(we!==null&&(we.rendering=null,we.tail=null,we.lastEffect=null),ml(u,Gs.current),be)break;return null}case G:case Z:return u.lanes=Fe,ZL(s,u,p)}return vu(s,u,p)}function c5(s,u,p){if(u._debugNeedsRemount&&s!==null)return I2e(s,u,J2(u.type,u.key,u.pendingProps,u._debugOwner||null,u.mode,u.lanes));if(s!==null){var m=s.memoizedProps,y=u.pendingProps;if(m!==y||r0()||u.type!==s.type)Ys=!0;else{var _=x2(s,p);if(!_&&(u.flags&$n)===Nt)return Ys=!1,R2e(s,u,p);(s.flags&IE)!==Nt?Ys=!0:Ys=!1}}else if(Ys=!1,Ia()&&tTe(u)){var k=u.index,N=nTe();PP(u,N,k)}switch(u.lanes=Fe,u.tag){case c:return c2e(s,u,u.type,p);case H:{var $=u.elementType;return u2e(s,u,$,p)}case d:{var j=u.type,q=u.pendingProps,ue=u.elementType===j?q:qs(j,q);return m2(s,u,j,ue,p)}case f:{var ie=u.type,be=u.pendingProps,we=u.elementType===ie?be:qs(ie,be);return e5(s,u,ie,we,p)}case h:return o2e(s,u,p);case v:return s2e(s,u,p);case b:return i2e(s,u);case D:return r5(s,u,p);case g:return C2e(s,u,p);case C:{var Te=u.type,ut=u.pendingProps,kt=u.elementType===Te?ut:qs(Te,ut);return YL(s,u,Te,kt,p)}case w:return n2e(s,u,p);case x:return r2e(s,u,p);case I:return a2e(s,u,p);case T:return T2e(s,u,p);case E:return k2e(s,u,p);case F:{var wt=u.type,yn=u.pendingProps,ln=qs(wt,yn);if(u.type!==u.elementType){var he=wt.propTypes;he&&js(he,ln,"prop",sn(wt))}return ln=qs(wt.type,ln),XL(s,u,wt,ln,p)}case B:return QL(s,u,u.type,u.pendingProps,p);case z:{var ke=u.type,me=u.pendingProps,Be=u.elementType===ke?me:qs(ke,me);return l2e(s,u,ke,Be,p)}case O:return i5(s,u,p);case K:break;case G:return ZL(s,u,p)}throw new Error("Unknown unit of work tag ("+u.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function af(s){s.flags|=Mn}function d5(s){s.flags|=tc,s.flags|=RE}var f5,E2,p5,h5;f5=function(s,u,p,m){for(var y=u.child;y!==null;){if(y.tag===v||y.tag===b)ZEe(s,y.stateNode);else if(y.tag!==g){if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)return;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},E2=function(s,u){},p5=function(s,u,p,m,y){var _=s.memoizedProps;if(_!==m){var k=u.stateNode,N=AT(),$=eCe(k,p,_,m,y,N);u.updateQueue=$,$&&af(u)}},h5=function(s,u,p,m){p!==m&&af(u)};function am(s,u){if(!Ia())switch(s.tailMode){case"hidden":{for(var p=s.tail,m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?s.tail=null:m.sibling=null;break}case"collapsed":{for(var y=s.tail,_=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?!u&&s.tail!==null?s.tail.sibling=null:s.tail=null:_.sibling=null;break}}}function Aa(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=Fe,m=Nt;if(u){if((s.mode&Gn)!==Dt){for(var $=s.selfBaseDuration,j=s.child;j!==null;)p=Qt(p,Qt(j.lanes,j.childLanes)),m|=j.subtreeFlags&iu,m|=j.flags&iu,$+=j.treeBaseDuration,j=j.sibling;s.treeBaseDuration=$}else for(var q=s.child;q!==null;)p=Qt(p,Qt(q.lanes,q.childLanes)),m|=q.subtreeFlags&iu,m|=q.flags&iu,q.return=s,q=q.sibling;s.subtreeFlags|=m}else{if((s.mode&Gn)!==Dt){for(var y=s.actualDuration,_=s.selfBaseDuration,k=s.child;k!==null;)p=Qt(p,Qt(k.lanes,k.childLanes)),m|=k.subtreeFlags,m|=k.flags,y+=k.actualDuration,_+=k.treeBaseDuration,k=k.sibling;s.actualDuration=y,s.treeBaseDuration=_}else for(var N=s.child;N!==null;)p=Qt(p,Qt(N.lanes,N.childLanes)),m|=N.subtreeFlags,m|=N.flags,N.return=s,N=N.sibling;s.subtreeFlags|=m}return s.childLanes=p,u}function A2e(s,u,p){if(mTe()&&(u.mode&gn)!==Dt&&(u.flags&$n)===Nt)return HP(u),Gd(),u.flags|=ou|wb|fo,!1;var m=c0(u);if(p!==null&&p.dehydrated!==null)if(s===null){if(!m)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(pTe(u),Aa(u),(u.mode&Gn)!==Dt){var y=p!==null;if(y){var _=u.child;_!==null&&(u.treeBaseDuration-=_.treeBaseDuration)}}return!1}else{if(Gd(),(u.flags&$n)===Nt&&(u.memoizedState=null),u.flags|=Mn,Aa(u),(u.mode&Gn)!==Dt){var k=p!==null;if(k){var N=u.child;N!==null&&(u.treeBaseDuration-=N.treeBaseDuration)}}return!1}else return WP(),!0}function m5(s,u,p){var m=u.pendingProps;switch(XC(u),u.tag){case c:case H:case B:case d:case C:case w:case x:case I:case E:case F:return Aa(u),null;case f:{var y=u.type;return Si(y)&&a0(u),Aa(u),null}case h:{var _=u.stateNode;if(Qd(u),qC(u),$T(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),s===null||s.child===null){var k=c0(u);if(k)af(u);else if(s!==null){var N=s.memoizedState;(!N.isDehydrated||(u.flags&ou)!==Nt)&&(u.flags|=Td,WP())}}return E2(s,u),Aa(u),null}case v:{NT(u);var $=pL(),j=u.type;if(s!==null&&u.stateNode!=null)p5(s,u,j,m,$),s.ref!==u.ref&&d5(u);else{if(!m){if(u.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Aa(u),null}var q=AT(),ue=c0(u);if(ue)dTe(u,$,q)&&af(u);else{var ie=QEe(j,m,$,q,u);f5(ie,u,!1,!1),u.stateNode=ie,JEe(ie,j,m,$)&&af(u)}u.ref!==null&&d5(u)}return Aa(u),null}case b:{var be=m;if(s&&u.stateNode!=null){var we=s.memoizedProps;h5(s,u,we,be)}else{if(typeof be!="string"&&u.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Te=pL(),ut=AT(),kt=c0(u);kt?fTe(u)&&af(u):u.stateNode=tCe(be,Te,ut,u)}return Aa(u),null}case D:{Jd(u);var wt=u.memoizedState;if(s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){var yn=A2e(s,u,wt);if(!yn)return u.flags&fo?u:null}if((u.flags&$n)!==Nt)return u.lanes=p,(u.mode&Gn)!==Dt&&s2(u),u;var ln=wt!==null,he=s!==null&&s.memoizedState!==null;if(ln!==he&&ln){var ke=u.child;if(ke.flags|=nc,(u.mode&gn)!==Dt){var me=s===null&&(u.memoizedProps.unstable_avoidThisFallback!==!0||!0);me||DT(Gs.current,gL)?Nke():V2()}}var Be=u.updateQueue;if(Be!==null&&(u.flags|=Mn),Aa(u),(u.mode&Gn)!==Dt&&ln){var lt=u.child;lt!==null&&(u.treeBaseDuration-=lt.treeBaseDuration)}return null}case g:return Qd(u),E2(s,u),s===null&&KCe(u.stateNode.containerInfo),Aa(u),null;case T:var tt=u.type._context;return oT(tt,u),Aa(u),null;case z:{var Mt=u.type;return Si(Mt)&&a0(u),Aa(u),null}case O:{Jd(u);var jt=u.memoizedState;if(jt===null)return Aa(u),null;var Yn=(u.flags&$n)!==Nt,Rn=jt.rendering;if(Rn===null)if(Yn)am(jt,!1);else{var Ur=Oke()&&(s===null||(s.flags&$n)===Nt);if(!Ur)for(var An=u.child;An!==null;){var Mr=k0(An);if(Mr!==null){Yn=!0,u.flags|=$n,am(jt,!1);var Qa=Mr.updateQueue;return Qa!==null&&(u.updateQueue=Qa,u.flags|=Mn),u.subtreeFlags=Nt,OTe(u,p),ml(u,OT(Gs.current,Gh)),u.child}An=An.sibling}jt.tail!==null&&va()>F5()&&(u.flags|=$n,Yn=!0,am(jt,!1),u.lanes=p6)}else{if(!Yn){var $a=k0(Rn);if($a!==null){u.flags|=$n,Yn=!0;var Zo=$a.updateQueue;if(Zo!==null&&(u.updateQueue=Zo,u.flags|=Mn),am(jt,!0),jt.tail===null&&jt.tailMode==="hidden"&&!Rn.alternate&&!Ia())return Aa(u),null}else va()*2-jt.renderingStartTime>F5()&&p!==Wo&&(u.flags|=$n,Yn=!0,am(jt,!1),u.lanes=p6)}if(jt.isBackwards)Rn.sibling=u.child,u.child=Rn;else{var go=jt.last;go!==null?go.sibling=Rn:u.child=Rn,jt.last=Rn}}if(jt.tail!==null){var vo=jt.tail;jt.rendering=vo,jt.tail=vo.sibling,jt.renderingStartTime=va(),vo.sibling=null;var Za=Gs.current;return Yn?Za=OT(Za,Gh):Za=Zd(Za),ml(u,Za),vo}return Aa(u),null}case K:break;case G:case Z:{U2(u);var _u=u.memoizedState,pf=_u!==null;if(s!==null){var Sm=s.memoizedState,Ii=Sm!==null;Ii!==pf&&!ye&&(u.flags|=nc)}return!pf||(u.mode&gn)===Dt?Aa(u):qo(ki,Wo)&&(Aa(u),u.subtreeFlags&(Kr|Mn)&&(u.flags|=nc)),null}case J:return null;case se:return null}throw new Error("Unknown unit of work tag ("+u.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function N2e(s,u,p){switch(XC(u),u.tag){case f:{var m=u.type;Si(m)&&a0(u);var y=u.flags;return y&fo?(u.flags=y&~fo|$n,(u.mode&Gn)!==Dt&&s2(u),u):null}case h:{u.stateNode,Qd(u),qC(u),$T();var _=u.flags;return(_&fo)!==Nt&&(_&$n)===Nt?(u.flags=_&~fo|$n,u):null}case v:return NT(u),null;case D:{Jd(u);var k=u.memoizedState;if(k!==null&&k.dehydrated!==null){if(u.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Gd()}var N=u.flags;return N&fo?(u.flags=N&~fo|$n,(u.mode&Gn)!==Dt&&s2(u),u):null}case O:return Jd(u),null;case g:return Qd(u),null;case T:var $=u.type._context;return oT($,u),null;case G:case Z:return U2(u),null;case J:return null;default:return null}}function g5(s,u,p){switch(XC(u),u.tag){case f:{var m=u.type.childContextTypes;m!=null&&a0(u);break}case h:{u.stateNode,Qd(u),qC(u),$T();break}case v:{NT(u);break}case g:Qd(u);break;case D:Jd(u);break;case O:Jd(u);break;case T:var y=u.type._context;oT(y,u);break;case G:case Z:U2(u);break}}var v5=null;v5=new Set;var X0=!1,Na=!1,D2e=typeof WeakSet=="function"?WeakSet:Set,ht=null,of=null,sf=null;function O2e(s){CE(null,function(){throw s}),TE()}var M2e=function(s,u){if(u.props=s.memoizedProps,u.state=s.memoizedState,s.mode&Gn)try{Ci(),u.componentWillUnmount()}finally{Ei(s)}else u.componentWillUnmount()};function y5(s,u){try{yl(na,s)}catch(p){sr(s,u,p)}}function C2(s,u,p){try{M2e(s,p)}catch(m){sr(s,u,m)}}function $2e(s,u,p){try{p.componentDidMount()}catch(m){sr(s,u,m)}}function b5(s,u){try{w5(s)}catch(p){sr(s,u,p)}}function uf(s,u){var p=s.ref;if(p!==null)if(typeof p=="function"){var m;try{if(Ie&&De&&s.mode&Gn)try{Ci(),m=p(null)}finally{Ei(s)}else m=p(null)}catch(y){sr(s,u,y)}typeof m=="function"&&i("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",At(s))}else p.current=null}function Q0(s,u,p){try{p()}catch(m){sr(s,u,m)}}var S5=!1;function F2e(s,u){YEe(s.containerInfo),ht=u,P2e();var p=S5;return S5=!1,p}function P2e(){for(;ht!==null;){var s=ht,u=s.child;(s.subtreeFlags&DE)!==Nt&&u!==null?(u.return=s,ht=u):L2e()}}function L2e(){for(;ht!==null;){var s=ht;X(s);try{B2e(s)}catch(p){sr(s,s.return,p)}Tr();var u=s.sibling;if(u!==null){u.return=s.return,ht=u;return}ht=s.return}}function B2e(s){var u=s.alternate,p=s.flags;if((p&Td)!==Nt){switch(X(s),s.tag){case d:case C:case B:break;case f:{if(u!==null){var m=u.memoizedProps,y=u.memoizedState,_=s.stateNode;s.type===s.elementType&&!_c&&(_.props!==s.memoizedProps&&i("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",At(s)||"instance"),_.state!==s.memoizedState&&i("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",At(s)||"instance"));var k=_.getSnapshotBeforeUpdate(s.elementType===s.type?m:qs(s.type,m),y);{var N=v5;k===void 0&&!N.has(s.type)&&(N.add(s.type),i("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",At(s)))}_.__reactInternalSnapshotBeforeUpdate=k}break}case h:{{var $=s.stateNode;SCe($.containerInfo)}break}case v:case b:case g:case z:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Tr()}}function Xs(s,u,p){var m=u.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var _=y.next,k=_;do{if((k.tag&s)===s){var N=k.destroy;k.destroy=void 0,N!==void 0&&((s&Ra)!==Ro?t_e(u):(s&na)!==Ro&&u6(u),(s&wi)!==Ro&&vm(!0),Q0(u,p,N),(s&wi)!==Ro&&vm(!1),(s&Ra)!==Ro?n_e():(s&na)!==Ro&&l6())}k=k.next}while(k!==_)}}function yl(s,u){var p=u.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var y=m.next,_=y;do{if((_.tag&s)===s){(s&Ra)!==Ro?Jwe(u):(s&na)!==Ro&&r_e(u);var k=_.create;(s&wi)!==Ro&&vm(!0),_.destroy=k(),(s&wi)!==Ro&&vm(!1),(s&Ra)!==Ro?e_e():(s&na)!==Ro&&a_e();{var N=_.destroy;if(N!==void 0&&typeof N!="function"){var $=void 0;(_.tag&na)!==Nt?$="useLayoutEffect":(_.tag&wi)!==Nt?$="useInsertionEffect":$="useEffect";var j=void 0;N===null?j=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof N.then=="function"?j=`

It looks like you wrote `+$+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+$+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:j=" You returned: "+N,i("%s must not return anything besides a function, which is used for clean-up.%s",$,j)}}}_=_.next}while(_!==y)}}function z2e(s,u){if((u.flags&Mn)!==Nt)switch(u.tag){case I:{var p=u.stateNode.passiveEffectDuration,m=u.memoizedProps,y=m.id,_=m.onPostCommit,k=VL(),N=u.alternate===null?"mount":"update";UL()&&(N="nested-update"),typeof _=="function"&&_(y,N,p,k);var $=u.return;e:for(;$!==null;){switch($.tag){case h:var j=$.stateNode;j.passiveEffectDuration+=p;break e;case I:var q=$.stateNode;q.passiveEffectDuration+=p;break e}$=$.return}break}}}function U2e(s,u,p,m){if((p.flags&th)!==Nt)switch(p.tag){case d:case C:case B:{if(!Na)if(p.mode&Gn)try{Ci(),yl(na|ta,p)}finally{Ei(p)}else yl(na|ta,p);break}case f:{var y=p.stateNode;if(p.flags&Mn&&!Na)if(u===null)if(p.type===p.elementType&&!_c&&(y.props!==p.memoizedProps&&i("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",At(p)||"instance"),y.state!==p.memoizedState&&i("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",At(p)||"instance")),p.mode&Gn)try{Ci(),y.componentDidMount()}finally{Ei(p)}else y.componentDidMount();else{var _=p.elementType===p.type?u.memoizedProps:qs(p.type,u.memoizedProps),k=u.memoizedState;if(p.type===p.elementType&&!_c&&(y.props!==p.memoizedProps&&i("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",At(p)||"instance"),y.state!==p.memoizedState&&i("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",At(p)||"instance")),p.mode&Gn)try{Ci(),y.componentDidUpdate(_,k,y.__reactInternalSnapshotBeforeUpdate)}finally{Ei(p)}else y.componentDidUpdate(_,k,y.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&(p.type===p.elementType&&!_c&&(y.props!==p.memoizedProps&&i("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",At(p)||"instance"),y.state!==p.memoizedState&&i("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",At(p)||"instance")),tL(p,N,y));break}case h:{var $=p.updateQueue;if($!==null){var j=null;if(p.child!==null)switch(p.child.tag){case v:j=p.child.stateNode;break;case f:j=p.child.stateNode;break}tL(p,$,j)}break}case v:{var q=p.stateNode;if(u===null&&p.flags&Mn){var ue=p.type,ie=p.memoizedProps;sCe(q,ue,ie)}break}case b:break;case g:break;case I:{{var be=p.memoizedProps,we=be.onCommit,Te=be.onRender,ut=p.stateNode.effectDuration,kt=VL(),wt=u===null?"mount":"update";UL()&&(wt="nested-update"),typeof Te=="function"&&Te(p.memoizedProps.id,wt,p.actualDuration,p.treeBaseDuration,p.actualStartTime,kt);{typeof we=="function"&&we(p.memoizedProps.id,wt,ut,kt),Lke(p);var yn=p.return;e:for(;yn!==null;){switch(yn.tag){case h:var ln=yn.stateNode;ln.effectDuration+=ut;break e;case I:var he=yn.stateNode;he.effectDuration+=ut;break e}yn=yn.return}}}break}case D:{Y2e(s,p);break}case O:case z:case K:case G:case Z:case se:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Na||p.flags&tc&&w5(p)}function V2e(s){switch(s.tag){case d:case C:case B:{if(s.mode&Gn)try{Ci(),y5(s,s.return)}finally{Ei(s)}else y5(s,s.return);break}case f:{var u=s.stateNode;typeof u.componentDidMount=="function"&&$2e(s,s.return,u),b5(s,s.return);break}case v:{b5(s,s.return);break}}}function j2e(s,u){for(var p=null,m=s;;){if(m.tag===v){if(p===null){p=m;try{var y=m.stateNode;u?gCe(y):yCe(m.stateNode,m.memoizedProps)}catch(k){sr(s,s.return,k)}}}else if(m.tag===b){if(p===null)try{var _=m.stateNode;u?vCe(_):bCe(_,m.memoizedProps)}catch(k){sr(s,s.return,k)}}else if(!((m.tag===G||m.tag===Z)&&m.memoizedState!==null&&m!==s)){if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===s)return;for(;m.sibling===null;){if(m.return===null||m.return===s)return;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}function w5(s){var u=s.ref;if(u!==null){var p=s.stateNode,m;switch(s.tag){case v:m=p;break;default:m=p}if(typeof u=="function"){var y;if(s.mode&Gn)try{Ci(),y=u(m)}finally{Ei(s)}else y=u(m);typeof y=="function"&&i("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",At(s))}else u.hasOwnProperty("current")||i("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",At(s)),u.current=m}}function H2e(s){var u=s.alternate;u!==null&&(u.return=null),s.return=null}function _5(s){var u=s.alternate;u!==null&&(s.alternate=null,_5(u));{if(s.child=null,s.deletions=null,s.sibling=null,s.tag===v){var p=s.stateNode;p!==null&&QCe(p)}s.stateNode=null,s._debugOwner=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}}function W2e(s){for(var u=s.return;u!==null;){if(x5(u))return u;u=u.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function x5(s){return s.tag===v||s.tag===h||s.tag===g}function E5(s){var u=s;e:for(;;){for(;u.sibling===null;){if(u.return===null||x5(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==v&&u.tag!==b&&u.tag!==U;){if(u.flags&Kr||u.child===null||u.tag===g)continue e;u.child.return=u,u=u.child}if(!(u.flags&Kr))return u.stateNode}}function q2e(s){var u=W2e(s);switch(u.tag){case v:{var p=u.stateNode;u.flags&eh&&(CP(p),u.flags&=~eh);var m=E5(s);k2(s,m,p);break}case h:case g:{var y=u.stateNode.containerInfo,_=E5(s);T2(s,_,y);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function T2(s,u,p){var m=s.tag,y=m===v||m===b;if(y){var _=s.stateNode;u?fCe(p,_,u):cCe(p,_)}else if(m!==g){var k=s.child;if(k!==null){T2(k,u,p);for(var N=k.sibling;N!==null;)T2(N,u,p),N=N.sibling}}}function k2(s,u,p){var m=s.tag,y=m===v||m===b;if(y){var _=s.stateNode;u?dCe(p,_,u):lCe(p,_)}else if(m!==g){var k=s.child;if(k!==null){k2(k,u,p);for(var N=k.sibling;N!==null;)k2(N,u,p),N=N.sibling}}}var Da=null,Qs=!1;function G2e(s,u,p){{var m=u;e:for(;m!==null;){switch(m.tag){case v:{Da=m.stateNode,Qs=!1;break e}case h:{Da=m.stateNode.containerInfo,Qs=!0;break e}case g:{Da=m.stateNode.containerInfo,Qs=!0;break e}}m=m.return}if(Da===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");C5(s,u,p),Da=null,Qs=!1}H2e(p)}function bl(s,u,p){for(var m=p.child;m!==null;)C5(s,u,m),m=m.sibling}function C5(s,u,p){switch(Ywe(p),p.tag){case v:Na||uf(p,u);case b:{{var m=Da,y=Qs;Da=null,bl(s,u,p),Da=m,Qs=y,Da!==null&&(Qs?hCe(Da,p.stateNode):pCe(Da,p.stateNode))}return}case U:{Da!==null&&(Qs?mCe(Da,p.stateNode):LC(Da,p.stateNode));return}case g:{{var _=Da,k=Qs;Da=p.stateNode.containerInfo,Qs=!0,bl(s,u,p),Da=_,Qs=k}return}case d:case C:case F:case B:{if(!Na){var N=p.updateQueue;if(N!==null){var $=N.lastEffect;if($!==null){var j=$.next,q=j;do{var ue=q,ie=ue.destroy,be=ue.tag;ie!==void 0&&((be&wi)!==Ro?Q0(p,u,ie):(be&na)!==Ro&&(u6(p),p.mode&Gn?(Ci(),Q0(p,u,ie),Ei(p)):Q0(p,u,ie),l6())),q=q.next}while(q!==j)}}}bl(s,u,p);return}case f:{if(!Na){uf(p,u);var we=p.stateNode;typeof we.componentWillUnmount=="function"&&C2(p,u,we)}bl(s,u,p);return}case K:{bl(s,u,p);return}case G:{if(p.mode&gn){var Te=Na;Na=Te||p.memoizedState!==null,bl(s,u,p),Na=Te}else bl(s,u,p);break}default:{bl(s,u,p);return}}}function K2e(s){s.memoizedState}function Y2e(s,u){var p=u.memoizedState;if(p===null){var m=u.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var _=y.dehydrated;_!==null&&MCe(_)}}}}function T5(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new D2e),u.forEach(function(m){var y=Wke.bind(null,s,m);if(!p.has(m)){if(p.add(m),Us)if(of!==null&&sf!==null)gm(sf,of);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");m.then(y,y)}})}}function X2e(s,u,p){of=p,sf=s,X(u),k5(u,s),X(u),of=null,sf=null}function Zs(s,u,p){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var _=m[y];try{G2e(s,u,_)}catch($){sr(_,u,$)}}var k=de();if(u.subtreeFlags&OE)for(var N=u.child;N!==null;)X(N),k5(N,s),N=N.sibling;X(k)}function k5(s,u,p){var m=s.alternate,y=s.flags;switch(s.tag){case d:case C:case F:case B:{if(Zs(u,s),Ti(s),y&Mn){try{Xs(wi|ta,s,s.return),yl(wi|ta,s)}catch(Mt){sr(s,s.return,Mt)}if(s.mode&Gn){try{Ci(),Xs(na|ta,s,s.return)}catch(Mt){sr(s,s.return,Mt)}Ei(s)}else try{Xs(na|ta,s,s.return)}catch(Mt){sr(s,s.return,Mt)}}return}case f:{Zs(u,s),Ti(s),y&tc&&m!==null&&uf(m,m.return);return}case v:{Zs(u,s),Ti(s),y&tc&&m!==null&&uf(m,m.return);{if(s.flags&eh){var _=s.stateNode;try{CP(_)}catch(Mt){sr(s,s.return,Mt)}}if(y&Mn){var k=s.stateNode;if(k!=null){var N=s.memoizedProps,$=m!==null?m.memoizedProps:N,j=s.type,q=s.updateQueue;if(s.updateQueue=null,q!==null)try{iCe(k,q,j,$,N,s)}catch(Mt){sr(s,s.return,Mt)}}}}return}case b:{if(Zs(u,s),Ti(s),y&Mn){if(s.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ue=s.stateNode,ie=s.memoizedProps,be=m!==null?m.memoizedProps:ie;try{uCe(ue,be,ie)}catch(Mt){sr(s,s.return,Mt)}}return}case h:{if(Zs(u,s),Ti(s),y&Mn&&m!==null){var we=m.memoizedState;if(we.isDehydrated)try{OCe(u.containerInfo)}catch(Mt){sr(s,s.return,Mt)}}return}case g:{Zs(u,s),Ti(s);return}case D:{Zs(u,s),Ti(s);var Te=s.child;if(Te.flags&nc){var ut=Te.stateNode,kt=Te.memoizedState,wt=kt!==null;if(ut.isHidden=wt,wt){var yn=Te.alternate!==null&&Te.alternate.memoizedState!==null;yn||Ake()}}if(y&Mn){try{K2e(s)}catch(Mt){sr(s,s.return,Mt)}T5(s)}return}case G:{var ln=m!==null&&m.memoizedState!==null;if(s.mode&gn){var he=Na;Na=he||ln,Zs(u,s),Na=he}else Zs(u,s);if(Ti(s),y&nc){var ke=s.stateNode,me=s.memoizedState,Be=me!==null,lt=s;if(ke.isHidden=Be,Be&&!ln&&(lt.mode&gn)!==Dt){ht=lt;for(var tt=lt.child;tt!==null;)ht=tt,Z2e(tt),tt=tt.sibling}j2e(lt,Be)}return}case O:{Zs(u,s),Ti(s),y&Mn&&T5(s);return}case K:return;default:{Zs(u,s),Ti(s);return}}}function Ti(s){var u=s.flags;if(u&Kr){try{q2e(s)}catch(p){sr(s,s.return,p)}s.flags&=~Kr}u&su&&(s.flags&=~su)}function Q2e(s,u,p){of=p,sf=u,ht=s,I5(s,u,p),of=null,sf=null}function I5(s,u,p){for(var m=(s.mode&gn)!==Dt;ht!==null;){var y=ht,_=y.child;if(y.tag===G&&m){var k=y.memoizedState!==null,N=k||X0;if(N){I2(s,u,p);continue}else{var $=y.alternate,j=$!==null&&$.memoizedState!==null,q=j||Na,ue=X0,ie=Na;X0=N,Na=q,Na&&!ie&&(ht=y,J2e(y));for(var be=_;be!==null;)ht=be,I5(be,u,p),be=be.sibling;ht=y,X0=ue,Na=ie,I2(s,u,p);continue}}(y.subtreeFlags&th)!==Nt&&_!==null?(_.return=y,ht=_):I2(s,u,p)}}function I2(s,u,p){for(;ht!==null;){var m=ht;if((m.flags&th)!==Nt){var y=m.alternate;X(m);try{U2e(u,y,m,p)}catch(k){sr(m,m.return,k)}Tr()}if(m===s){ht=null;return}var _=m.sibling;if(_!==null){_.return=m.return,ht=_;return}ht=m.return}}function Z2e(s){for(;ht!==null;){var u=ht,p=u.child;switch(u.tag){case d:case C:case F:case B:{if(u.mode&Gn)try{Ci(),Xs(na,u,u.return)}finally{Ei(u)}else Xs(na,u,u.return);break}case f:{uf(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&C2(u,u.return,m);break}case v:{uf(u,u.return);break}case G:{var y=u.memoizedState!==null;if(y){R5(s);continue}break}}p!==null?(p.return=u,ht=p):R5(s)}}function R5(s){for(;ht!==null;){var u=ht;if(u===s){ht=null;return}var p=u.sibling;if(p!==null){p.return=u.return,ht=p;return}ht=u.return}}function J2e(s){for(;ht!==null;){var u=ht,p=u.child;if(u.tag===G){var m=u.memoizedState!==null;if(m){A5(s);continue}}p!==null?(p.return=u,ht=p):A5(s)}}function A5(s){for(;ht!==null;){var u=ht;X(u);try{V2e(u)}catch(m){sr(u,u.return,m)}if(Tr(),u===s){ht=null;return}var p=u.sibling;if(p!==null){p.return=u.return,ht=p;return}ht=u.return}}function eke(s,u,p,m){ht=u,tke(u,s,p,m)}function tke(s,u,p,m){for(;ht!==null;){var y=ht,_=y.child;(y.subtreeFlags&kd)!==Nt&&_!==null?(_.return=y,ht=_):nke(s,u,p,m)}}function nke(s,u,p,m){for(;ht!==null;){var y=ht;if((y.flags&el)!==Nt){X(y);try{rke(u,y,p,m)}catch(k){sr(y,y.return,k)}Tr()}if(y===s){ht=null;return}var _=y.sibling;if(_!==null){_.return=y.return,ht=_;return}ht=y.return}}function rke(s,u,p,m){switch(u.tag){case d:case C:case B:{if(u.mode&Gn){o2();try{yl(Ra|ta,u)}finally{a2(u)}}else yl(Ra|ta,u);break}}}function ake(s){ht=s,oke()}function oke(){for(;ht!==null;){var s=ht,u=s.child;if((ht.flags&ec)!==Nt){var p=s.deletions;if(p!==null){for(var m=0;m<p.length;m++){var y=p[m];ht=y,uke(y,s)}{var _=s.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}}ht=s}}(s.subtreeFlags&kd)!==Nt&&u!==null?(u.return=s,ht=u):ske()}}function ske(){for(;ht!==null;){var s=ht;(s.flags&el)!==Nt&&(X(s),ike(s),Tr());var u=s.sibling;if(u!==null){u.return=s.return,ht=u;return}ht=s.return}}function ike(s){switch(s.tag){case d:case C:case B:{s.mode&Gn?(o2(),Xs(Ra|ta,s,s.return),a2(s)):Xs(Ra|ta,s,s.return);break}}}function uke(s,u){for(;ht!==null;){var p=ht;X(p),cke(p,u),Tr();var m=p.child;m!==null?(m.return=p,ht=m):lke(s)}}function lke(s){for(;ht!==null;){var u=ht,p=u.sibling,m=u.return;if(_5(u),u===s){ht=null;return}if(p!==null){p.return=m,ht=p;return}ht=m}}function cke(s,u){switch(s.tag){case d:case C:case B:{s.mode&Gn?(o2(),Xs(Ra,s,u),a2(s)):Xs(Ra,s,u);break}}}function dke(s){switch(s.tag){case d:case C:case B:{try{yl(na|ta,s)}catch(p){sr(s,s.return,p)}break}case f:{var u=s.stateNode;try{u.componentDidMount()}catch(p){sr(s,s.return,p)}break}}}function fke(s){switch(s.tag){case d:case C:case B:{try{yl(Ra|ta,s)}catch(u){sr(s,s.return,u)}break}}}function pke(s){switch(s.tag){case d:case C:case B:{try{Xs(na|ta,s,s.return)}catch(p){sr(s,s.return,p)}break}case f:{var u=s.stateNode;typeof u.componentWillUnmount=="function"&&C2(s,s.return,u);break}}}function hke(s){switch(s.tag){case d:case C:case B:try{Xs(Ra|ta,s,s.return)}catch(u){sr(s,s.return,u)}}}if(typeof Symbol=="function"&&Symbol.for){var om=Symbol.for;om("selector.component"),om("selector.has_pseudo_class"),om("selector.role"),om("selector.test_id"),om("selector.text")}var mke=[];function gke(){mke.forEach(function(s){return s()})}var vke=n.ReactCurrentActQueue;function yke(s){{var u=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,p=typeof jest<"u";return p&&u!==!1}}function N5(){{var s=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!s&&vke.current!==null&&i("The current testing environment is not configured to support act(...)"),s}}var bke=Math.ceil,R2=n.ReactCurrentDispatcher,A2=n.ReactCurrentOwner,Oa=n.ReactCurrentBatchConfig,Js=n.ReactCurrentActQueue,oa=0,D5=1,Ma=2,ys=4,yu=0,sm=1,xc=2,Z0=3,im=4,O5=5,N2=6,vn=oa,ho=null,kr=null,sa=Fe,ki=Fe,D2=ll(Fe),ia=yu,um=null,J0=Fe,lm=Fe,e1=Fe,cm=null,Ao=null,O2=0,M5=500,$5=1/0,Ske=500,bu=null;function dm(){$5=va()+Ske}function F5(){return $5}var t1=!1,M2=null,lf=null,Ec=!1,Sl=null,fm=Fe,$2=[],F2=null,wke=50,pm=0,P2=null,L2=!1,n1=!1,_ke=50,cf=0,r1=null,hm=cr,a1=Fe,P5=!1;function o1(){return ho}function mo(){return(vn&(Ma|ys))!==oa?va():(hm!==cr||(hm=va()),hm)}function wl(s){var u=s.mode;if((u&gn)===Dt)return zt;if((vn&Ma)!==oa&&sa!==Fe)return uh(sa);var p=yTe()!==vTe;if(p){if(Oa.transition!==null){var m=Oa.transition;m._updatedFibers||(m._updatedFibers=new Set),m._updatedFibers.add(s)}return a1===ba&&(a1=v6()),a1}var y=Vs();if(y!==ba)return y;var _=nCe();return _}function xke(s){var u=s.mode;return(u&gn)===Dt?zt:T_e()}function ua(s,u,p,m){Gke(),P5&&i("useInsertionEffect must not schedule updates."),L2&&(n1=!0),lh(s,p,m),(vn&Ma)!==Fe&&s===ho?Xke(u):(Us&&S6(s,u,p),Qke(u),s===ho&&((vn&Ma)===oa&&(lm=Qt(lm,p)),ia===im&&_l(s,sa)),No(s,m),p===zt&&vn===oa&&(u.mode&gn)===Dt&&!Js.isBatchingLegacy&&(dm(),FP()))}function Eke(s,u,p){var m=s.current;m.lanes=u,lh(s,u,p),No(s,p)}function Cke(s){return(vn&Ma)!==oa}function No(s,u){var p=s.callbackNode;S_e(s,u);var m=Tb(s,s===ho?sa:Fe);if(m===Fe){p!==null&&J5(p),s.callbackNode=null,s.callbackPriority=ba;return}var y=uc(m),_=s.callbackPriority;if(_===y&&!(Js.current!==null&&p!==W2)){p==null&&_!==zt&&i("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}p!=null&&J5(p);var k;if(y===zt)s.tag===cl?(Js.isBatchingLegacy!==null&&(Js.didScheduleLegacyUpdate=!0),eTe(z5.bind(null,s))):$P(z5.bind(null,s)),Js.current!==null?Js.current.push(dl):aCe(function(){(vn&(Ma|ys))===oa&&dl()}),k=null;else{var N;switch(x6(m)){case Go:N=_b;break;case lu:N=ME;break;case cu:N=oc;break;case Rb:N=$E;break;default:N=oc;break}k=q2(N,L5.bind(null,s))}s.callbackPriority=y,s.callbackNode=k}function L5(s,u){if(GTe(),hm=cr,a1=Fe,(vn&(Ma|ys))!==oa)throw new Error("Should not already be working.");var p=s.callbackNode,m=wu();if(m&&s.callbackNode!==p)return null;var y=Tb(s,s===ho?sa:Fe);if(y===Fe)return null;var _=!kb(s,y)&&!C_e(s,y)&&!u,k=_?$ke(s,y):i1(s,y);if(k!==yu){if(k===xc){var N=rC(s);N!==Fe&&(y=N,k=B2(s,N))}if(k===sm){var $=um;throw Cc(s,Fe),_l(s,y),No(s,va()),$}if(k===N2)_l(s,y);else{var j=!kb(s,y),q=s.current.alternate;if(j&&!kke(q)){if(k=i1(s,y),k===xc){var ue=rC(s);ue!==Fe&&(y=ue,k=B2(s,ue))}if(k===sm){var ie=um;throw Cc(s,Fe),_l(s,y),No(s,va()),ie}}s.finishedWork=q,s.finishedLanes=y,Tke(s,k,y)}}return No(s,va()),s.callbackNode===p?L5.bind(null,s):null}function B2(s,u){var p=cm;if(Ab(s)){var m=Cc(s,u);m.flags|=ou,GCe(s.containerInfo)}var y=i1(s,u);if(y!==xc){var _=Ao;Ao=p,_!==null&&B5(_)}return y}function B5(s){Ao===null?Ao=s:Ao.push.apply(Ao,s)}function Tke(s,u,p){switch(u){case yu:case sm:throw new Error("Root did not complete. This is a bug in React.");case xc:{Tc(s,Ao,bu);break}case Z0:{if(_l(s,p),m6(p)&&!e8()){var m=O2+M5-va();if(m>10){var y=Tb(s,Fe);if(y!==Fe)break;var _=s.suspendedLanes;if(!Od(_,p)){mo(),b6(s,_);break}s.timeoutHandle=FC(Tc.bind(null,s,Ao,bu),m);break}}Tc(s,Ao,bu);break}case im:{if(_l(s,p),E_e(p))break;if(!e8()){var k=y_e(s,p),N=k,$=va()-N,j=qke($)-$;if(j>10){s.timeoutHandle=FC(Tc.bind(null,s,Ao,bu),j);break}}Tc(s,Ao,bu);break}case O5:{Tc(s,Ao,bu);break}default:throw new Error("Unknown root exit status.")}}function kke(s){for(var u=s;;){if(u.flags&kE){var p=u.updateQueue;if(p!==null){var m=p.stores;if(m!==null)for(var y=0;y<m.length;y++){var _=m[y],k=_.getSnapshot,N=_.value;try{if(!Yo(k(),N))return!1}catch{return!1}}}}var $=u.child;if(u.subtreeFlags&kE&&$!==null){$.return=u,u=$;continue}if(u===s)return!0;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}return!0}function _l(s,u){u=Ib(u,e1),u=Ib(u,lm),I_e(s,u)}function z5(s){if(KTe(),(vn&(Ma|ys))!==oa)throw new Error("Should not already be working.");wu();var u=Tb(s,Fe);if(!qo(u,zt))return No(s,va()),null;var p=i1(s,u);if(s.tag!==cl&&p===xc){var m=rC(s);m!==Fe&&(u=m,p=B2(s,m))}if(p===sm){var y=um;throw Cc(s,Fe),_l(s,u),No(s,va()),y}if(p===N2)throw new Error("Root did not complete. This is a bug in React.");var _=s.current.alternate;return s.finishedWork=_,s.finishedLanes=u,Tc(s,Ao,bu),No(s,va()),null}function Ike(s,u){u!==Fe&&(iC(s,Qt(u,zt)),No(s,va()),(vn&(Ma|ys))===oa&&(dm(),dl()))}function z2(s,u){var p=vn;vn|=D5;try{return s(u)}finally{vn=p,vn===oa&&!Js.isBatchingLegacy&&(dm(),FP())}}function Rke(s,u,p,m,y){var _=Vs(),k=Oa.transition;try{return Oa.transition=null,Sa(Go),s(u,p,m,y)}finally{Sa(_),Oa.transition=k,vn===oa&&dm()}}function Su(s){Sl!==null&&Sl.tag===cl&&(vn&(Ma|ys))===oa&&wu();var u=vn;vn|=D5;var p=Oa.transition,m=Vs();try{return Oa.transition=null,Sa(Go),s?s():void 0}finally{Sa(m),Oa.transition=p,vn=u,(vn&(Ma|ys))===oa&&dl()}}function U5(){return(vn&(Ma|ys))!==oa}function s1(s,u){Ya(D2,ki,s),ki=Qt(ki,u)}function U2(s){ki=D2.current,Ka(D2,s)}function Cc(s,u){s.finishedWork=null,s.finishedLanes=Fe;var p=s.timeoutHandle;if(p!==PC&&(s.timeoutHandle=PC,rCe(p)),kr!==null)for(var m=kr.return;m!==null;){var y=m.alternate;g5(y,m),m=m.return}ho=s;var _=kc(s.current,null);return kr=_,sa=ki=u,ia=yu,um=null,J0=Fe,lm=Fe,e1=Fe,cm=null,Ao=null,_Te(),Ws.discardPendingWarnings(),_}function V5(s,u){do{var p=kr;try{if(h0(),yL(),Tr(),A2.current=null,p===null||p.return===null){ia=sm,um=u,kr=null;return}if(Ie&&p.mode&Gn&&q0(p,!0),_e)if(Rd(),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=u;s_e(p,m,sa)}else o_e(p,u,sa);JTe(s,p.return,p,u,sa),q5(p)}catch(y){u=y,kr===p&&p!==null?(p=p.return,kr=p):p=kr;continue}return}while(!0)}function j5(){var s=R2.current;return R2.current=U0,s===null?U0:s}function H5(s){R2.current=s}function Ake(){O2=va()}function mm(s){J0=Qt(s,J0)}function Nke(){ia===yu&&(ia=Z0)}function V2(){(ia===yu||ia===Z0||ia===xc)&&(ia=im),ho!==null&&(aC(J0)||aC(lm))&&_l(ho,sa)}function Dke(s){ia!==im&&(ia=xc),cm===null?cm=[s]:cm.push(s)}function Oke(){return ia===yu}function i1(s,u){var p=vn;vn|=Ma;var m=j5();if(ho!==s||sa!==u){if(Us){var y=s.memoizedUpdaters;y.size>0&&(gm(s,sa),y.clear()),w6(s,u)}bu=_6(),Cc(s,u)}c6(u);do try{Mke();break}catch(_){V5(s,_)}while(!0);if(h0(),vn=p,H5(m),kr!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return d6(),ho=null,sa=Fe,ia}function Mke(){for(;kr!==null;)W5(kr)}function $ke(s,u){var p=vn;vn|=Ma;var m=j5();if(ho!==s||sa!==u){if(Us){var y=s.memoizedUpdaters;y.size>0&&(gm(s,sa),y.clear()),w6(s,u)}bu=_6(),dm(),Cc(s,u)}c6(u);do try{Fke();break}catch(_){V5(s,_)}while(!0);return h0(),H5(m),vn=p,kr!==null?(d_e(),yu):(d6(),ho=null,sa=Fe,ia)}function Fke(){for(;kr!==null&&!Bwe();)W5(kr)}function W5(s){var u=s.alternate;X(s);var p;(s.mode&Gn)!==Dt?(r2(s),p=j2(u,s,ki),q0(s,!0)):p=j2(u,s,ki),Tr(),s.memoizedProps=s.pendingProps,p===null?q5(s):kr=p,A2.current=null}function q5(s){var u=s;do{var p=u.alternate,m=u.return;if((u.flags&wb)===Nt){X(u);var y=void 0;if((u.mode&Gn)===Dt?y=m5(p,u,ki):(r2(u),y=m5(p,u,ki),q0(u,!1)),Tr(),y!==null){kr=y;return}}else{var _=N2e(p,u);if(_!==null){_.flags&=Owe,kr=_;return}if((u.mode&Gn)!==Dt){q0(u,!1);for(var k=u.actualDuration,N=u.child;N!==null;)k+=N.actualDuration,N=N.sibling;u.actualDuration=k}if(m!==null)m.flags|=wb,m.subtreeFlags=Nt,m.deletions=null;else{ia=N2,kr=null;return}}var $=u.sibling;if($!==null){kr=$;return}u=m,kr=u}while(u!==null);ia===yu&&(ia=O5)}function Tc(s,u,p){var m=Vs(),y=Oa.transition;try{Oa.transition=null,Sa(Go),Pke(s,u,p,m)}finally{Oa.transition=y,Sa(m)}return null}function Pke(s,u,p,m){do wu();while(Sl!==null);if(Kke(),(vn&(Ma|ys))!==oa)throw new Error("Should not already be working.");var y=s.finishedWork,_=s.finishedLanes;if(Zwe(_),y===null)return i6(),null;if(_===Fe&&i("root.finishedLanes should not be empty during a commit. This is a bug in React."),s.finishedWork=null,s.finishedLanes=Fe,y===s.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");s.callbackNode=null,s.callbackPriority=ba;var k=Qt(y.lanes,y.childLanes);R_e(s,k),s===ho&&(ho=null,kr=null,sa=Fe),((y.subtreeFlags&kd)!==Nt||(y.flags&kd)!==Nt)&&(Ec||(Ec=!0,F2=p,q2(oc,function(){return wu(),null})));var N=(y.subtreeFlags&(DE|OE|th|kd))!==Nt,$=(y.flags&(DE|OE|th|kd))!==Nt;if(N||$){var j=Oa.transition;Oa.transition=null;var q=Vs();Sa(Go);var ue=vn;vn|=ys,A2.current=null,F2e(s,y),jL(),X2e(s,y,_),XEe(s.containerInfo),s.current=y,i_e(_),Q2e(y,s,_),u_e(),zwe(),vn=ue,Sa(q),Oa.transition=j}else s.current=y,jL();var ie=Ec;if(Ec?(Ec=!1,Sl=s,fm=_):(cf=0,r1=null),k=s.pendingLanes,k===Fe&&(lf=null),ie||X5(s.current,!1),Gwe(y.stateNode,m),Us&&s.memoizedUpdaters.clear(),gke(),No(s,va()),u!==null)for(var be=s.onRecoverableError,we=0;we<u.length;we++){var Te=u[we],ut=Te.stack,kt=Te.digest;be(Te.value,{componentStack:ut,digest:kt})}if(t1){t1=!1;var wt=M2;throw M2=null,wt}return qo(fm,zt)&&s.tag!==cl&&wu(),k=s.pendingLanes,qo(k,zt)?(qTe(),s===P2?pm++:(pm=0,P2=s)):pm=0,dl(),i6(),null}function wu(){if(Sl!==null){var s=x6(fm),u=O_e(cu,s),p=Oa.transition,m=Vs();try{return Oa.transition=null,Sa(u),Bke()}finally{Sa(m),Oa.transition=p}}return!1}function Lke(s){$2.push(s),Ec||(Ec=!0,q2(oc,function(){return wu(),null}))}function Bke(){if(Sl===null)return!1;var s=F2;F2=null;var u=Sl,p=fm;if(Sl=null,fm=Fe,(vn&(Ma|ys))!==oa)throw new Error("Cannot flush passive effects while already rendering.");L2=!0,n1=!1,l_e(p);var m=vn;vn|=ys,ake(u.current),eke(u,u.current,p,s);{var y=$2;$2=[];for(var _=0;_<y.length;_++){var k=y[_];z2e(u,k)}}c_e(),X5(u.current,!0),vn=m,dl(),n1?u===r1?cf++:(cf=0,r1=u):cf=0,L2=!1,n1=!1,Kwe(u);{var N=u.current.stateNode;N.effectDuration=0,N.passiveEffectDuration=0}return!0}function G5(s){return lf!==null&&lf.has(s)}function zke(s){lf===null?lf=new Set([s]):lf.add(s)}function Uke(s){t1||(t1=!0,M2=s)}var Vke=Uke;function K5(s,u,p){var m=wc(p,u),y=WL(s,m,zt),_=pl(s,y,zt),k=mo();_!==null&&(lh(_,zt,k),No(_,k))}function sr(s,u,p){if(O2e(p),vm(!1),s.tag===h){K5(s,s,p);return}var m=null;for(m=u;m!==null;){if(m.tag===h){K5(m,s,p);return}else if(m.tag===f){var y=m.type,_=m.stateNode;if(typeof y.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&!G5(_)){var k=wc(p,s),N=l2(m,k,zt),$=pl(m,N,zt),j=mo();$!==null&&(lh($,zt,j),No($,j));return}}m=m.return}i(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,p)}function jke(s,u,p){var m=s.pingCache;m!==null&&m.delete(u);var y=mo();b6(s,p),Zke(s),ho===s&&Od(sa,p)&&(ia===im||ia===Z0&&m6(sa)&&va()-O2<M5?Cc(s,Fe):e1=Qt(e1,p)),No(s,y)}function Y5(s,u){u===ba&&(u=xke(s));var p=mo(),m=Io(s,u);m!==null&&(lh(m,u,p),No(m,p))}function Hke(s){var u=s.memoizedState,p=ba;u!==null&&(p=u.retryLane),Y5(s,p)}function Wke(s,u){var p=ba,m;switch(s.tag){case D:m=s.stateNode;var y=s.memoizedState;y!==null&&(p=y.retryLane);break;case O:m=s.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}m!==null&&m.delete(u),Y5(s,p)}function qke(s){return s<120?120:s<480?480:s<1080?1080:s<1920?1920:s<3e3?3e3:s<4320?4320:bke(s/1960)*1960}function Gke(){if(pm>wke)throw pm=0,P2=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");cf>_ke&&(cf=0,r1=null,i("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function Kke(){Ws.flushLegacyContextWarning(),Ws.flushPendingUnsafeLifecycleWarnings()}function X5(s,u){X(s),u1(s,tl,pke),u&&u1(s,NE,hke),u1(s,tl,dke),u&&u1(s,NE,fke),Tr()}function u1(s,u,p){for(var m=s,y=null;m!==null;){var _=m.subtreeFlags&u;m!==y&&m.child!==null&&_!==Nt?m=m.child:((m.flags&u)!==Nt&&p(m),m.sibling!==null?m=m.sibling:m=y=m.return)}}var l1=null;function Q5(s){{if((vn&Ma)!==oa||!(s.mode&gn))return;var u=s.tag;if(u!==c&&u!==h&&u!==f&&u!==d&&u!==C&&u!==F&&u!==B)return;var p=At(s)||"ReactComponent";if(l1!==null){if(l1.has(p))return;l1.add(p)}else l1=new Set([p]);var m=Sr;try{X(s),i("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{m?X(s):Tr()}}}var j2;{var Yke=null;j2=function(s,u,p){var m=o8(Yke,u);try{return c5(s,u,p)}catch(_){if(uTe()||_!==null&&typeof _=="object"&&typeof _.then=="function")throw _;if(h0(),yL(),g5(s,u),o8(u,m),u.mode&Gn&&r2(u),CE(null,c5,null,s,u,p),Awe()){var y=TE();typeof y=="object"&&y!==null&&y._suppressLogging&&typeof _=="object"&&_!==null&&!_._suppressLogging&&(_._suppressLogging=!0)}throw _}}}var Z5=!1,H2;H2=new Set;function Xke(s){if(Uo&&!jTe())switch(s.tag){case d:case C:case B:{var u=kr&&At(kr)||"Unknown",p=u;if(!H2.has(p)){H2.add(p);var m=At(s)||"Unknown";i("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",m,u,u)}break}case f:{Z5||(i("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Z5=!0);break}}}function gm(s,u){if(Us){var p=s.memoizedUpdaters;p.forEach(function(m){S6(s,m,u)})}}var W2={};function q2(s,u){{var p=Js.current;return p!==null?(p.push(u),W2):s6(s,u)}}function J5(s){if(s!==W2)return Lwe(s)}function e8(){return Js.current!==null}function Qke(s){{if(s.mode&gn){if(!N5())return}else if(!yke()||vn!==oa||s.tag!==d&&s.tag!==C&&s.tag!==B)return;if(Js.current===null){var u=Sr;try{X(s),i(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,At(s))}finally{u?X(s):Tr()}}}}function Zke(s){s.tag!==cl&&N5()&&Js.current===null&&i(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function vm(s){P5=s}var bs=null,df=null,Jke=function(s){bs=s};function ff(s){{if(bs===null)return s;var u=bs(s);return u===void 0?s:u.current}}function G2(s){return ff(s)}function K2(s){{if(bs===null)return s;var u=bs(s);if(u===void 0){if(s!=null&&typeof s.render=="function"){var p=ff(s.render);if(s.render!==p){var m={$$typeof:He,render:p};return s.displayName!==void 0&&(m.displayName=s.displayName),m}}return s}return u.current}}function t8(s,u){{if(bs===null)return!1;var p=s.elementType,m=u.type,y=!1,_=typeof m=="object"&&m!==null?m.$$typeof:null;switch(s.tag){case f:{typeof m=="function"&&(y=!0);break}case d:{(typeof m=="function"||_===_t)&&(y=!0);break}case C:{(_===He||_===_t)&&(y=!0);break}case F:case B:{(_===Ft||_===_t)&&(y=!0);break}default:return!1}if(y){var k=bs(p);if(k!==void 0&&k===bs(m))return!0}return!1}}function n8(s){{if(bs===null||typeof WeakSet!="function")return;df===null&&(df=new WeakSet),df.add(s)}}var eIe=function(s,u){{if(bs===null)return;var p=u.staleFamilies,m=u.updatedFamilies;wu(),Su(function(){Y2(s.current,m,p)})}},tIe=function(s,u){{if(s.context!==Xo)return;wu(),Su(function(){ym(u,s,null,null)})}};function Y2(s,u,p){{var m=s.alternate,y=s.child,_=s.sibling,k=s.tag,N=s.type,$=null;switch(k){case d:case B:case f:$=N;break;case C:$=N.render;break}if(bs===null)throw new Error("Expected resolveFamily to be set during hot reload.");var j=!1,q=!1;if($!==null){var ue=bs($);ue!==void 0&&(p.has(ue)?q=!0:u.has(ue)&&(k===f?q=!0:j=!0))}if(df!==null&&(df.has(s)||m!==null&&df.has(m))&&(q=!0),q&&(s._debugNeedsRemount=!0),q||j){var ie=Io(s,zt);ie!==null&&ua(ie,s,zt,cr)}y!==null&&!q&&Y2(y,u,p),_!==null&&Y2(_,u,p)}}var nIe=function(s,u){{var p=new Set,m=new Set(u.map(function(y){return y.current}));return X2(s.current,m,p),p}};function X2(s,u,p){{var m=s.child,y=s.sibling,_=s.tag,k=s.type,N=null;switch(_){case d:case B:case f:N=k;break;case C:N=k.render;break}var $=!1;N!==null&&u.has(N)&&($=!0),$?rIe(s,p):m!==null&&X2(m,u,p),y!==null&&X2(y,u,p)}}function rIe(s,u){{var p=aIe(s,u);if(p)return;for(var m=s;;){switch(m.tag){case v:u.add(m.stateNode);return;case g:u.add(m.stateNode.containerInfo);return;case h:u.add(m.stateNode.containerInfo);return}if(m.return===null)throw new Error("Expected to reach root first.");m=m.return}}}function aIe(s,u){for(var p=s,m=!1;;){if(p.tag===v)m=!0,u.add(p.stateNode);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)return m;for(;p.sibling===null;){if(p.return===null||p.return===s)return m;p=p.return}p.sibling.return=p.return,p=p.sibling}return!1}var Q2;{Q2=!1;try{var r8=Object.preventExtensions({})}catch{Q2=!0}}function oIe(s,u,p,m){this.tag=s,this.key=p,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=u,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=m,this.flags=Nt,this.subtreeFlags=Nt,this.deletions=null,this.lanes=Fe,this.childLanes=Fe,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Q2&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Qo=function(s,u,p,m){return new oIe(s,u,p,m)};function Z2(s){var u=s.prototype;return!!(u&&u.isReactComponent)}function sIe(s){return typeof s=="function"&&!Z2(s)&&s.defaultProps===void 0}function iIe(s){if(typeof s=="function")return Z2(s)?f:d;if(s!=null){var u=s.$$typeof;if(u===He)return C;if(u===Ft)return F}return c}function kc(s,u){var p=s.alternate;p===null?(p=Qo(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p._debugSource=s._debugSource,p._debugOwner=s._debugOwner,p._debugHookTypes=s._debugHookTypes,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=Nt,p.subtreeFlags=Nt,p.deletions=null,p.actualDuration=0,p.actualStartTime=-1),p.flags=s.flags&iu,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue;var m=s.dependencies;switch(p.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.selfBaseDuration=s.selfBaseDuration,p.treeBaseDuration=s.treeBaseDuration,p._debugNeedsRemount=s._debugNeedsRemount,p.tag){case c:case d:case B:p.type=ff(s.type);break;case f:p.type=G2(s.type);break;case C:p.type=K2(s.type);break}return p}function uIe(s,u){s.flags&=iu|Kr;var p=s.alternate;if(p===null)s.childLanes=Fe,s.lanes=u,s.child=null,s.subtreeFlags=Nt,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null,s.selfBaseDuration=0,s.treeBaseDuration=0;else{s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=Nt,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type;var m=p.dependencies;s.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},s.selfBaseDuration=p.selfBaseDuration,s.treeBaseDuration=p.treeBaseDuration}return s}function lIe(s,u,p){var m;return s===s0?(m=gn,u===!0&&(m|=Yr,m|=vi)):m=Dt,Us&&(m|=Gn),Qo(h,null,null,m)}function J2(s,u,p,m,y,_){var k=c,N=s;if(typeof s=="function")Z2(s)?(k=f,N=G2(N)):N=ff(N);else if(typeof s=="string")k=v;else e:switch(s){case Et:return xl(p.children,y,_,u);case zn:k=x,y|=Yr,(y&gn)!==Dt&&(y|=vi);break;case Er:return cIe(p,y,_,u);case St:return dIe(p,y,_,u);case ot:return fIe(p,y,_,u);case Wn:return a8(p,y,_,u);case Qn:case Wt:case Cr:case ea:case hr:default:{if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ee:k=T;break e;case Me:k=E;break e;case He:k=C,N=K2(N);break e;case Ft:k=F;break e;case _t:k=H,N=null;break e}var $="";{(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&($+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var j=m?At(m):null;j&&($+=`

Check the render method of \``+j+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(s==null?s:typeof s)+"."+$))}}var q=Qo(k,p,u,y);return q.elementType=s,q.type=N,q.lanes=_,q._debugOwner=m,q}function ek(s,u,p){var m=null;m=s._owner;var y=s.type,_=s.key,k=s.props,N=J2(y,_,k,m,u,p);return N._debugSource=s._source,N._debugOwner=s._owner,N}function xl(s,u,p,m){var y=Qo(w,s,m,u);return y.lanes=p,y}function cIe(s,u,p,m){typeof s.id!="string"&&i('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof s.id);var y=Qo(I,s,m,u|Gn);return y.elementType=Er,y.lanes=p,y.stateNode={effectDuration:0,passiveEffectDuration:0},y}function dIe(s,u,p,m){var y=Qo(D,s,m,u);return y.elementType=St,y.lanes=p,y}function fIe(s,u,p,m){var y=Qo(O,s,m,u);return y.elementType=ot,y.lanes=p,y}function a8(s,u,p,m){var y=Qo(G,s,m,u);y.elementType=Wn,y.lanes=p;var _={isHidden:!1};return y.stateNode=_,y}function tk(s,u,p){var m=Qo(b,s,null,u);return m.lanes=p,m}function pIe(){var s=Qo(v,null,null,Dt);return s.elementType="DELETED",s}function hIe(s){var u=Qo(U,null,null,Dt);return u.stateNode=s,u}function nk(s,u,p){var m=s.children!==null?s.children:[],y=Qo(g,m,s.key,u);return y.lanes=p,y.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},y}function o8(s,u){return s===null&&(s=Qo(c,null,null,Dt)),s.tag=u.tag,s.key=u.key,s.elementType=u.elementType,s.type=u.type,s.stateNode=u.stateNode,s.return=u.return,s.child=u.child,s.sibling=u.sibling,s.index=u.index,s.ref=u.ref,s.pendingProps=u.pendingProps,s.memoizedProps=u.memoizedProps,s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.dependencies=u.dependencies,s.mode=u.mode,s.flags=u.flags,s.subtreeFlags=u.subtreeFlags,s.deletions=u.deletions,s.lanes=u.lanes,s.childLanes=u.childLanes,s.alternate=u.alternate,s.actualDuration=u.actualDuration,s.actualStartTime=u.actualStartTime,s.selfBaseDuration=u.selfBaseDuration,s.treeBaseDuration=u.treeBaseDuration,s._debugSource=u._debugSource,s._debugOwner=u._debugOwner,s._debugNeedsRemount=u._debugNeedsRemount,s._debugHookTypes=u._debugHookTypes,s}function mIe(s,u,p,m,y){this.tag=u,this.containerInfo=s,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=PC,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=ba,this.eventTimes=sC(Fe),this.expirationTimes=sC(cr),this.pendingLanes=Fe,this.suspendedLanes=Fe,this.pingedLanes=Fe,this.expiredLanes=Fe,this.mutableReadLanes=Fe,this.finishedLanes=Fe,this.entangledLanes=Fe,this.entanglements=sC(Fe),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var _=this.pendingUpdatersLaneMap=[],k=0;k<PE;k++)_.push(new Set)}switch(u){case s0:this._debugRootType=p?"hydrateRoot()":"createRoot()";break;case cl:this._debugRootType=p?"hydrate()":"render()";break}}function s8(s,u,p,m,y,_,k,N,$,j){var q=new mIe(s,u,p,N,$),ue=lIe(u,_);q.current=ue,ue.stateNode=q;{var ie={element:m,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null};ue.memoizedState=ie}return cT(ue),q}var rk="18.2.0";function gIe(s,u,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Lt(m),{$$typeof:Tt,key:m==null?null:""+m,children:s,containerInfo:u,implementation:p}}var ak,ok;ak=!1,ok={};function i8(s){if(!s)return Xo;var u=Ed(s),p=JCe(u);if(u.tag===f){var m=u.type;if(Si(m))return OP(u,m,p)}return p}function vIe(s,u){{var p=Ed(s);if(p===void 0){if(typeof s.render=="function")throw new Error("Unable to find node on an unmounted component.");var m=Object.keys(s).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+m)}var y=r6(p);if(y===null)return null;if(y.mode&Yr){var _=At(p)||"Component";if(!ok[_]){ok[_]=!0;var k=Sr;try{X(y),p.mode&Yr?i("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",u,u,_):i("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",u,u,_)}finally{k?X(k):Tr()}}}return y.stateNode}}function u8(s,u,p,m,y,_,k,N){var $=!1,j=null;return s8(s,u,$,j,p,m,y,_,k)}function l8(s,u,p,m,y,_,k,N,$,j){var q=!0,ue=s8(p,m,q,s,y,_,k,N,$);ue.context=i8(null);var ie=ue.current,be=mo(),we=wl(ie),Te=gu(be,we);return Te.callback=u??null,pl(ie,Te,we),Eke(ue,we,be),ue}function ym(s,u,p,m){qwe(u,s);var y=u.current,_=mo(),k=wl(y);f_e(k);var N=i8(p);u.context===null?u.context=N:u.pendingContext=N,Uo&&Sr!==null&&!ak&&(ak=!0,i(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,At(Sr)||"Unknown"));var $=gu(_,k);$.payload={element:s},m=m===void 0?null:m,m!==null&&(typeof m!="function"&&i("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",m),$.callback=m);var j=pl(y,$,k);return j!==null&&(ua(j,y,k,_),b0(j,y,k)),k}function c1(s){var u=s.current;if(!u.child)return null;switch(u.child.tag){case v:return u.child.stateNode;default:return u.child.stateNode}}function yIe(s){switch(s.tag){case h:{var u=s.stateNode;if(Ab(u)){var p=w_e(u);Ike(u,p)}break}case D:{Su(function(){var y=Io(s,zt);if(y!==null){var _=mo();ua(y,s,zt,_)}});var m=zt;sk(s,m);break}}}function c8(s,u){var p=s.memoizedState;p!==null&&p.dehydrated!==null&&(p.retryLane=k_e(p.retryLane,u))}function sk(s,u){c8(s,u);var p=s.alternate;p&&c8(p,u)}function bIe(s){if(s.tag===D){var u=oh,p=Io(s,u);if(p!==null){var m=mo();ua(p,s,u,m)}sk(s,u)}}function SIe(s){if(s.tag===D){var u=wl(s),p=Io(s,u);if(p!==null){var m=mo();ua(p,s,u,m)}sk(s,u)}}function d8(s){var u=Pwe(s);return u===null?null:u.stateNode}var f8=function(s){return null};function wIe(s){return f8(s)}var p8=function(s){return!1};function _Ie(s){return p8(s)}var h8=null,m8=null,g8=null,v8=null,y8=null,b8=null,S8=null,w8=null,_8=null;{var x8=function(s,u,p){var m=u[p],y=Re(s)?s.slice():Xt({},s);return p+1===u.length?(Re(y)?y.splice(m,1):delete y[m],y):(y[m]=x8(s[m],u,p+1),y)},E8=function(s,u){return x8(s,u,0)},C8=function(s,u,p,m){var y=u[m],_=Re(s)?s.slice():Xt({},s);if(m+1===u.length){var k=p[m];_[k]=_[y],Re(_)?_.splice(y,1):delete _[y]}else _[y]=C8(s[y],u,p,m+1);return _},T8=function(s,u,p){if(u.length!==p.length){o("copyWithRename() expects paths of the same length");return}else for(var m=0;m<p.length-1;m++)if(u[m]!==p[m]){o("copyWithRename() expects paths to be the same except for the deepest key");return}return C8(s,u,p,0)},k8=function(s,u,p,m){if(p>=u.length)return m;var y=u[p],_=Re(s)?s.slice():Xt({},s);return _[y]=k8(s[y],u,p+1,m),_},I8=function(s,u,p){return k8(s,u,0,p)},ik=function(s,u){for(var p=s.memoizedState;p!==null&&u>0;)p=p.next,u--;return p};h8=function(s,u,p,m){var y=ik(s,u);if(y!==null){var _=I8(y.memoizedState,p,m);y.memoizedState=_,y.baseState=_,s.memoizedProps=Xt({},s.memoizedProps);var k=Io(s,zt);k!==null&&ua(k,s,zt,cr)}},m8=function(s,u,p){var m=ik(s,u);if(m!==null){var y=E8(m.memoizedState,p);m.memoizedState=y,m.baseState=y,s.memoizedProps=Xt({},s.memoizedProps);var _=Io(s,zt);_!==null&&ua(_,s,zt,cr)}},g8=function(s,u,p,m){var y=ik(s,u);if(y!==null){var _=T8(y.memoizedState,p,m);y.memoizedState=_,y.baseState=_,s.memoizedProps=Xt({},s.memoizedProps);var k=Io(s,zt);k!==null&&ua(k,s,zt,cr)}},v8=function(s,u,p){s.pendingProps=I8(s.memoizedProps,u,p),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var m=Io(s,zt);m!==null&&ua(m,s,zt,cr)},y8=function(s,u){s.pendingProps=E8(s.memoizedProps,u),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var p=Io(s,zt);p!==null&&ua(p,s,zt,cr)},b8=function(s,u,p){s.pendingProps=T8(s.memoizedProps,u,p),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var m=Io(s,zt);m!==null&&ua(m,s,zt,cr)},S8=function(s){var u=Io(s,zt);u!==null&&ua(u,s,zt,cr)},w8=function(s){f8=s},_8=function(s){p8=s}}function xIe(s){var u=r6(s);return u===null?null:u.stateNode}function EIe(s){return null}function CIe(){return Sr}function TIe(s){var u=s.findFiberByHostInstance,p=n.ReactCurrentDispatcher;return Wwe({bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:h8,overrideHookStateDeletePath:m8,overrideHookStateRenamePath:g8,overrideProps:v8,overridePropsDeletePath:y8,overridePropsRenamePath:b8,setErrorHandler:w8,setSuspenseHandler:_8,scheduleUpdate:S8,currentDispatcherRef:p,findHostInstanceByFiber:xIe,findFiberByHostInstance:u||EIe,findHostInstancesForRefresh:nIe,scheduleRefresh:eIe,scheduleRoot:tIe,setRefreshHandler:Jke,getCurrentFiber:CIe,reconcilerVersion:rk})}var R8=typeof reportError=="function"?reportError:function(s){console.error(s)};function uk(s){this._internalRoot=s}d1.prototype.render=uk.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?i("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):f1(arguments[1])?i("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&i("You passed a second argument to root.render(...) but it only accepts one argument.");var p=u.containerInfo;if(p.nodeType!==Gr){var m=d8(u.current);m&&m.parentNode!==p&&i("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}ym(s,u,null,null)},d1.prototype.unmount=uk.prototype.unmount=function(){typeof arguments[0]=="function"&&i("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;U5()&&i("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Su(function(){ym(null,s,null,null)}),IP(u)}};function kIe(s,u){if(!f1(s))throw new Error("createRoot(...): Target container is not a DOM element.");A8(s);var p=!1,m=!1,y="",_=R8;u!=null&&(u.hydrate?o("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof u=="object"&&u!==null&&u.$$typeof===Yt&&i(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.transitionCallbacks!==void 0&&u.transitionCallbacks);var k=u8(s,s0,null,p,m,y,_);Jb(k.current,s);var N=s.nodeType===Gr?s.parentNode:s;return Th(N),new uk(k)}function d1(s){this._internalRoot=s}function IIe(s){s&&H_e(s)}d1.prototype.unstable_scheduleHydration=IIe;function RIe(s,u,p){if(!f1(s))throw new Error("hydrateRoot(...): Target container is not a DOM element.");A8(s),u===void 0&&i("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var m=p??null,y=p!=null&&p.hydratedSources||null,_=!1,k=!1,N="",$=R8;p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onRecoverableError!==void 0&&($=p.onRecoverableError));var j=l8(u,null,s,s0,m,_,k,N,$);if(Jb(j.current,s),Th(s),y)for(var q=0;q<y.length;q++){var ue=y[q];PTe(j,ue)}return new d1(j)}function f1(s){return!!(s&&(s.nodeType===To||s.nodeType===au||s.nodeType===hE))}function bm(s){return!!(s&&(s.nodeType===To||s.nodeType===au||s.nodeType===hE||s.nodeType===Gr&&s.nodeValue===" react-mount-point-unstable "))}function A8(s){s.nodeType===To&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&i("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Ph(s)&&(s._reactRootContainer?i("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):i("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var AIe=n.ReactCurrentOwner,N8;N8=function(s){if(s._reactRootContainer&&s.nodeType!==Gr){var u=d8(s._reactRootContainer.current);u&&u.parentNode!==s&&i("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var p=!!s._reactRootContainer,m=lk(s),y=!!(m&&ul(m));y&&!p&&i("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),s.nodeType===To&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&i("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function lk(s){return s?s.nodeType===au?s.documentElement:s.firstChild:null}function D8(){}function NIe(s,u,p,m,y){if(y){if(typeof m=="function"){var _=m;m=function(){var ie=c1(k);_.call(ie)}}var k=l8(u,m,s,cl,null,!1,!1,"",D8);s._reactRootContainer=k,Jb(k.current,s);var N=s.nodeType===Gr?s.parentNode:s;return Th(N),Su(),k}else{for(var $;$=s.lastChild;)s.removeChild($);if(typeof m=="function"){var j=m;m=function(){var ie=c1(q);j.call(ie)}}var q=u8(s,cl,null,!1,!1,"",D8);s._reactRootContainer=q,Jb(q.current,s);var ue=s.nodeType===Gr?s.parentNode:s;return Th(ue),Su(function(){ym(u,q,p,m)}),q}}function DIe(s,u){s!==null&&typeof s!="function"&&i("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",u,s)}function p1(s,u,p,m,y){N8(p),DIe(y===void 0?null:y,"render");var _=p._reactRootContainer,k;if(!_)k=NIe(p,u,s,y,m);else{if(k=_,typeof y=="function"){var N=y;y=function(){var $=c1(k);N.call($)}}ym(u,k,s,y)}return c1(k)}function OIe(s){{var u=AIe.current;if(u!==null&&u.stateNode!==null){var p=u.stateNode._warnedAboutRefsInRender;p||i("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",sn(u.type)||"A component"),u.stateNode._warnedAboutRefsInRender=!0}}return s==null?null:s.nodeType===To?s:vIe(s,"findDOMNode")}function MIe(s,u,p){if(i("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!bm(u))throw new Error("Target container is not a DOM element.");{var m=Ph(u)&&u._reactRootContainer===void 0;m&&i("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return p1(null,s,u,!0,p)}function $Ie(s,u,p){if(i("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!bm(u))throw new Error("Target container is not a DOM element.");{var m=Ph(u)&&u._reactRootContainer===void 0;m&&i("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return p1(null,s,u,!1,p)}function FIe(s,u,p,m){if(i("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!bm(p))throw new Error("Target container is not a DOM element.");if(s==null||!Nwe(s))throw new Error("parentComponent must be a valid React Component");return p1(s,u,p,!1,m)}function PIe(s){if(!bm(s))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var u=Ph(s)&&s._reactRootContainer===void 0;u&&i("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(s._reactRootContainer){{var p=lk(s),m=p&&!ul(p);m&&i("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Su(function(){p1(null,null,s,!1,function(){s._reactRootContainer=null,IP(s)})}),!0}else{{var y=lk(s),_=!!(y&&ul(y)),k=s.nodeType===To&&bm(s.parentNode)&&!!s.parentNode._reactRootContainer;_&&i("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",k?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}M_e(yIe),F_e(bIe),P_e(SIe),L_e(Vs),B_e(N_e),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&i("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Swe(zEe),xwe(z2,Rke,Su);function LIe(s,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!f1(u))throw new Error("Target container is not a DOM element.");return gIe(s,u,null,p)}function BIe(s,u,p,m){return FIe(s,u,p,m)}var ck={usingClientEntryPoint:!1,Events:[ul,Vd,e0,HF,WF,z2]};function zIe(s,u){return ck.usingClientEntryPoint||i('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),kIe(s,u)}function UIe(s,u,p){return ck.usingClientEntryPoint||i('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),RIe(s,u,p)}function VIe(s){return U5()&&i("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Su(s)}var jIe=TIe({findFiberByHostInstance:fc,bundleType:1,version:rk,rendererPackageName:"react-dom"});if(!jIe&&Ze&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var O8=window.location.protocol;/^(https?|file):$/.test(O8)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(O8==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck,yo.createPortal=LIe,yo.createRoot=zIe,yo.findDOMNode=OIe,yo.flushSync=VIe,yo.hydrate=MIe,yo.hydrateRoot=UIe,yo.render=$Ie,yo.unmountComponentAtNode=PIe,yo.unstable_batchedUpdates=z2,yo.unstable_renderSubtreeIntoContainer=BIe,yo.version=rk,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),yo}var yk;function K8(){return yk||(yk=1,g1.exports=G8()),g1.exports}var bk;function Y8(){if(bk)return _m;bk=1;var t=K8();{var e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_m.createRoot=function(n,r){e.usingClientEntryPoint=!0;try{return t.createRoot(n,r)}finally{e.usingClientEntryPoint=!1}},_m.hydrateRoot=function(n,r,a){e.usingClientEntryPoint=!0;try{return t.hydrateRoot(n,r,a)}finally{e.usingClientEntryPoint=!1}}}return _m}var X8=Y8(),Ss;(function(t){t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE"})(Ss||(Ss={}));const Q8="Logging",Z8="NoHubcallbackProvidedException",Sk={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};class ei{constructor(e,n=Ss.WARN){this.name=e,this.level=n,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...n){let r=this.level;ei.LOG_LEVEL&&(r=ei.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);const a=Sk[r];if(!(Sk[e]>=a))return;let i=console.log.bind(console);e===Ss.ERROR&&console.error&&(i=console.error.bind(console)),e===Ss.WARN&&console.warn&&(i=console.warn.bind(console));const l=`[${e}] ${this._ts()} ${this.name}`;let d="";if(n.length===1&&typeof n[0]=="string")d=`${l} - ${n[0]}`,i(d);else if(n.length===1)d=`${l} ${n[0]}`,i(l,n[0]);else if(typeof n[0]=="string"){let f=n.slice(1);f.length===1&&(f=f[0]),d=`${l} - ${n[0]} ${f}`,i(`${l} - ${n[0]}`,f)}else d=`${l} ${n}`,i(l,n);for(const f of this._pluggables){const c={message:d,timestamp:Date.now()};f.pushLogs([c])}}log(...e){this._log(Ss.INFO,...e)}info(...e){this._log(Ss.INFO,...e)}warn(...e){this._log(Ss.WARN,...e)}error(...e){this._log(Ss.ERROR,...e)}debug(...e){this._log(Ss.DEBUG,...e)}verbose(...e){this._log(Ss.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===Q8&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}ei.LOG_LEVEL=null;class Ai extends Error{constructor({message:e,name:n,recoverySuggestion:r,underlyingError:a}){super(e),this.name=n,this.underlyingError=a,this.recoverySuggestion=r,this.constructor=Ai,Object.setPrototypeOf(this,Ai.prototype)}}var xm;(function(t){t.NoEndpointId="NoEndpointId",t.PlatformNotSupported="PlatformNotSupported",t.Unknown="Unknown"})(xm||(xm={}));const wk=(t,e=Ai)=>(n,r,a)=>{const{message:o,recoverySuggestion:i}=t[r];if(!n)throw new e({name:r,message:a?`${o} ${a}`:o,recoverySuggestion:i})},Em=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",vf=new ei("Hub");class J8{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,n){const r=this.listeners.get(e);if(!r){vf.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...r.filter(({callback:a})=>a!==n)])}dispatch(e,n,r,a){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(a===Em||vf.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const o={channel:e,payload:{...n},source:r,patternInfo:[]};try{this._toListeners(o)}catch(i){vf.error(i)}}listen(e,n,r="noname"){let a;if(typeof n!="function")throw new Ai({name:Z8,message:"No callback supplied to Hub"});a=n;let o=this.listeners.get(e);return o||(o=[],this.listeners.set(e,o)),o.push({name:r,callback:a}),()=>{this._remove(e,a)}}_toListeners(e){const{channel:n,payload:r}=e,a=this.listeners.get(n);a&&a.forEach(o=>{vf.debug(`Dispatching to ${n} with `,r);try{o.callback(e)}catch(i){vf.error(i)}})}}const b1=new J8("__default__");var Ni;(function(t){t.AuthTokenConfigException="AuthTokenConfigException",t.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",t.AuthUserPoolException="AuthUserPoolException",t.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",t.OAuthNotConfigureException="OAuthNotConfigureException"})(Ni||(Ni={}));const eB={[Ni.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[Ni.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[Ni.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[Ni.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[Ni.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},_k=wk(eB),tB=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Ai({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},nB={convert(t){return tB()(t)}};function Cm(t){let e=!0;return t?e=!!t.userPoolId&&!!t.userPoolClientId:e=!1,_k(e,Ni.AuthUserPoolException)}function Tm(t){const e=!!(t!=null&&t.identityPoolId);return _k(e,Ni.InvalidIdentityPoolIdException)}function yf(t){const e=t.split(".");if(e.length!==3)throw new Error("Invalid token");try{const r=e[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(nB.convert(r).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(a);return{toString:()=>t,payload:o}}catch{throw new Error("Invalid token payload")}}function xk({expiresAt:t,clockDrift:e}){return Date.now()+e>t}class rB{constructor(){}configure(e,n){this.authConfig=e,this.authOptions=n}async fetchAuthSession(e={}){var o,i,l,d,f,c;let n,r,a;return n=await this.getTokens(e),n?(a=(i=(o=n.accessToken)==null?void 0:o.payload)==null?void 0:i.sub,r=await((d=(l=this.authOptions)==null?void 0:l.credentialsProvider)==null?void 0:d.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:n,authenticated:!0,forceRefresh:e.forceRefresh}))):r=await((c=(f=this.authOptions)==null?void 0:f.credentialsProvider)==null?void 0:c.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:n,credentials:r==null?void 0:r.credentials,identityId:r==null?void 0:r.identityId,userSub:a}}async clearCredentials(){var e;if((e=this.authOptions)!=null&&e.credentialsProvider)return await this.authOptions.credentialsProvider.clearCredentialsAndIdentityId()}async getTokens(e){var n,r;return await((r=(n=this.authOptions)==null?void 0:n.tokenProvider)==null?void 0:r.getTokens(e))??void 0}}const aB=new ei("parseAWSExports"),oB={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},Ek=(t={})=>{var Ie,De,ze,Ve,Le,je;if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new Ai({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:a,aws_bots_config:o,aws_cognito_identity_pool_id:i,aws_cognito_sign_up_verification_method:l,aws_cognito_mfa_configuration:d,aws_cognito_mfa_types:f,aws_cognito_password_protection_settings:c,aws_cognito_verification_mechanisms:h,aws_cognito_signup_attributes:g,aws_cognito_social_providers:v,aws_cognito_username_attributes:b,aws_mandatory_sign_in:w,aws_mobile_analytics_app_id:x,aws_mobile_analytics_app_region:E,aws_user_files_s3_bucket:T,aws_user_files_s3_bucket_region:C,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:I,aws_user_pools_id:D,aws_user_pools_web_client_id:F,geo:B,oauth:H,predictions:z,aws_cloud_logic_custom:U,Notifications:O,modelIntrospection:K}=t,G={};x&&(G.Analytics={Pinpoint:{appId:x,region:E}});const{InAppMessaging:Z,Push:J}=O??{};if(Z!=null&&Z.AWSPinpoint||J!=null&&J.AWSPinpoint){if(Z!=null&&Z.AWSPinpoint){const{appId:Ue,region:Ze}=Z.AWSPinpoint;G.Notifications={InAppMessaging:{Pinpoint:{appId:Ue,region:Ze}}}}if(J!=null&&J.AWSPinpoint){const{appId:Ue,region:Ze}=J.AWSPinpoint;G.Notifications={...G.Notifications,PushNotification:{Pinpoint:{appId:Ue,region:Ze}}}}}if(Array.isArray(o)&&(G.Interactions={LexV1:Object.fromEntries(o.map(Ue=>[Ue.name,Ue]))}),r){const Ue=oB[n];Ue||aB.debug(`Invalid authentication type ${n}. Falling back to IAM.`),G.API={GraphQL:{endpoint:r,apiKey:e,region:a,defaultAuthMode:Ue??"iam"}},K&&(G.API.GraphQL.modelIntrospection=K)}const se=d?{status:d&&d.toLowerCase(),totpEnabled:(f==null?void 0:f.includes("TOTP"))??!1,smsEnabled:(f==null?void 0:f.includes("SMS"))??!1}:void 0,oe=c?{minLength:c.passwordPolicyMinLength,requireLowercase:((Ie=c.passwordPolicyCharacters)==null?void 0:Ie.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((De=c.passwordPolicyCharacters)==null?void 0:De.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((ze=c.passwordPolicyCharacters)==null?void 0:ze.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((Ve=c.passwordPolicyCharacters)==null?void 0:Ve.includes("REQUIRES_SYMBOLS"))??!1}:void 0,pe=Array.from(new Set([...h??[],...g??[]])).reduce((Ue,Ze)=>({...Ue,[Ze.toLowerCase()]:{required:!0}}),{}),ye=(b==null?void 0:b.includes("EMAIL"))??!1,ve=(b==null?void 0:b.includes("PHONE_NUMBER"))??!1;(i||D)&&(G.Auth={Cognito:{identityPoolId:i,allowGuestAccess:w!=="enable",signUpVerificationMethod:l,userAttributes:pe,userPoolClientId:F,userPoolId:D,mfa:se,passwordFormat:oe,loginWith:{username:!(ye||ve),email:ye,phone:ve}}});const Ee=H?Object.keys(H).length>0:!1,_e=v?v.length>0:!1;if(G.Auth&&Ee&&(G.Auth.Cognito.loginWith={...G.Auth.Cognito.loginWith,oauth:{...sB(H),..._e&&{providers:iB(v)}}}),T&&(G.Storage={S3:{bucket:T,region:C,dangerouslyConnectToHttpEndpointForTesting:I}}),B){const{amazon_location_service:Ue}=B;G.Geo=Ue?{LocationService:{...Ue,searchIndices:Ue.search_indices,region:Ue.region}}:{...B}}if(U&&(G.API={...G.API,REST:U.reduce((Ue,Ze)=>{const{name:it,endpoint:Je,region:bt,service:pt}=Ze;return{...Ue,[it]:{endpoint:Je,...pt?{service:pt}:void 0,...bt?{region:bt}:void 0}}},{})}),z){const{VoiceId:Ue}=((je=(Le=z==null?void 0:z.convert)==null?void 0:Le.speechGenerator)==null?void 0:je.defaults)??{};G.Predictions=Ue?{...z,convert:{...z.convert,speechGenerator:{...z.convert.speechGenerator,defaults:{voiceId:Ue}}}}:z}return G},Ck=t=>(t==null?void 0:t.split(","))??[],sB=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:r,responseType:a})=>({domain:t,scopes:e,redirectSignIn:Ck(n),redirectSignOut:Ck(r),responseType:a}),iB=t=>t.map(e=>{const n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),uB=t=>t&&t["nonRetryable"],km=new ei("retryUtil");async function lB(t,e,n,r){if(typeof t!="function")throw Error("functionToRetry must be a function");return new Promise(async(a,o)=>{let i=0,l=!1,d=()=>{},f;for(;!l;){i++,km.debug(`${t.name} attempt #${i} with this vars: ${JSON.stringify(e)}`);try{return a(await t(...e))}catch(c){if(f=c,km.debug(`error on ${t.name}`,c),uB(c))return km.debug(`${t.name} non retryable error`,c),o(c);const h=n(i,e,c);if(km.debug(`${t.name} retrying in ${h} ms`),h===!1||l)return o(c);await new Promise(g=>{d=g,setTimeout(d,h)})}}o(f)})}const Tk=t=>{const e=Reflect.ownKeys(t);for(const n of e){const r=t[n];(r&&typeof r=="object"||typeof r=="function")&&Tk(r)}return Object.freeze(t)},cB=Symbol("oauth-listener");class dB{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new rB}configure(e,n){let r;Object.keys(e).some(a=>a.startsWith("aws_"))?r=Ek(e):r=e,this.resourcesConfig=r,n&&(this.libraryOptions=n),this.resourcesConfig=Tk(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),b1.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",Em),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[cB](e){var n,r,a;(r=(n=this.resourcesConfig.Auth)==null?void 0:n.Cognito.loginWith)!=null&&r.oauth?e((a=this.resourcesConfig.Auth)==null?void 0:a.Cognito):this.oAuthListener=e}notifyOAuthListener(){var e,n,r;!((n=(e=this.resourcesConfig.Auth)==null?void 0:e.Cognito.loginWith)!=null&&n.oauth)||!this.oAuthListener||(this.oAuthListener((r=this.resourcesConfig.Auth)==null?void 0:r.Cognito),this.oAuthListener=void 0)}}const ti=new dB,fB=(t,e)=>t.Auth.fetchAuthSession(e),kk=t=>fB(ti,t),Ik={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},pB={partitions:[Ik,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Rk=t=>{const{partitions:e}=pB;for(const{regions:n,outputs:r,regionRegex:a}of e){const o=new RegExp(a);if(n.includes(t)||o.test(t))return r.dnsSuffix}return Ik.outputs.dnsSuffix},hB=3,mB=({maxAttempts:t=hB,retryDecider:e,computeDelay:n,abortSignal:r})=>{if(t<1)throw new Error("maxAttempts must be greater than 0");return(a,o)=>async function(l){let d,f=o.attemptsCount??0,c;const h=()=>{if(c)return Ak(c,f),c;throw Ak(d,f),d};for(;!(r!=null&&r.aborted)&&f<t;){try{c=await a(l),d=void 0}catch(g){d=g,c=void 0}if(f=(o.attemptsCount??0)>f?o.attemptsCount??0:f+1,o.attemptsCount=f,await e(c,d)){if(!(r!=null&&r.aborted)&&f<t){const g=n(f);await gB(g,r)}continue}else return h()}if(r!=null&&r.aborted)throw new Error("Request aborted.");return h()}},gB=(t,e)=>{if(e!=null&&e.aborted)return Promise.resolve();let n,r;const a=new Promise(o=>{r=o,n=setTimeout(o,t)});return e==null||e.addEventListener("abort",function o(i){clearTimeout(n),e==null||e.removeEventListener("abort",o),r()}),a},Ak=(t,e)=>{Object.prototype.toString.call(t)==="[object Object]"&&(t.$metadata={...t.$metadata??{},attempts:e})},vB=({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(a){if(e.trim().length===0)return await n(a);{const o=t.toLowerCase();return a.headers[o]=a.headers[o]?`${a.headers[o]} ${e}`:e,await n(a)}},S1=(t,e)=>(n,r)=>{const a={};let o=i=>t(i,r);for(let i=e.length-1;i>=0;i--){const l=e[i];o=l(r)(o,a)}return o(n)},w1=t=>{let e;return()=>(e||(e=t()),e)},yB=t=>!["HEAD","GET","DELETE"].includes(t.toUpperCase()),Nk=S1(async({url:t,method:e,headers:n,body:r},{abortSignal:a,cache:o,withCrossDomainCredentials:i})=>{var h;let l;try{l=await fetch(t,{method:e,headers:n,body:yB(e)?r:void 0,signal:a,cache:o,credentials:i?"include":"same-origin"})}catch(g){throw g instanceof TypeError?new Error("Network error"):g}const d={};(h=l.headers)==null||h.forEach((g,v)=>{d[v.toLowerCase()]=g});const f={statusCode:l.status,headers:d,body:null},c=Object.assign(l.body??{},{text:w1(()=>l.text()),blob:w1(()=>l.blob()),json:w1(()=>l.json())});return{...f,body:c}},[vB,mB]),Dk=5*60*1e3;function Ok(t=Dk){return r=>{const a=2**r*100+100*Math.random();return a>t?!1:a}}const Mk=5*60*1e3,$k=t=>{const n=Ok(Mk)(t);return n===!1?Mk:n},bB=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],SB=t=>!!t&&bB.includes(t),Fk=t=>async(e,n)=>{const r=n??await t(e)??void 0,a=r==null?void 0:r.code,o=e==null?void 0:e.statusCode;return EB(n)||xB(o,a)||SB(a)||CB(o,a)},wB=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],_B=["TimeoutError","RequestTimeout","RequestTimeoutException"],xB=(t,e)=>t===429||!!e&&wB.includes(e),EB=t=>(t==null?void 0:t.name)==="Network error",CB=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&_B.includes(e);var Jo=function(){return Jo=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jo.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;const bf=t=>new TextEncoder().encode(t),Sf=t=>typeof t=="string"?bf(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),_1=t=>new TextDecoder("utf-8").decode(t);typeof Buffer<"u"&&Buffer.from;for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`)}const x1=URL,Im=t=>{const{headers:e,statusCode:n}=t;return{...TB(t)?t.$metadata:{},httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]}},TB=t=>typeof(t==null?void 0:t.$metadata)=="object",wf=async t=>{if(!t||t.statusCode<300)return;const e=await Rm(t),r=(i=>{const[l]=i.toString().split(/[\,\:]+/);return l.includes("#")?l.split("#")[1]:l})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),a=e.message??e.Message??"Unknown error",o=new Error(a);return Object.assign(o,{name:r,$metadata:Im(t)})},Rm=async t=>{if(!t.body)throw new Error("Missing response payload");const e=await t.body.json();return Object.assign(e,{$metadata:Im(t)})};var Vr;(function(t){t.WebUnknown="0",t.React="1",t.NextJs="2",t.Angular="3",t.VueJs="4",t.Nuxt="5",t.Svelte="6",t.ServerSideUnknown="100",t.ReactSSR="101",t.NextJsSSR="102",t.AngularSSR="103",t.VueJsSSR="104",t.NuxtSSR="105",t.SvelteSSR="106",t.ReactNative="201",t.Expo="202"})(Vr||(Vr={}));var Pk;(function(t){t.API="api",t.Auth="auth",t.Analytics="analytics",t.DataStore="datastore",t.Geo="geo",t.InAppMessaging="inappmessaging",t.Interactions="interactions",t.Predictions="predictions",t.PubSub="pubsub",t.PushNotification="pushnotification",t.Storage="storage"})(Pk||(Pk={}));var Lk;(function(t){t.Record="1",t.IdentifyUser="2"})(Lk||(Lk={}));var Bk;(function(t){t.GraphQl="1",t.Get="2",t.Post="3",t.Put="4",t.Patch="5",t.Del="6",t.Head="7"})(Bk||(Bk={}));var zk;(function(t){t.SignUp="1",t.ConfirmSignUp="2",t.ResendSignUpCode="3",t.SignIn="4",t.FetchMFAPreference="6",t.UpdateMFAPreference="7",t.SetUpTOTP="10",t.VerifyTOTPSetup="11",t.ConfirmSignIn="12",t.DeleteUserAttributes="15",t.DeleteUser="16",t.UpdateUserAttributes="17",t.FetchUserAttributes="18",t.ConfirmUserAttribute="22",t.SignOut="26",t.UpdatePassword="27",t.ResetPassword="28",t.ConfirmResetPassword="29",t.FederatedSignIn="30",t.RememberDevice="32",t.ForgetDevice="33",t.FetchDevices="34",t.SendUserAttributeVerificationCode="35",t.SignInWithRedirect="36"})(zk||(zk={}));var Uk;(function(t){t.Subscribe="1",t.GraphQl="2"})(Uk||(Uk={}));var Vk;(function(t){t.SearchByText="0",t.SearchByCoordinates="1",t.SearchForSuggestions="2",t.SearchByPlaceId="3",t.SaveGeofences="4",t.GetGeofence="5",t.ListGeofences="6",t.DeleteGeofences="7"})(Vk||(Vk={}));var jk;(function(t){t.SyncMessages="1",t.IdentifyUser="2",t.NotifyMessageInteraction="3"})(jk||(jk={}));var Hk;(function(t){t.None="0"})(Hk||(Hk={}));var Wk;(function(t){t.Convert="1",t.Identify="2",t.Interpret="3"})(Wk||(Wk={}));var qk;(function(t){t.Subscribe="1"})(qk||(qk={}));var Gk;(function(t){t.InitializePushNotifications="1",t.IdentifyUser="2"})(Gk||(Gk={}));var Kk;(function(t){t.UploadData="1",t.DownloadData="2",t.List="3",t.Copy="4",t.Remove="5",t.GetProperties="6",t.GetUrl="7"})(Kk||(Kk={}));const kB="6.0.15",Am=()=>typeof global<"u",Ic=()=>typeof window<"u",Yk=()=>typeof document<"u",E1=()=>typeof process<"u",_f=(t,e)=>!!Object.keys(t).find(n=>n.startsWith(e));var Xk={NODE_ENV:'"production"',REACT_APP_ENV_API_URL:"https://vj5gic5sih.execute-api.us-east-1.amazonaws.com/videoverification/",REACT_APP_IDENTITYPOOL_ID:"us-east-1:1224a43a-2a75-48aa-b7f8-8e15b995afd5",REACT_APP_REGION:"us-east-1",REACT_APP_USERPOOL_ID:"us-east-1_MgurI5cTn",REACT_APP_WEBCLIENT_ID:"39fqjcc8qak0qgqbcsquvl92on"};function IB(){const t=r=>r.startsWith("_react")||r.startsWith("__react"),e=r=>Object.keys(r).find(t),n=()=>Array.from(document.querySelectorAll("[id]"));return Yk()&&n().some(e)}function RB(){return E1()&&typeof Xk<"u"&&!!Object.keys(Xk).find(t=>t.includes("react"))}function AB(){return Ic()&&_f(window,"__VUE")}function NB(){return Am()&&_f(global,"__VUE")}var Qk={NODE_ENV:'"production"',REACT_APP_ENV_API_URL:"https://vj5gic5sih.execute-api.us-east-1.amazonaws.com/videoverification/",REACT_APP_IDENTITYPOOL_ID:"us-east-1:1224a43a-2a75-48aa-b7f8-8e15b995afd5",REACT_APP_REGION:"us-east-1",REACT_APP_USERPOOL_ID:"us-east-1_MgurI5cTn",REACT_APP_WEBCLIENT_ID:"39fqjcc8qak0qgqbcsquvl92on"};function DB(){return Ic()&&_f(window,"__SVELTE")}function OB(){return E1()&&typeof Qk<"u"&&!!Object.keys(Qk).find(t=>t.includes("svelte"))}function MB(){return Ic()&&window.next&&typeof window.next=="object"}function $B(){return Am()&&(_f(global,"__next")||_f(global,"__NEXT"))}function FB(){return Ic()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function PB(){return Am()&&typeof global.__NUXT_PATHS__<"u"}var Zk={};function LB(){const t=!!(Yk()&&document.querySelector("[ng-version]")),e=!!(Ic()&&typeof window.ng<"u");return t||e}function BB(){var t;return E1()&&typeof Zk=="object"&&((t=Zk.npm_lifecycle_script)==null?void 0:t.startsWith("ng "))||!1}function zB(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function UB(){return Am()&&typeof global.expo<"u"}function VB(){return Ic()}const jB=[{platform:Vr.Expo,detectionMethod:UB},{platform:Vr.ReactNative,detectionMethod:zB},{platform:Vr.NextJs,detectionMethod:MB},{platform:Vr.Nuxt,detectionMethod:FB},{platform:Vr.Angular,detectionMethod:LB},{platform:Vr.React,detectionMethod:IB},{platform:Vr.VueJs,detectionMethod:AB},{platform:Vr.Svelte,detectionMethod:DB},{platform:Vr.WebUnknown,detectionMethod:VB},{platform:Vr.NextJsSSR,detectionMethod:$B},{platform:Vr.NuxtSSR,detectionMethod:PB},{platform:Vr.ReactSSR,detectionMethod:RB},{platform:Vr.VueJsSSR,detectionMethod:NB},{platform:Vr.AngularSSR,detectionMethod:BB},{platform:Vr.SvelteSSR,detectionMethod:OB}];function HB(){var t;return((t=jB.find(e=>e.detectionMethod()))==null?void 0:t.platform)||Vr.ServerSideUnknown}let xf;const Nm=[];let Dm=!1;const WB=10,qB=10,GB=1e3,Jk=()=>{var t;if(!xf){if(xf=HB(),Dm)for(;Nm.length;)(t=Nm.pop())==null||t();else Nm.forEach(e=>e());eI(Vr.ServerSideUnknown,WB),eI(Vr.WebUnknown,qB)}return xf},KB=t=>{Dm||Nm.push(t)};function YB(){xf=void 0}function eI(t,e){xf===t&&!Dm&&setTimeout(()=>{YB(),Dm=!0,setTimeout(Jk,GB)},e)}const XB={},QB=(t,e)=>{var n,r;return(r=(n=XB[t])==null?void 0:n[e])==null?void 0:r.additionalDetails},ZB="aws-amplify",JB=({category:t,action:e,framework:n}={})=>{const r=[[ZB,kB]];if(t&&r.push([t,e]),r.push(["framework",Jk()]),t&&e){const a=QB(t,e);a&&a.forEach(o=>{r.push(o)})}return r},Om=t=>JB(t).map(([r,a])=>r&&a?`${r}/${a}`:r).join(" "),ez="cognito-identity",tz=({region:t})=>({url:new x1(`https://cognito-identity.${t}.${Rk(t)}`)}),tI=S1(Nk,[()=>(t,e)=>async function(r){return r.headers["cache-control"]="no-store",t(r)}]),C1={service:ez,endpointResolver:tz,retryDecider:Fk(wf),computeDelay:$k,userAgentValue:Om(),cache:"no-store"};KB(()=>{C1.userAgentValue=Om()});const nI=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),rI=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"}),T1=(t,e,n,r)=>async(a,o)=>{const i={...r,...a},l=await i.endpointResolver(i,o),d=await e(o,l),f=await t(d,{...i});return await n(f)},nz=T1(tI,(t,e)=>{const n=nI("GetId"),r=JSON.stringify(t);return rI(e,n,r)},async t=>{if(t.statusCode>=300)throw await wf(t);return{IdentityId:(await Rm(t)).IdentityId,$metadata:Im(t)}},C1),rz=(t,e)=>{const n=nI("GetCredentialsForIdentity"),r=JSON.stringify(t);return rI(e,n,r)},az=async t=>{if(t.statusCode>=300)throw await wf(t);{const e=await Rm(t);return{IdentityId:e.IdentityId,Credentials:oz(e.Credentials),$metadata:Im(t)}}},oz=({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r}={})=>({AccessKeyId:t,SecretKey:e,SessionToken:n,Expiration:r&&new Date(r*1e3)}),aI=T1(tI,rz,az,C1);class Mm extends Ai{constructor(){super({name:xm.PlatformNotSupported,message:"Function not supported on current platform"})}}class oI{constructor(e){this.storage=e}async setItem(e,n){if(!this.storage)throw new Mm;this.storage.setItem(e,n)}async getItem(e){if(!this.storage)throw new Mm;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new Mm;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new Mm;this.storage.clear()}}class sI{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,n){this.storage.set(e,n)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const sz=()=>typeof window<"u"&&window.localStorage?window.localStorage:new sI,iz=()=>typeof window<"u"&&window.sessionStorage?window.sessionStorage:new sI;class uz extends oI{constructor(){super(sz())}}class lz extends oI{constructor(){super(iz())}}/*! js-cookie v3.0.5 | MIT */function $m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var cz={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function k1(t,e){function n(a,o,i){if(!(typeof document>"u")){i=$m({},e,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var d in i)i[d]&&(l+="; "+d,i[d]!==!0&&(l+="="+i[d].split(";")[0]));return document.cookie=a+"="+t.write(o,a)+l}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var o=document.cookie?document.cookie.split("; "):[],i={},l=0;l<o.length;l++){var d=o[l].split("="),f=d.slice(1).join("=");try{var c=decodeURIComponent(d[0]);if(i[c]=t.read(f,c),a===c)break}catch{}}return a?i[a]:i}}return Object.create({set:n,get:r,remove:function(a,o){n(a,"",$m({},o,{expires:-1}))},withAttributes:function(a){return k1(this.converter,$m({},this.attributes,a))},withConverter:function(a){return k1($m({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Fm=k1(cz,{path:"/"});class iI{constructor(e={}){const{path:n,domain:r,expires:a,sameSite:o,secure:i}=e;if(this.domain=r,this.path=n||"/",this.expires=e.hasOwnProperty("expires")?a:365,this.secure=e.hasOwnProperty("secure")?i:!0,e.hasOwnProperty("sameSite")){if(!o||!["strict","lax","none"].includes(o))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(o==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(e,n){Fm.set(e,n,this.getData())}async getItem(e){return Fm.get(e)??null}async removeItem(e){Fm.remove(e,this.getData())}async clear(){const e=Fm.get(),n=Object.keys(e).map(r=>this.removeItem(r));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const Pm=new uz;new lz;const dz=(t,e,n=Dk,r)=>lB(t,e,Ok(n)),fz=t=>{let e;return async(...n)=>e||(e=new Promise(async(r,a)=>{try{const o=await t(...n);r(o)}catch(o){a(o)}finally{e=void 0}}),e)},uI="cognito-idp",pz=({region:t})=>{var a;const e=(a=ti.getConfig().Auth)==null?void 0:a.Cognito,n=e==null?void 0:e.userPoolEndpoint,r=new x1(`https://${uI}.${t}.${Rk(t)}`);return{url:n?new x1(n):r}},hz=S1(Nk,[()=>(t,e)=>async function(r){return r.headers["cache-control"]="no-store",t(r)}]),mz={service:uI,endpointResolver:pz,retryDecider:Fk(wf),computeDelay:$k,userAgentValue:Om(),cache:"no-store"},gz=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),vz=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});class $r extends Ai{constructor(e){super(e),this.constructor=$r,Object.setPrototypeOf(this,$r.prototype)}}function lI(t){if(!t||t.name==="Error"||t instanceof TypeError)throw new $r({name:xm.Unknown,message:"An unknown error has occurred.",underlyingError:t})}const yz=t=>(e,n)=>{const r=gz(t),a=JSON.stringify(e);return vz(n,r,a)},bz=()=>async t=>{if(t.statusCode>=300){const e=await wf(t);throw lI(e),new $r({name:e.name,message:e.message})}else return await Rm(t)},Sz=T1(hz,yz("InitiateAuth"),bz(),mz);function wz(t){const e=t==null?void 0:t.split("_")[0];if(!t||t.indexOf("_")<0||!e||typeof e!="string")throw new $r({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function I1(t){if(!t||!t.includes(":"))throw new $r({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}var R1={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var A1=function(t,e){return A1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},A1(t,e)};function _z(t,e){A1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var N1=function(){return N1=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N1.apply(this,arguments)};function xz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Ez(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function Cz(t,e){return function(n,r){e(n,r,t)}}function Tz(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function kz(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(c){try{f(r.next(c))}catch(h){i(h)}}function d(c){try{f(r.throw(c))}catch(h){i(h)}}function f(c){c.done?o(c.value):a(c.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function Iz(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(c){return d([f,c])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(c){f=[6,c],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Rz(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Az(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function D1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cI(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function Nz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cI(arguments[e]));return t}function Dz(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}function Ef(t){return this instanceof Ef?(this.v=t,this):new Ef(t)}function Oz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(g){r[g]&&(a[g]=function(v){return new Promise(function(b,w){o.push([g,v,b,w])>1||l(g,v)})})}function l(g,v){try{d(r[g](v))}catch(b){h(o[0][3],b)}}function d(g){g.value instanceof Ef?Promise.resolve(g.value.v).then(f,c):h(o[0][2],g)}function f(g){l("next",g)}function c(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Mz(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:Ef(t[a](i)),done:a==="return"}:o?o(i):i}:o}}function $z(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof D1=="function"?D1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(l,d){i=t[o](i),a(l,d,i.done,i.value)})}}function a(o,i,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},i)}}function Fz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Pz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Lz(t){return t&&t.__esModule?t:{default:t}}function Bz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function zz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const dI=Ri(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return N1},__asyncDelegator:Mz,__asyncGenerator:Oz,__asyncValues:$z,__await:Ef,__awaiter:kz,__classPrivateFieldGet:Bz,__classPrivateFieldSet:zz,__createBinding:Rz,__decorate:Ez,__exportStar:Az,__extends:_z,__generator:Iz,__importDefault:Lz,__importStar:Pz,__makeTemplateObject:Fz,__metadata:Tz,__param:Cz,__read:cI,__rest:xz,__spread:Nz,__spreadArrays:Dz,__values:D1},Symbol.toStringTag,{value:"Module"})));var Cf={},Do={},fI;function pI(){return fI||(fI=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.MAX_HASHABLE_LENGTH=Do.INIT=Do.KEY=Do.DIGEST_LENGTH=Do.BLOCK_SIZE=void 0,Do.BLOCK_SIZE=64,Do.DIGEST_LENGTH=32,Do.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Do.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Do.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),Do}var Tf={},hI;function Uz(){if(hI)return Tf;hI=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.RawSha256=void 0;var t=pI(),e=function(){function n(){this.state=Int32Array.from(t.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var a=0,o=r.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>t.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=r[a++],o--,this.bufferLength===t.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},n.prototype.digest=function(){if(!this.finished){var r=this.bytesHashed*8,a=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(a.setUint8(this.bufferLength++,128),o%t.BLOCK_SIZE>=t.BLOCK_SIZE-8){for(var i=this.bufferLength;i<t.BLOCK_SIZE;i++)a.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<t.BLOCK_SIZE-8;i++)a.setUint8(i,0);a.setUint32(t.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),a.setUint32(t.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}for(var l=new Uint8Array(t.DIGEST_LENGTH),i=0;i<8;i++)l[i*4]=this.state[i]>>>24&255,l[i*4+1]=this.state[i]>>>16&255,l[i*4+2]=this.state[i]>>>8&255,l[i*4+3]=this.state[i]>>>0&255;return l},n.prototype.hashBuffer=function(){for(var r=this,a=r.buffer,o=r.state,i=o[0],l=o[1],d=o[2],f=o[3],c=o[4],h=o[5],g=o[6],v=o[7],b=0;b<t.BLOCK_SIZE;b++){if(b<16)this.temp[b]=(a[b*4]&255)<<24|(a[b*4+1]&255)<<16|(a[b*4+2]&255)<<8|a[b*4+3]&255;else{var w=this.temp[b-2],x=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[b-15];var E=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[b]=(x+this.temp[b-7]|0)+(E+this.temp[b-16]|0)}var T=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&h^~c&g)|0)+(v+(t.KEY[b]+this.temp[b]|0)|0)|0,C=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&l^i&d^l&d)|0;v=g,g=h,h=c,c=f+T|0,f=d,d=l,l=i,i=T+C|0}o[0]+=i,o[1]+=l,o[2]+=d,o[3]+=f,o[4]+=c,o[5]+=h,o[6]+=g,o[7]+=v},n}();return Tf.RawSha256=e,Tf}var O1={},kf={};const Vz=t=>{const e=[];for(let n=0,r=t.length;n<r;n++){const a=t.charCodeAt(n);if(a<128)e.push(a);else if(a<2048)e.push(a>>6|192,a&63|128);else if(n+1<t.length&&(a&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320){const o=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(a>>12|224,a>>6&63|128,a&63|128)}return Uint8Array.from(e)},jz=t=>{let e="";for(let n=0,r=t.length;n<r;n++){const a=t[n];if(a<128)e+=String.fromCharCode(a);else if(192<=a&&a<224){const o=t[++n];e+=String.fromCharCode((a&31)<<6|o&63)}else if(240<=a&&a<365){const i="%"+[a,t[++n],t[++n],t[++n]].map(l=>l.toString(16)).join("%");e+=decodeURIComponent(i)}else e+=String.fromCharCode((a&15)<<12|(t[++n]&63)<<6|t[++n]&63)}return e};function Hz(t){return new TextEncoder().encode(t)}function Wz(t){return new TextDecoder("utf-8").decode(t)}const mI=Ri(Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:t=>typeof TextEncoder=="function"?Hz(t):Vz(t),toUtf8:t=>typeof TextDecoder=="function"?Wz(t):jz(t)},Symbol.toStringTag,{value:"Module"})));var gI;function qz(){if(gI)return kf;gI=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.convertToBuffer=void 0;var t=mI,e=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:t.fromUtf8;function n(r){return r instanceof Uint8Array?r:typeof r=="string"?e(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}return kf.convertToBuffer=n,kf}var If={},vI;function Gz(){if(vI)return If;vI=1,Object.defineProperty(If,"__esModule",{value:!0}),If.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return If.isEmptyData=t,If}var Rf={},yI;function Kz(){if(yI)return Rf;yI=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.numToUint8=void 0;function t(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return Rf.numToUint8=t,Rf}var Af={},bI;function Yz(){if(bI)return Af;bI=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.uint32ArrayFrom=void 0;function t(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),r=0;r<e.length;)n[r]=e[r],r+=1;return n}return Uint32Array.from(e)}return Af.uint32ArrayFrom=t,Af}var SI;function Nf(){return SI||(SI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var e=qz();Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var n=Gz();Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var r=Kz();Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var a=Yz();Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})}(O1)),O1}var wI;function Xz(){if(wI)return Cf;wI=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.Sha256=void 0;var t=dI,e=pI(),n=Uz(),r=Nf(),a=function(){function i(l){this.secret=l,this.hash=new n.RawSha256,this.reset()}return i.prototype.update=function(l){if(!((0,r.isEmptyData)(l)||this.error))try{this.hash.update((0,r.convertToBuffer)(l))}catch(d){this.error=d}},i.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},i.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(l){return[2,this.digestSync()]})})},i.prototype.reset=function(){if(this.hash=new n.RawSha256,this.secret){this.outer=new n.RawSha256;var l=o(this.secret),d=new Uint8Array(e.BLOCK_SIZE);d.set(l);for(var f=0;f<e.BLOCK_SIZE;f++)l[f]^=54,d[f]^=92;this.hash.update(l),this.outer.update(d);for(var f=0;f<l.byteLength;f++)l[f]=0}},i}();Cf.Sha256=a;function o(i){var l=(0,r.convertToBuffer)(i);if(l.byteLength>e.BLOCK_SIZE){var d=new n.RawSha256;d.update(l),l=d.digest()}var f=new Uint8Array(e.BLOCK_SIZE);return f.set(l),f}return Cf}var _I;function Qz(){return _I||(_I=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=dI;e.__exportStar(Xz(),t)}(R1)),R1}const xI="UserUnAuthenticatedException",Zz="InvalidRedirectException";new $r({name:Zz,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});const Jz="InvalidOriginException";new $r({name:Jz,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const e7="TokenRefreshException";function t7(t){if(!t||!t.idToken)throw new $r({name:xI,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const n7=new $r({name:e7,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),r7=new $r({name:xI,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function a7(t){if(s7(t))throw n7;if(!o7(t))throw r7}function EI(t){return(t==null?void 0:t.accessToken)||(t==null?void 0:t.idToken)}function o7(t){return EI(t)&&(t==null?void 0:t.refreshToken)}function s7(t){return EI(t)&&!(t!=null&&t.refreshToken)}function i7({username:t,userPoolId:e,userPoolClientId:n}){if(typeof window>"u")return;const r=window.AmazonCognitoAdvancedSecurityData;if(typeof r>"u")return;const a=r.getData(t,e,n);return a?{EncodedData:a}:{}}const u7=fz(async({tokens:t,authConfig:e,username:n})=>{var g,v;Cm(e==null?void 0:e.Cognito);const r=wz(e.Cognito.userPoolId);a7(t);const a=t.refreshToken,o={REFRESH_TOKEN:a};(g=t.deviceMetadata)!=null&&g.deviceKey&&(o.DEVICE_KEY=t.deviceMetadata.deviceKey);const i=i7({username:n,userPoolId:e.Cognito.userPoolId,userPoolClientId:e.Cognito.userPoolClientId}),{AuthenticationResult:l}=await Sz({region:r},{ClientId:(v=e==null?void 0:e.Cognito)==null?void 0:v.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,UserContextData:i}),d=yf((l==null?void 0:l.AccessToken)??""),f=l!=null&&l.IdToken?yf(l.IdToken):void 0,c=d.payload.iat;if(!c)throw new $r({name:"iatNotFoundException",message:"iat not found in access token"});const h=c*1e3-new Date().getTime();return{accessToken:d,idToken:f,clockDrift:h,refreshToken:a,username:n}}),l7={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var Lm;(function(t){t.InvalidAuthTokens="InvalidAuthTokens"})(Lm||(Lm={}));const c7={[Lm.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},d7=wk(c7);class f7{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new $r({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e.accessToken);if(!n)throw new $r({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const r=yf(n),a=await this.getKeyValueStorage().getItem(e.idToken),o=a?yf(a):void 0,i=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,l=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",d=Number.parseInt(l),f=await this.getKeyValueStorage().getItem(e.signInDetails),c={accessToken:r,idToken:o,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:d,username:await this.getLastAuthUser()};return f&&(c.signInDetails=JSON.parse(f)),c}catch{return null}}async storeTokens(e){d7(e!==void 0,Lm.InvalidAuthTokens),await this.clearTokens();const n=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(r.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(r.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(r.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){const n=await this.getAuthKeys(e),r=await this.getKeyValueStorage().getItem(n.deviceKey),a=await this.getKeyValueStorage().getItem(n.deviceGroupKey),o=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return o?{deviceKey:r??void 0,deviceGroupKey:a??void 0,randomPassword:o}:null}async clearDeviceMetadata(e){const n=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(e){var r;Cm((r=this.authConfig)==null?void 0:r.Cognito);const n=e??await this.getLastAuthUser();return p7(this.name,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){var n;Cm((n=this.authConfig)==null?void 0:n.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}}const p7=(t,e)=>CI(l7)(`${t}`,e);function CI(t){const e=Object.values({...t});return(n,r)=>e.reduce((a,o)=>({...a,[o]:`${n}.${r}.${o}`}),{})}class h7{constructor(){this.waitForInflightOAuth=async()=>{}}setAuthConfig(e){this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}setWaitForInflightOAuth(e){this.waitForInflightOAuth=e}getTokenStore(){if(!this.tokenStore)throw new $r({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new $r({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){var i,l,d,f,c;let n;try{Cm((i=this.authConfig)==null?void 0:i.Cognito)}catch{return null}await this.waitForInflightOAuth(),n=await this.getTokenStore().loadTokens();const r=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const a=!!(n!=null&&n.idToken)&&xk({expiresAt:(((d=(l=n.idToken)==null?void 0:l.payload)==null?void 0:d.exp)??0)*1e3,clockDrift:n.clockDrift??0}),o=xk({expiresAt:(((c=(f=n.accessToken)==null?void 0:f.payload)==null?void 0:c.exp)??0)*1e3,clockDrift:n.clockDrift??0});return(e!=null&&e.forceRefresh||a||o)&&(n=await this.refreshTokens({tokens:n,username:r}),n===null)?null:{accessToken:n==null?void 0:n.accessToken,idToken:n==null?void 0:n.idToken,signInDetails:n==null?void 0:n.signInDetails}}async refreshTokens({tokens:e,username:n}){try{const r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:n});return await this.setTokens({tokens:r}),b1.dispatch("auth",{event:"tokenRefresh"},"Auth",Em),r}catch(r){return this.handleErrors(r)}}handleErrors(e){if(lI(e),e.message!=="Network error"&&this.clearTokens(),b1.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",Em),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}}class m7{constructor(){this.authTokenStore=new f7,this.authTokenStore.setKeyValueStorage(Pm),this.tokenOrchestrator=new h7,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(u7)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setWaitForInflightOAuth(e){this.tokenOrchestrator.setWaitForInflightOAuth(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}const Df=new m7;Df.tokenOrchestrator;const g7={identityId:"identityId"},v7=new ei("DefaultIdentityIdStore");class y7{setAuthConfig(e){Tm(e.Cognito),this.authConfig=e,this._authKeys=b7("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this.keyValueStorage=e}async loadIdentityId(){var e;Tm((e=this.authConfig)==null?void 0:e.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const n=await this.keyValueStorage.getItem(this._authKeys.identityId);return n?{id:n,type:"guest"}:null}}catch(n){return v7.log("Error getting stored IdentityId.",n),null}}async storeIdentityId(e){var n;Tm((n=this.authConfig)==null?void 0:n.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0):(this._primaryIdentityId=e.id,this.keyValueStorage.removeItem(this._authKeys.identityId))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const b7=(t,e)=>CI(g7)(`com.amplify.${t}`,e);function TI(t){const e=yf(t).payload.iss,n={};if(!e)throw new $r({name:"InvalidIdTokenException",message:"Invalid Idtoken."});let r=e.replace(/(^\w+:|^)\/\//,"");return n[r]=t,n}const S7=new ei("CognitoIdentityIdProvider");async function w7({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});let r=await n.loadIdentityId();if(t){if(r&&r.type==="primary")return r.id;{const a=t.idToken?TI(t.idToken.toString()):{},o=await kI(a,e);r&&r.id===o&&S7.debug(`The guest identity ${r.id} has become the primary identity.`),r={id:o,type:"primary"}}}else{if(r&&r.type==="guest")return r.id;r={id:await kI({},e),type:"guest"}}return n.storeIdentityId(r),r.id}async function kI(t,e){const n=e==null?void 0:e.identityPoolId,r=I1(n),a=(await nz({region:r},{IdentityPoolId:n,Logins:t})).IdentityId;if(!a)throw new $r({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return a}const Bm=new ei("CognitoCredentialsProvider"),II=50*60*1e3;class _7{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Bm.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Bm.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const n=e.authenticated,r=e.tokens,a=e.authConfig;try{Tm(a==null?void 0:a.Cognito)}catch{return}if(!n&&!a.Cognito.allowGuestAccess)return;const o=e.forceRefresh,i=this.hasTokenChanged(r),l=await w7({tokens:r,authConfig:a.Cognito,identityIdStore:this._identityIdStore});return(o||i)&&this.clearCredentials(),n?(t7(r),this.credsForOIDCTokens(a.Cognito,r,l)):this.getGuestCredentials(l,a.Cognito)}async getGuestCredentials(e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Bm.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=I1(n.identityPoolId),a=await aI({region:r},{IdentityId:e});if(a.Credentials&&a.Credentials.AccessKeyId&&a.Credentials.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+II;const o={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:e},i=a.IdentityId;return i&&(o.identityId=i,this._identityIdStore.storeIdentityId({id:i,type:"guest"})),this._credentialsAndIdentityId={...o,isAuthenticatedCreds:!1},o}else throw new $r({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,n,r){var l;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Bm.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const a=n.idToken?TI(n.idToken.toString()):{},o=I1(e.identityPoolId),i=await aI({region:o},{IdentityId:r,Logins:a});if(i.Credentials&&i.Credentials.AccessKeyId&&i.Credentials.SecretKey){const d={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:r};this._credentialsAndIdentityId={...d,isAuthenticatedCreds:!0,associatedIdToken:(l=n.idToken)==null?void 0:l.toString()},this._nextCredentialsRefresh=new Date().getTime()+II;const f=i.IdentityId;return f&&(d.identityId=f,this._identityIdStore.storeIdentityId({id:f,type:"primary"})),d}else throw new $r({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){var n,r;return!!e&&!!((n=this._credentialsAndIdentityId)!=null&&n.associatedIdToken)&&((r=e.idToken)==null?void 0:r.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const x7=new _7(new y7(Pm)),E7={configure(t,e){let n;if(Object.keys(t).some(r=>r.startsWith("aws_"))?n=Ek(t):n=t,!n.Auth||e!=null&&e.Auth)return ti.configure(n,e);if(!ti.libraryOptions.Auth)return Df.setAuthConfig(n.Auth),Df.setKeyValueStorage(e!=null&&e.ssr?new iI({sameSite:"lax"}):Pm),ti.configure(n,{...e,Auth:{tokenProvider:Df,credentialsProvider:x7}});if(e)return e.ssr!==void 0&&Df.setKeyValueStorage(e.ssr?new iI({sameSite:"lax"}):Pm),ti.configure(n,{Auth:ti.libraryOptions.Auth,...e});ti.configure(n)},getConfig(){return ti.getConfig()}};var M1,RI;function C7(){if(RI)return M1;RI=1;var t=typeof xu=="object"&&xu&&xu.Object===Object&&xu;return M1=t,M1}var $1,AI;function T7(){if(AI)return $1;AI=1;var t=C7(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return $1=n,$1}var F1,NI;function P1(){if(NI)return F1;NI=1;var t=T7(),e=t.Symbol;return F1=e,F1}var L1,DI;function k7(){if(DI)return L1;DI=1;var t=P1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function o(i){var l=n.call(i,a),d=i[a];try{i[a]=void 0;var f=!0}catch{}var c=r.call(i);return f&&(l?i[a]=d:delete i[a]),c}return L1=o,L1}var B1,OI;function I7(){if(OI)return B1;OI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return B1=n,B1}var z1,MI;function R7(){if(MI)return z1;MI=1;var t=P1(),e=k7(),n=I7(),r="[object Null]",a="[object Undefined]",o=t?t.toStringTag:void 0;function i(l){return l==null?l===void 0?a:r:o&&o in Object(l)?e(l):n(l)}return z1=i,z1}var U1,$I;function A7(){if($I)return U1;$I=1;var t=Array.isArray;return U1=t,U1}var V1,FI;function N7(){if(FI)return V1;FI=1;function t(e){return e!=null&&typeof e=="object"}return V1=t,V1}var j1={exports:{}},H1={exports:{}},W1={},PI;function D7(){if(PI)return W1;PI=1;/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=mf(),e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function n(C){{for(var I=arguments.length,D=new Array(I>1?I-1:0),F=1;F<I;F++)D[F-1]=arguments[F];r("error",C,D)}}function r(C,I,D){{var F=e.ReactDebugCurrentFrame,B=F.getStackAddendum();B!==""&&(I+="%s",D=D.concat([B]));var H=D.map(function(z){return String(z)});H.unshift("Warning: "+I),Function.prototype.apply.call(console[C],console,H)}}function a(C,I){return C===I&&(C!==0||1/C===1/I)||C!==C&&I!==I}var o=typeof Object.is=="function"?Object.is:a,i=t.useState,l=t.useEffect,d=t.useLayoutEffect,f=t.useDebugValue,c=!1,h=!1;function g(C,I,D){c||t.startTransition!==void 0&&(c=!0,n("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var F=I();if(!h){var B=I();o(F,B)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),h=!0)}var H=i({inst:{value:F,getSnapshot:I}}),z=H[0].inst,U=H[1];return d(function(){z.value=F,z.getSnapshot=I,v(z)&&U({inst:z})},[C,F,I]),l(function(){v(z)&&U({inst:z});var O=function(){v(z)&&U({inst:z})};return C(O)},[C]),f(F),F}function v(C){var I=C.getSnapshot,D=C.value;try{var F=I();return!o(D,F)}catch{return!0}}function b(C,I,D){return I()}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x=!w,E=x?b:g,T=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:E;W1.useSyncExternalStore=T,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),W1}var LI;function O7(){return LI||(LI=1,H1.exports=D7()),H1.exports}var q1={},BI;function M7(){if(BI)return q1;BI=1;/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=mf(),e=O7();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,i=t.useEffect,l=t.useMemo,d=t.useDebugValue;function f(c,h,g,v,b){var w=o(null),x;w.current===null?(x={hasValue:!1,value:null},w.current=x):x=w.current;var E=l(function(){var D=!1,F,B,H=function(K){if(!D){D=!0,F=K;var G=v(K);if(b!==void 0&&x.hasValue){var Z=x.value;if(b(Z,G))return B=Z,Z}return B=G,G}var J=F,se=B;if(r(J,K))return se;var oe=v(K);return b!==void 0&&b(se,oe)?se:(F=K,B=oe,oe)},z=g===void 0?null:g,U=function(){return H(h())},O=z===null?void 0:function(){return H(z())};return[U,O]},[h,g,v,b]),T=E[0],C=E[1],I=a(c,T,C);return i(function(){x.hasValue=!0,x.value=I},[I]),d(I),I}q1.useSyncExternalStoreWithSelector=f,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),q1}var zI;function $7(){return zI||(zI=1,j1.exports=M7()),j1.exports}var UI=$7();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Ye=function(){return Ye=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ye.apply(this,arguments)};function G1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function _n(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function dr(t,e,n){if(arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Zn;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(Zn||(Zn={}));var Rc;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(Rc||(Rc={}));var K1=Zn.Start,Y1=Zn.Stop,Of=Zn.Raise,zm=Zn.Send,VI=Zn.Cancel,F7=Zn.NullEvent,X1=Zn.Assign;Zn.After,Zn.DoneState;var jI=Zn.Log,P7=Zn.Init,Q1=Zn.Invoke;Zn.ErrorExecution;var HI=Zn.ErrorPlatform,L7=Zn.ErrorCustom,WI=Zn.Update,B7=Zn.Choose,z7=Zn.Pure,qI=".",GI={},Z1="xstate.guard",U7="",Um;function J1(t,e,n){n===void 0&&(n=qI);var r=Mf(t,n),a=Mf(e,n);return Nn(a)?Nn(r)?a===r:!1:Nn(r)?r in a:Object.keys(r).every(function(o){return o in a?J1(r[o],a[o]):!1})}function KI(t){try{return Nn(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function eS(t,e){try{return Ac(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function V7(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function Mf(t,e){if(V7(t))return t.value;if(Ac(t))return Vm(t);if(typeof t!="string")return t;var n=eS(t,e);return Vm(n)}function Vm(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function $f(t,e){for(var n={},r=Object.keys(t),a=0;a<r.length;a++){var o=r[a];n[o]=e(t[o],o,t,a)}return n}function YI(t,e,n){var r,a,o={};try{for(var i=_n(Object.keys(t)),l=i.next();!l.done;l=i.next()){var d=l.value,f=t[d];n(f)&&(o[d]=e(f,d,t))}}catch(c){r={error:c}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o}var j7=function(t){return function(e){var n,r,a=e;try{for(var o=_n(t),i=o.next();!i.done;i=o.next()){var l=i.value;a=a[l]}}catch(d){n={error:d}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}};function H7(t,e){return function(n){var r,a,o=n;try{for(var i=_n(t),l=i.next();!l.done;l=i.next()){var d=l.value;o=o[e][d]}}catch(f){r={error:f}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o}}function jm(t){if(!t)return[[]];if(Nn(t))return[[t]];var e=_r(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:jm(t[n]).map(function(a){return[n].concat(a)})}));return e}function _r(t){var e;return(e=[]).concat.apply(e,dr([],Fn(t),!1))}function XI(t){return Ac(t)?t:[t]}function ws(t){return t===void 0?[]:XI(t)}function Hm(t,e,n){var r,a;if(Pn(t))return t(e,n.data);var o={};try{for(var i=_n(Object.keys(t)),l=i.next();!l.done;l=i.next()){var d=l.value,f=t[d];Pn(f)?o[d]=f(e,n.data):o[d]=f}}catch(c){r={error:c}}finally{try{l&&!l.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o}function W7(t){return/^(done|error)\./.test(t)}function QI(t){return!!(t instanceof Promise||t!==null&&(Pn(t)||typeof t=="object")&&Pn(t.then))}function q7(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function G7(t,e){var n,r,a=Fn([[],[]],2),o=a[0],i=a[1];try{for(var l=_n(t),d=l.next();!d.done;d=l.next()){var f=d.value;e(f)?o.push(f):i.push(f)}}catch(c){n={error:c}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[o,i]}function ZI(t,e){return $f(t.states,function(n,r){if(n){var a=(Nn(e)?void 0:e[r])||(n?n.current:void 0);if(a)return{current:a,states:ZI(n,a)}}})}function K7(t,e){return{current:e,states:ZI(t,e)}}function JI(t,e,n,r){wa(!!t,"Attempting to update undefined context");var a=t&&n.reduce(function(o,i){var l,d,f=i.assignment,c={state:r,action:i,_event:e},h={};if(Pn(f))h=f(o,e.data,c);else try{for(var g=_n(Object.keys(f)),v=g.next();!v.done;v=g.next()){var b=v.value,w=f[b];h[b]=Pn(w)?w(o,e.data,c):w}}catch(x){l={error:x}}finally{try{v&&!v.done&&(d=g.return)&&d.call(g)}finally{if(l)throw l.error}}return Object.assign({},o,h)},t);return a}var wa=function(){};wa=function(t,e){var n=t instanceof Error?t:void 0;if(!(!n&&t)&&console!==void 0){var r=["Warning: ".concat(e)];n&&r.push(n),console.warn.apply(console,r)}};function Ac(t){return Array.isArray(t)}function Pn(t){return typeof t=="function"}function Nn(t){return typeof t=="string"}function e3(t,e){if(t)return Nn(t)?{type:Z1,name:t,predicate:e?e[t]:void 0}:Pn(t)?{type:Z1,name:t.name,predicate:t}:t}function Y7(t){try{return"subscribe"in t&&Pn(t.subscribe)}catch{return!1}}var Cu=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Um={},Um[Cu]=function(){return this},Um[Symbol.observable]=function(){return this};function Di(t){return!!t&&"__xstatenode"in t}function X7(t){return!!t&&typeof t.send=="function"}var Q7=function(){var t=0;return function(){return t++,t.toString(16)}}();function Wm(t,e){return Nn(t)||typeof t=="number"?Ye({type:t},e):t}function _a(t,e){if(!Nn(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Wm(t);return Ye({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function Nc(t,e){var n=XI(e).map(function(r){return typeof r>"u"||typeof r=="string"||Di(r)?{target:r,event:t}:Ye(Ye({},r),{event:t})});return n}function Z7(t){if(!(t===void 0||t===U7))return ws(t)}function J7(t,e,n){{var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";if(t===e)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(t,"'.").concat(r));else{var a=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(t,"'. ").concat(r," Current error is '").concat(e,"'.").concat(a))}}}function t3(t,e,n,r,a){var o=t.options.guards,i={state:a,cond:e,_event:r};if(e.type===Z1)return((o==null?void 0:o[e.name])||e.predicate)(n,r.data,i);var l=o==null?void 0:o[e.type];if(!l)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return l(n,r.data,i)}function n3(t){return typeof t=="string"?{type:t}:t}function Ff(t,e,n){var r=function(){},a=typeof t=="object",o=a?t:null;return{next:((a?t.next:t)||r).bind(o),error:((a?t.error:e)||r).bind(o),complete:((a?t.complete:n)||r).bind(o)}}function qm(t,e){return"".concat(t,":invocation[").concat(e,"]")}function tS(t){return(t.type===Of||t.type===zm&&t.to===Rc.Internal)&&typeof t.delay!="number"}var Dc=_a({type:P7});function nS(t,e){return e&&e[t]||void 0}function Pf(t,e){var n;if(Nn(t)||typeof t=="number"){var r=nS(t,e);Pn(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(Pn(t))n={type:t.name||t.toString(),exec:t};else{var r=nS(t.type,e);if(Pn(r))n=Ye(Ye({},t),{exec:r});else if(r){var a=r.type||t.type;n=Ye(Ye(Ye({},r),t),{type:a})}else n=t}return n}var Tu=function(t,e){if(!t)return[];var n=Ac(t)?t:[t];return n.map(function(r){return Pf(r,e)})};function rS(t){var e=Pf(t);return Ye(Ye({id:Nn(t)?t:e.id},e),{type:e.type})}function eU(t,e){return{type:Of,event:typeof t=="function"?t:Wm(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function tU(t,e,n,r){var a={_event:n},o=_a(Pn(t.event)?t.event(e,n.data,a):t.event),i;if(Nn(t.delay)){var l=r&&r[t.delay];i=Pn(l)?l(e,n.data,a):l}else i=Pn(t.delay)?t.delay(e,n.data,a):t.delay;return Ye(Ye({},t),{type:Of,_event:o,delay:i})}function Lf(t,e){return{to:e?e.to:void 0,type:zm,event:Pn(t)?t:Wm(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:Pn(t)?t.name:KI(t)}}function nU(t,e,n,r){var a={_event:n},o=_a(Pn(t.event)?t.event(e,n.data,a):t.event),i;if(Nn(t.delay)){var l=r&&r[t.delay];i=Pn(l)?l(e,n.data,a):l}else i=Pn(t.delay)?t.delay(e,n.data,a):t.delay;var d=Pn(t.to)?t.to(e,n.data,a):t.to;return Ye(Ye({},t),{to:d,_event:o,event:o.data,delay:i})}var rU=function(t,e,n){return Ye(Ye({},t),{value:Nn(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},Bf=function(t){return{type:VI,sendId:t}};function aU(t){var e=rS(t);return{type:Zn.Start,activity:e,exec:void 0}}function oU(t){var e=Pn(t)?t:rS(t);return{type:Zn.Stop,activity:e,exec:void 0}}function sU(t,e,n){var r=Pn(t.activity)?t.activity(e,n.data):t.activity,a=typeof r=="string"?{id:r}:r,o={type:Zn.Stop,activity:a};return o}var iU=function(t){return{type:X1,assignment:t}};function uU(t,e){var n=e?"#".concat(e):"";return"".concat(Zn.After,"(").concat(t,")").concat(n)}function Gm(t,e){var n="".concat(Zn.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Km(t,e){var n="".concat(Zn.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function zf(t,e){var n="".concat(Zn.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var lU=function(t){var e,n,r=[];try{for(var a=_n(t),o=a.next();!o.done;o=a.next())for(var i=o.value,l=0;l<i.actions.length;){if(i.actions[l].type===X1){r.push(i.actions[l]),i.actions.splice(l,1);continue}l++}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r};function Ym(t,e,n,r,a,o,i){i===void 0&&(i=!1);var l=i?[]:lU(a),d=l.length?JI(n,r,l,e):n,f=i?[n]:void 0,c=[];function h(b,w){var x;switch(w.type){case Of:{var E=tU(w,d,r,t.options.delays);return o&&typeof E.delay=="number"&&o(E,d,r),E}case zm:var T=nU(w,d,r,t.options.delays);{var C=w.delay;wa(!Nn(C)||typeof T.delay=="number","No delay reference for delay expression '".concat(C,"' was found on machine '").concat(t.id,"'"))}return o&&T.to!==Rc.Internal&&(b==="entry"?c.push(T):o(T,d,r)),T;case jI:{var I=rU(w,d,r);return o==null||o(I,d,r),I}case B7:{var D=w,F=(x=D.conds.find(function(oe){var le=e3(oe.cond,t.options.guards);return!le||t3(t,le,d,r,o?void 0:e)}))===null||x===void 0?void 0:x.actions;if(!F)return[];var B=Fn(Ym(t,e,d,r,[{type:b,actions:Tu(ws(F),t.options.actions)}],o,i),2),H=B[0],z=B[1];return d=z,f==null||f.push(d),H}case z7:{var F=w.get(d,r.data);if(!F)return[];var U=Fn(Ym(t,e,d,r,[{type:b,actions:Tu(ws(F),t.options.actions)}],o,i),2),O=U[0],K=U[1];return d=K,f==null||f.push(d),O}case Y1:{var I=sU(w,d,r);return o==null||o(I,n,r),I}case X1:{d=JI(d,r,[w],o?void 0:e),f==null||f.push(d);break}default:var G=Pf(w,t.options.actions),Z=G.exec;if(o)o(G,d,r);else if(Z&&f){var J=f.length-1,se=Ye(Ye({},G),{exec:function(oe){for(var le=[],pe=1;pe<arguments.length;pe++)le[pe-1]=arguments[pe];Z.apply(void 0,dr([f[J]],Fn(le),!1))}});G=se}return G}}function g(b){var w,x,E=[];try{for(var T=_n(b.actions),C=T.next();!C.done;C=T.next()){var I=C.value,D=h(b.type,I);D&&(E=E.concat(D))}}catch(F){w={error:F}}finally{try{C&&!C.done&&(x=T.return)&&x.call(T)}finally{if(w)throw w.error}}return c.forEach(function(F){o(F,d,r)}),c.length=0,E}var v=_r(a.map(g));return[v,d]}var Xm=[],Oc=function(t,e){Xm.push(t);var n=e(t);return Xm.pop(),n},cU=function(t){return t(Xm[Xm.length-1])};function r3(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Cu]=function(){return this},e}function dU(t,e,n,r){var a,o=n3(t.src),i=(a=e==null?void 0:e.options.services)===null||a===void 0?void 0:a[o.type],l=t.data?Hm(t.data,n,r):void 0,d=i?aS(i,t.id,l):r3(t.id);return d.meta=t,d}function aS(t,e,n){var r=r3(e);if(r.deferred=!0,Di(t)){var a=r.state=Oc(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return a}}return r}function fU(t){try{return typeof t.send=="function"}catch{return!1}}function pU(t){return fU(t)&&"id"in t}function hU(t){var e;return Ye((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Cu]=function(){return this},e),t)}var Qm=function(t){return t.type==="atomic"||t.type==="final"};function a3(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Uf(t){return a3(t).filter(function(e){return e.type!=="history"})}function o3(t){var e=[t];return Qm(t)?e:e.concat(_r(Uf(t).map(o3)))}function Vf(t,e){var n,r,a,o,i,l,d,f,c=new Set(t),h=oS(c),g=new Set(e);try{for(var v=_n(g),b=v.next();!b.done;b=v.next())for(var w=b.value,x=w.parent;x&&!g.has(x);)g.add(x),x=x.parent}catch(z){n={error:z}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}var E=oS(g);try{for(var T=_n(g),C=T.next();!C.done;C=T.next()){var w=C.value;if(w.type==="compound"&&(!E.get(w)||!E.get(w).length))h.get(w)?h.get(w).forEach(function(U){return g.add(U)}):w.initialStateNodes.forEach(function(U){return g.add(U)});else if(w.type==="parallel")try{for(var I=(i=void 0,_n(Uf(w))),D=I.next();!D.done;D=I.next()){var F=D.value;g.has(F)||(g.add(F),h.get(F)?h.get(F).forEach(function(U){return g.add(U)}):F.initialStateNodes.forEach(function(U){return g.add(U)}))}}catch(U){i={error:U}}finally{try{D&&!D.done&&(l=I.return)&&l.call(I)}finally{if(i)throw i.error}}}}catch(z){a={error:z}}finally{try{C&&!C.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}try{for(var B=_n(g),H=B.next();!H.done;H=B.next())for(var w=H.value,x=w.parent;x&&!g.has(x);)g.add(x),x=x.parent}catch(z){d={error:z}}finally{try{H&&!H.done&&(f=B.return)&&f.call(B)}finally{if(d)throw d.error}}return g}function s3(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(Qm(r))return r.key}else return{}}var a={};return n.forEach(function(o){a[o.key]=s3(o,e)}),a}function oS(t){var e,n,r=new Map;try{for(var a=_n(t),o=a.next();!o.done;o=a.next()){var i=o.value;r.has(i)||r.set(i,[]),i.parent&&(r.has(i.parent)||r.set(i.parent,[]),r.get(i.parent).push(i))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}function mU(t,e){var n=Vf([t],e);return s3(t,oS(n))}function jf(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function gU(t){return dr([],Fn(new Set(_r(dr([],Fn(t.map(function(e){return e.ownEvents})),!1)))),!1)}function Zm(t,e){return e.type==="compound"?Uf(e).some(function(n){return n.type==="final"&&jf(t,n)}):e.type==="parallel"?Uf(e).every(function(n){return Zm(t,n)}):!1}function vU(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function i3(t){return new Set(_r(t.map(function(e){return e.tags})))}function u3(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Nn(t)||Nn(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(a){return u3(t[a],e[a])})}function yU(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function bU(t,e){var n=t.exec,r=Ye(Ye({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var _s=function(){function t(e){var n=this,r;this.actions=[],this.activities=GI,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||GI,this.meta=vU(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return gU(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,events:[],configuration:[],transitions:[],children:{}}):e;var r=Dc;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Dc;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Nn(e))return[e];var a=Object.keys(e);return a.concat.apply(a,dr([],Fn(a.map(function(o){return r.toStrings(e[o],n).map(function(i){return o+n+i})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=G1(e,["configuration","transitions","tags","machine"]);return Ye(Ye({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return J1(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n,r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(a){return a.target!==void 0||a.actions.length})},t}(),SU={deferEvents:!1},l3=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Ye(Ye({},SU),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),sS=new Map,wU=0,Hf={bookId:function(){return"x:".concat(wU++)},register:function(t,e){return sS.set(t,e),t},get:function(t){return sS.get(t)},free:function(t){sS.delete(t)}};function iS(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues")}function _U(){var t=iS();if(t&&"__xstate__"in t)return t.__xstate__}function xU(t){if(iS()){var e=_U();e&&e.register(t)}}function EU(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,a=[],o=!1,i=function(){if(!o){for(o=!0;a.length>0;){var f=a.shift();n=t.transition(n,f,d),r.forEach(function(c){return c.next(n)})}o=!1}},l=hU({id:e.id,send:function(f){a.push(f),i()},getSnapshot:function(){return n},subscribe:function(f,c,h){var g=Ff(f,c,h);return r.add(g),g.next(n),{unsubscribe:function(){r.delete(g)}}}}),d={parent:e.parent,self:l,id:e.id||"anonymous",observers:r};return n=t.start?t.start(d):n,l}var uS={sync:!1,autoForward:!1},Fr;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Fr||(Fr={}));var CU=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Fr.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,h){if(Ac(c))return r.batch(c),r.state;var g=_a(Wm(c,h));if(r.status===Fr.Stopped)return wa(!1,'Event "'.concat(g.name,'" was sent to stopped service "').concat(r.machine.id,`". This service has already reached its final state, and will not transition.
Event: `).concat(JSON.stringify(g.data))),r.state;if(r.status!==Fr.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(g.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(g.data)));return r.scheduler.schedule(function(){r.forward(g);var v=r._nextState(g);r.update(v,g)}),r._state},this.sendTo=function(c,h,g){var v=r.parent&&(h===Rc.Parent||r.parent.id===h),b=v?r.parent:Nn(h)?h===Rc.Internal?r:r.children.get(h)||Hf.get(h):X7(h)?h:void 0;if(!b){if(!v)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(r.id,"'."));wa(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(c.type));return}if("machine"in b){if(r.status!==Fr.Stopped||r.parent!==b||r.state.done){var w=Ye(Ye({},c),{name:c.name===L7?"".concat(zf(r.id)):c.name,origin:r.sessionId});!g&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([b,w]):b.send(w)}}else!g&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([b,c.data]):b.send(c.data)},this._exec=function(c,h,g,v){v===void 0&&(v=r.machine.options.actions);var b=c.exec||nS(c.type,v),w=Pn(b)?b:b?b.exec:c.exec;if(w)try{return w(h,g.data,r.machine.config.predictableActionArguments?{action:c,_event:g}:{action:c,state:r.state,_event:g})}catch(Z){throw r.parent&&r.parent.send({type:"xstate.error",data:Z}),Z}switch(c.type){case Of:{var x=c;r.defer(x);break}case zm:var E=c;if(typeof E.delay=="number"){r.defer(E);return}else E.to?r.sendTo(E._event,E.to,g===Dc):r.send(E._event);break;case VI:r.cancel(c.sendId);break;case K1:{if(r.status!==Fr.Running)return;var T=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[T.id||T.type])break;if(T.type===Zn.Invoke){var C=n3(T.src),I=r.machine.options.services?r.machine.options.services[C.type]:void 0,D=T.id,F=T.data;wa(!("forward"in T),"`forward` property is deprecated (found in invocation of '".concat(T.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var B="autoForward"in T?T.autoForward:!!T.forward;if(!I){wa(!1,"No service found for invocation '".concat(T.src,"' in machine '").concat(r.machine.id,"'."));return}var H=F?Hm(F,h,g):void 0;if(typeof I=="string")return;var z=Pn(I)?I(h,g.data,{data:H,src:C,meta:T.meta}):I;if(!z)return;var U=void 0;Di(z)&&(z=H?z.withContext(H):z,U={autoForward:B}),r.spawn(z,D,U)}else r.spawnActivity(T);break}case Y1:{r.stopChild(c.activity.id);break}case jI:var O=c,K=O.label,G=O.value;K?r.logger(K,G):r.logger(G);break;default:wa(!1,"No implementation found for action type '".concat(c.type,"'"));break}};var a=Ye(Ye({},t.defaultOptions),n),o=a.clock,i=a.logger,l=a.parent,d=a.id,f=d!==void 0?d:e.id;this.id=f,this.logger=i,this.clock=o,this.parent=l,this.options=a,this.scheduler=new l3({deferEvents:this.options.deferEvents}),this.sessionId=Hf.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Oc(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return wa(this.status!==Fr.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,a;try{for(var o=_n(e.actions),i=o.next();!i.done;i=o.next()){var l=i.value;this.exec(l,e,n)}}catch(d){r={error:d}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,a,o,i,l,d,f,c,h=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Dc)&&this.options.execute)this.execute(this.state);else for(var g=void 0;g=this._outgoingQueue.shift();)g[0].send(g[1]);if(this.children.forEach(function(z){h.state.children[z.id]=z}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var v=_n(this.eventListeners),b=v.next();!b.done;b=v.next()){var w=b.value;w(e.event)}}catch(z){r={error:z}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(r)throw r.error}}try{for(var x=_n(this.listeners),E=x.next();!E.done;E=x.next()){var w=E.value;w(e,e.event)}}catch(z){o={error:z}}finally{try{E&&!E.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}try{for(var T=_n(this.contextListeners),C=T.next();!C.done;C=T.next()){var I=C.value;I(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(z){l={error:z}}finally{try{C&&!C.done&&(d=T.return)&&d.call(T)}finally{if(l)throw l.error}}if(this.state.done){var D=e.configuration.find(function(z){return z.type==="final"&&z.parent===h.machine}),F=D&&D.doneData?Hm(D.doneData,e.context,n):void 0;this._doneEvent=Km(this.id,F);try{for(var B=_n(this.doneListeners),H=B.next();!H.done;H=B.next()){var w=H.value;w(this._doneEvent)}}catch(z){f={error:z}}finally{try{H&&!H.done&&(c=B.return)&&c.call(B)}finally{if(f)throw f.error}}this._stop(),this._stopChildren(),Hf.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Fr.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var a=this,o=Ff(e,n,r);this.listeners.add(o.next),this.status!==Fr.NotStarted&&o.next(this.state);var i=function(){a.doneListeners.delete(i),a.stopListeners.delete(i),o.complete()};return this.status===Fr.Stopped?o.complete():(this.onDone(i),this.onStop(i)),{unsubscribe:function(){a.listeners.delete(o.next),a.doneListeners.delete(i),a.stopListeners.delete(i)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Fr.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Fr.Running)return this;this.machine._init(),Hf.register(this.sessionId,this),this.initialized=!0,this.status=Fr.Running;var r=e===void 0?this.initialState:Oc(this,function(){return yU(e)?n.machine.resolveState(e):n.machine.resolveState(_s.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Dc)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){Pn(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,a,o,i,l,d,f,c;try{for(var h=_n(this.listeners),g=h.next();!g.done;g=h.next()){var v=g.value;this.listeners.delete(v)}}catch(B){e={error:B}}finally{try{g&&!g.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}try{for(var b=_n(this.stopListeners),w=b.next();!w.done;w=b.next()){var v=w.value;v(),this.stopListeners.delete(v)}}catch(B){r={error:B}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(r)throw r.error}}try{for(var x=_n(this.contextListeners),E=x.next();!E.done;E=x.next()){var v=E.value;this.contextListeners.delete(v)}}catch(B){o={error:B}}finally{try{E&&!E.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}try{for(var T=_n(this.doneListeners),C=T.next();!C.done;C=T.next()){var v=C.value;this.doneListeners.delete(v)}}catch(B){l={error:B}}finally{try{C&&!C.done&&(d=T.return)&&d.call(T)}finally{if(l)throw l.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Fr.Stopped,this._initialState=void 0;try{for(var I=_n(Object.keys(this.delayedEventsMap)),D=I.next();!D.done;D=I.next()){var F=D.value;this.clock.clearTimeout(this.delayedEventsMap[F])}}catch(B){f={error:B}}finally{try{D&&!D.done&&(c=I.return)&&c.call(I)}finally{if(f)throw f.error}}this.scheduler.clear(),this.scheduler=new l3({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var a=_a({type:"xstate.stop"}),o=Oc(e,function(){var i=_r(dr([],Fn(e.state.configuration),!1).sort(function(h,g){return g.order-h.order}).map(function(h){return Tu(h.onExit,e.machine.options.actions)})),l=Fn(Ym(e.machine,e.state,e.state.context,a,[{type:"exit",actions:i}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),d=l[0],f=l[1],c=new _s({value:e.state.value,context:f,_event:a,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:d.filter(function(h){return!tS(h)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c});e.update(o,a),e._stopChildren(),Hf.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(this.status===Fr.NotStarted&&this.options.deferEvents)wa(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,`" and are deferred. Make sure .start() is called for this service.
Event: `).concat(JSON.stringify(event)));else if(this.status!==Fr.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var a,o,i=n.state,l=!1,d=[],f=function(v){var b=_a(v);n.forward(b),i=Oc(n,function(){return n.machine.transition(i,b,void 0,r||void 0)}),d.push.apply(d,dr([],Fn(n.machine.config.predictableActionArguments?i.actions:i.actions.map(function(w){return bU(w,i)})),!1)),l=l||!!i.changed};try{for(var c=_n(e),h=c.next();!h.done;h=c.next()){var g=h.value;f(g)}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}i.changed=l,i.actions=d,n.update(i,_a(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var a=_a(e);if(a.name.indexOf(HI)===0&&!this.state.nextEvents.some(function(i){return i.indexOf(HI)===0}))throw a.data.data;var o=Oc(this,function(){return r.machine.transition(r.state,a,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var a=_n(this.forwardTo),o=a.next();!o.done;o=a.next()){var i=o.value,l=this.children.get(i);if(!l)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(i,"'."));l.send(e)}}catch(d){n={error:d}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),Pn(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Fr.Running)return aS(e,n);if(QI(e))return this.spawnPromise(Promise.resolve(e),n);if(Pn(e))return this.spawnCallback(e,n);if(pU(e))return this.spawnActor(e,n);if(Y7(e))return this.spawnObservable(e,n);if(Di(e))return this.spawnMachine(e,Ye(Ye({},r),{id:n}));if(q7(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var a=new t(e,Ye(Ye({},this.options),{parent:this,id:n.id||e.id})),o=Ye(Ye({},uS),n);o.sync&&a.onTransition(function(l){r.send(WI,{state:l,id:a.id})});var i=a;return this.children.set(a.id,i),o.autoForward&&this.forwardTo.add(a.id),a.onDone(function(l){r.removeChild(a.id),r.send(_a(l,{origin:a.id}))}).start(),i},t.prototype.spawnBehavior=function(e,n){var r=EU(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,a=this,o=!1,i;e.then(function(d){o||(i=d,a.removeChild(n),a.send(_a(Km(n,d),{origin:n})))},function(d){if(!o){a.removeChild(n);var f=zf(n,d);try{a.send(_a(f,{origin:n}))}catch(c){J7(d,c,n),a.devTools&&a.devTools.send(f,a.state),a.machine.strict&&a.stop()}}});var l=(r={id:n,send:function(){},subscribe:function(d,f,c){var h=Ff(d,f,c),g=!1;return e.then(function(v){g||(h.next(v),!g&&h.complete())},function(v){g||h.error(v)}),{unsubscribe:function(){return g=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return i}},r[Cu]=function(){return this},r);return this.children.set(n,l),l},t.prototype.spawnCallback=function(e,n){var r,a=this,o=!1,i=new Set,l=new Set,d,f=function(g){d=g,l.forEach(function(v){return v(g)}),!o&&a.send(_a(g,{origin:n}))},c;try{c=e(f,function(g){i.add(g)})}catch(g){this.send(zf(n,g))}if(QI(c))return this.spawnPromise(c,n);var h=(r={id:n,send:function(g){return i.forEach(function(v){return v(g)})},subscribe:function(g){var v=Ff(g);return l.add(v.next),{unsubscribe:function(){l.delete(v.next)}}},stop:function(){o=!0,Pn(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return d}},r[Cu]=function(){return this},r);return this.children.set(n,h),h},t.prototype.spawnObservable=function(e,n){var r,a=this,o,i=e.subscribe(function(d){o=d,a.send(_a(d,{origin:n}))},function(d){a.removeChild(n),a.send(_a(zf(n,d),{origin:n}))},function(){a.removeChild(n),a.send(_a(Km(n),{origin:n}))}),l=(r={id:n,send:function(){},subscribe:function(d,f,c){return e.subscribe(d,f,c)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[Cu]=function(){return this},r);return this.children.set(n,l),l},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!n){wa(!1,"No implementation found for activity '".concat(e.type,"'"));return}var r=n(this.state.context,e);this.spawnEffect(e.id,r)},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[Cu]=function(){return this},r))},t.prototype.attachDev=function(){var e=iS();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Ye(Ye({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:Ye({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}xU(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Cu]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Fr.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=c3,t}(),TU=function(t){return Nn(t)?Ye(Ye({},uS),{name:t}):Ye(Ye(Ye({},uS),{name:Q7()}),t)};function kU(t,e){var n=TU(e);return cU(function(r){{var a=Di(t)||Pn(t);wa(!!r||a,'Attempted to spawn an Actor (ID: "'.concat(Di(t)?t.id:"undefined",'") outside of a service. This will have no effect.'))}return r?r.spawn(t,n.name,n):aS(t,n.name)})}function c3(t,e){var n=new CU(t,e);return n}function IU(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Jm(t){return Ye(Ye({type:Q1},t),{toJSON:function(){t.onDone,t.onError;var e=G1(t,["onDone","onError"]);return Ye(Ye({},e),{type:Q1,src:IU(t.src)})}})}var Mc="",lS="#",Wf="*",$c={},Fc=function(t){return t[0]===lS},RU=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},AU=function(t,e,n){var r=n.slice(0,-1).some(function(o){return!("cond"in o)&&!("in"in o)&&(Nn(o.target)||Di(o.target))}),a=e===Mc?"the transient event":"event '".concat(e,"'");wa(!r,"One or more transitions for ".concat(a," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},NU=function(){function t(e,n,r,a){r===void 0&&(r="context"in e?e.context:void 0);var o=this,i;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(RU(),n),this.parent=a==null?void 0:a.parent,this.key=this.config.key||(a==null?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:qI),this.id=this.config.id||dr([this.machine.key],Fn(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(i=this.config.schema)!==null&&i!==void 0?i:{},this.description=this.config.description,wa(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?$f(this.config.states,function(f,c){var h,g=new t(f,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,Ye((h={},h[g.id]=g,h),g.idMap)),g}):$c;var l=0;function d(f){var c,h;f.order=l++;try{for(var g=_n(a3(f)),v=g.next();!v.done;v=g.next()){var b=v.value;d(b)}}catch(w){c={error:w}}finally{try{v&&!v.done&&(h=g.return)&&h.call(g)}finally{if(c)throw c.error}}}d(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(f){var c=f.event;return c===Mc}):Mc in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=ws(this.config.entry||this.config.onEntry).map(function(f){return Pf(f)}),this.onExit=ws(this.config.exit||this.config.onExit).map(function(f){return Pf(f)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=ws(this.config.invoke).map(function(f,c){var h,g;if(Di(f)){var v=qm(o.id,c);return o.machine.options.services=Ye((h={},h[v]=f,h),o.machine.options.services),Jm({src:v,id:v})}else if(Nn(f.src)){var v=f.id||qm(o.id,c);return Jm(Ye(Ye({},f),{id:v,src:f.src}))}else if(Di(f.src)||Pn(f.src)){var v=f.id||qm(o.id,c);return o.machine.options.services=Ye((g={},g[v]=f.src,g),o.machine.options.services),Jm(Ye(Ye({id:v},f),{src:v}))}else{var b=f.src;return Jm(Ye(Ye({id:qm(o.id,c)},f),{src:b}))}}),this.activities=ws(this.config.activities).concat(this.invoke).map(function(f){return rS(f)}),this.transition=this.transition.bind(this),this.tags=ws(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||o3(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,a=r.actions,o=r.activities,i=r.guards,l=r.services,d=r.delays;return new t(this.config,{actions:Ye(Ye({},a),e.actions),activities:Ye(Ye({},o),e.activities),guards:Ye(Ye({},i),e.guards),services:Ye(Ye({},l),e.services),delays:Ye(Ye({},d),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return Pn(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:$f(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Mc,r=this.transitions.filter(function(a){var o=a.eventType===e;return n?o:o||a.eventType===Wf});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,i){var l=Pn(o)?"".concat(e.id,":delay[").concat(i,"]"):o,d=uU(l,e.id);return e.onEntry.push(Lf(d,{delay:o})),e.onExit.push(Bf(d)),d},a=Ac(n)?n.map(function(o,i){var l=r(o.delay,i);return Ye(Ye({},o),{event:l})}):_r(Object.keys(n).map(function(o,i){var l=n[o],d=Nn(l)?{target:l}:l,f=isNaN(+o)?o:+o,c=r(f,i);return ws(d).map(function(h){return Ye(Ye({},h),{event:c,delay:f})})}));return a.map(function(o){var i=o.delay;return Ye(Ye({},e.formatTransition(o)),{delay:i})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var a=e instanceof _s?e.value:Mf(e,this.delimiter);if(Nn(a)){var o=this.getStateNode(a).initial;return o!==void 0?this.getStateNodes((n={},n[a]=o,n)):[this,this.states[a]]}var i=Object.keys(a),l=[this];return l.push.apply(l,dr([],Fn(_r(i.map(function(d){return r.getStateNode(d).getStateNodes(a[d])}))),!1)),l},t.prototype.handles=function(e){var n=KI(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof _s?e:_s.create(e),r=Array.from(Vf([],this.getStateNodes(n.value)));return new _s(Ye(Ye({},n),{value:this.resolve(n.value),configuration:r,done:Zm(r,this),tags:i3(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var a=this.getStateNode(e),o=a.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var a=Object.keys(e),o=this.getStateNode(a[0]),i=o._transition(e[a[0]],n,r);return!i||!i.transitions.length?this.next(n,r):i},t.prototype.transitionParallelNode=function(e,n,r){var a,o,i={};try{for(var l=_n(Object.keys(e)),d=l.next();!d.done;d=l.next()){var f=d.value,c=e[f];if(c){var h=this.getStateNode(f),g=h._transition(c,n,r);g&&(i[f]=g)}}}catch(E){a={error:E}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}var v=Object.keys(i).map(function(E){return i[E]}),b=_r(v.map(function(E){return E.transitions})),w=v.some(function(E){return E.transitions.length>0});if(!w)return this.next(n,r);var x=_r(Object.keys(i).map(function(E){return i[E].configuration}));return{transitions:b,exitSet:_r(v.map(function(E){return E.exitSet})),configuration:x,source:n,actions:_r(Object.keys(i).map(function(E){return i[E].actions}))}},t.prototype._transition=function(e,n,r){return Nn(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,_a(n))},t.prototype.next=function(e,n){var r,a,o=this,i=n.name,l=[],d=[],f;try{for(var c=_n(this.getCandidates(i)),h=c.next();!h.done;h=c.next()){var g=h.value,v=g.cond,b=g.in,w=e.context,x=b?Nn(b)&&Fc(b)?e.matches(Mf(this.getStateNodeById(b).path,this.delimiter)):J1(Mf(b,this.delimiter),j7(this.path.slice(0,-2))(e.value)):!0,E=!1;try{E=!v||t3(this.machine,v,w,n,e)}catch(I){throw new Error("Unable to evaluate guard '".concat(v.name||v.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,`':
`).concat(I.message))}if(E&&x){g.target!==void 0&&(d=g.target),l.push.apply(l,dr([],Fn(g.actions),!1)),f=g;break}}}catch(I){r={error:I}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}if(f){if(!d.length)return{transitions:[f],exitSet:[],configuration:e.value?[this]:[],source:e,actions:l};var T=_r(d.map(function(I){return o.getRelativeStateNodes(I,e.historyValue)})),C=!!f.internal;return{transitions:[f],exitSet:C?[]:_r(d.map(function(I){return o.getPotentiallyReenteringNodes(I)})),configuration:T,source:e,actions:l}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,a=e;r&&r!==a;)n.push(r),r=r.parent;return r!==a?[]:(n.push(a),n)},t.prototype.getActions=function(e,n,r,a,o,i,l){var d,f,c,h,g=this,v=i?Vf([],this.getStateNodes(i.value)):[],b=new Set;try{for(var w=_n(Array.from(e).sort(function(O,K){return O.order-K.order})),x=w.next();!x.done;x=w.next()){var E=x.value;(!jf(v,E)||jf(r.exitSet,E)||E.parent&&b.has(E.parent))&&b.add(E)}}catch(O){d={error:O}}finally{try{x&&!x.done&&(f=w.return)&&f.call(w)}finally{if(d)throw d.error}}try{for(var T=_n(v),C=T.next();!C.done;C=T.next()){var E=C.value;(!jf(e,E)||jf(r.exitSet,E.parent))&&r.exitSet.push(E)}}catch(O){c={error:O}}finally{try{C&&!C.done&&(h=T.return)&&h.call(T)}finally{if(c)throw c.error}}r.exitSet.sort(function(O,K){return K.order-O.order});var I=Array.from(b).sort(function(O,K){return O.order-K.order}),D=new Set(r.exitSet),F=_r(I.map(function(O){var K=[];if(O.type!=="final")return K;var G=O.parent;if(!G.parent)return K;K.push(Gm(O.id,O.doneData),Gm(G.id,O.doneData?Hm(O.doneData,a,o):void 0));var Z=G.parent;return Z.type==="parallel"&&Uf(Z).every(function(J){return Zm(r.configuration,J)})&&K.push(Gm(Z.id)),K})),B=I.map(function(O){var K=O.onEntry,G=O.activities.map(function(Z){return aU(Z)});return{type:"entry",actions:Tu(l?dr(dr([],Fn(K),!1),Fn(G),!1):dr(dr([],Fn(G),!1),Fn(K),!1),g.machine.options.actions)}}).concat({type:"state_done",actions:F.map(function(O){return eU(O)})}),H=Array.from(D).map(function(O){return{type:"exit",actions:Tu(dr(dr([],Fn(O.onExit),!1),Fn(O.activities.map(function(K){return oU(K)})),!1),g.machine.options.actions)}}),z=H.concat({type:"transition",actions:Tu(r.actions,this.machine.options.actions)}).concat(B);if(n){var U=Tu(_r(dr([],Fn(e),!1).sort(function(O,K){return K.order-O.order}).map(function(O){return O.onExit})),this.machine.options.actions).filter(function(O){return!tS(O)});return z.concat({type:"stop",actions:U})}return z},t.prototype.transition=function(e,n,r,a){e===void 0&&(e=this.initialState);var o=_a(n),i;if(e instanceof _s)i=r===void 0?e:this.resolveState(_s.from(e,r));else{var l=Nn(e)?this.resolve(Vm(this.getResolvedPath(e))):this.resolve(e),d=r??this.machine.context;i=this.resolveState(_s.from(l,d))}if(o.name===Wf)throw new Error("An event cannot have the wildcard type ('".concat(Wf,"')"));if(this.strict&&!this.events.includes(o.name)&&!W7(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var f=this._transition(i.value,i,o)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},c=Vf([],this.getStateNodes(i.value)),h=f.configuration.length?Vf(c,f.configuration):c;return f.configuration=dr([],Fn(h),!1),this.resolveTransition(f,i,i.context,a,o)},t.prototype.resolveRaisedTransition=function(e,n,r,a){var o,i=e.actions;return e=this.transition(e,n,void 0,a),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,dr([],Fn(i),!1)),e},t.prototype.resolveTransition=function(e,n,r,a,o){var i,l,d,f,c=this;o===void 0&&(o=Dc);var h=e.configuration,g=!n||e.transitions.length>0,v=g?e.configuration:n?n.configuration:[],b=Zm(v,this),w=g?mU(this.machine,h):void 0,x=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,E=this.getActions(new Set(v),b,e,r,o,n,a),T=n?Ye({},n.activities):{};try{for(var C=_n(E),I=C.next();!I.done;I=C.next()){var D=I.value;try{for(var F=(d=void 0,_n(D.actions)),B=F.next();!B.done;B=F.next()){var H=B.value;H.type===K1?T[H.activity.id||H.activity.type]=H:H.type===Y1&&(T[H.activity.id||H.activity.type]=!1)}}catch(Ie){d={error:Ie}}finally{try{B&&!B.done&&(f=F.return)&&f.call(F)}finally{if(d)throw d.error}}}}catch(Ie){i={error:Ie}}finally{try{I&&!I.done&&(l=C.return)&&l.call(C)}finally{if(i)throw i.error}}var z=Fn(Ym(this,n,r,o,E,a,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),U=z[0],O=z[1],K=Fn(G7(U,tS),2),G=K[0],Z=K[1],J=U.filter(function(Ie){var De;return Ie.type===K1&&((De=Ie.activity)===null||De===void 0?void 0:De.type)===Q1}),se=J.reduce(function(Ie,De){return Ie[De.activity.id]=dU(De.activity,c.machine,O,o),Ie},n?Ye({},n.children):{}),oe=new _s({value:w||n.value,context:O,_event:o,_sessionid:n?n._sessionid:null,historyValue:w?x?K7(x,w):void 0:n?n.historyValue:void 0,history:!w||e.source?n:void 0,actions:w?Z:[],activities:w?T:n?n.activities:{},events:[],configuration:v,transitions:e.transitions,children:se,done:b,tags:i3(v),machine:this}),le=r!==O;oe.changed=o.name===WI||le;var pe=oe.history;pe&&delete pe.history;var ye=!b&&(this._transient||h.some(function(Ie){return Ie._transient}));if(!g&&(!ye||o.name===Mc))return oe;var ve=oe;if(!b)for(ye&&(ve=this.resolveRaisedTransition(ve,{type:F7},o,a));G.length;){var Ee=G.shift();ve=this.resolveRaisedTransition(ve,Ee._event,o,a)}var _e=ve.changed||(pe?!!ve.actions.length||le||typeof pe.value!=typeof ve.value||!u3(ve.value,pe.value):void 0);return ve.changed=_e,ve.history=pe,ve},t.prototype.getStateNode=function(e){if(Fc(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=Fc(e)?e.slice(lS.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Fc(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=eS(e,this.delimiter).slice(),r=this;n.length;){var a=n.shift();if(!a.length)break;r=r.getStateNode(a)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||$c;switch(this.type){case"parallel":return $f(this.initialStateValue,function(o,i){return o?r.getStateNode(i).resolve(e[i]||o):$c});case"compound":if(Nn(e)){var a=this.getStateNode(e);return a.type==="parallel"||a.type==="compound"?(n={},n[e]=a.initialStateValue,n):e}return Object.keys(e).length?$f(e,function(o,i){return o?r.getStateNode(i).resolve(o):$c}):this.initialStateValue||{};default:return e||$c}},t.prototype.getResolvedPath=function(e){if(Fc(e)){var n=this.machine.idMap[e.slice(lS.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return eS(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=YI(this.states,function(r){return r.initialStateValue||$c},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=Qm(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Nn(n.target)?e=Fc(n.target)?Vm(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(Qm(this))return[this];if(this.type==="compound"&&!this.initial)return wa(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var n=jm(this.initialStateValue);return _r(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=Fn(e),r=n[0],a=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(a)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:YI(this.states,function(n,r){if(!e)return n.historyValue();var a=Nn(e)?void 0:e[r];return n.historyValue(a||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var a=this.target;return a?_r(jm(a).map(function(i){return r.getFromRelativePath(i)})):r.initialStateNodes}var o=H7(r.path,"states")(e).current;return Nn(o)?[r.getStateNode(o)]:_r(jm(o).map(function(i){return n.history==="deep"?r.getFromRelativePath(i):[r.states[i[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=_r(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,a;if(this.__cache.events)return this.__cache.events;var o=this.states,i=new Set(this.ownEvents);if(o)try{for(var l=_n(Object.keys(o)),d=l.next();!d.done;d=l.next()){var f=d.value,c=o[f];if(c.states)try{for(var h=(r=void 0,_n(c.events)),g=h.next();!g.done;g=h.next()){var v=g.value;i.add("".concat(v))}}catch(b){r={error:b}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}}catch(b){e={error:b}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Nn(r))return r;var a=r[0]===n.delimiter;if(a&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=a?n.key+r:r;if(n.parent)try{var i=n.parent.getStateNodeByPath(o);return i}catch(l){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(l.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=Z7(e.target),a="internal"in e?e.internal:r?r.some(function(d){return Nn(d)&&d[0]===n.delimiter}):!0,o=this.machine.options.guards,i=this.resolveTarget(r),l=Ye(Ye({},e),{actions:Tu(ws(e.actions)),cond:e3(e.cond,o),target:i,source:this,internal:a,eventType:e.event,toJSON:function(){return Ye(Ye({},l),{target:l.target?l.target.map(function(d){return"#".concat(d.id)}):void 0,source:"#".concat(n.id)})}});return l},t.prototype.formatTransitions=function(){var e,n,r=this,a;if(!this.config.on)a=[];else if(Array.isArray(this.config.on))a=this.config.on;else{var o=this.config.on,i=Wf,l=o[i],d=l===void 0?[]:l,f=G1(o,[typeof i=="symbol"?i:i+""]);a=_r(Object.keys(f).map(function(T){T===Mc&&wa(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var C=Nc(T,f[T]);return AU(r,T,C),C}).concat(Nc(Wf,d)))}var c=this.config.always?Nc("",this.config.always):[],h=this.config.onDone?Nc(String(Gm(this.id)),this.config.onDone):[];wa(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var g=_r(this.invoke.map(function(T){var C=[];return T.onDone&&C.push.apply(C,dr([],Fn(Nc(String(Km(T.id)),T.onDone)),!1)),T.onError&&C.push.apply(C,dr([],Fn(Nc(String(zf(T.id)),T.onError)),!1)),C})),v=this.after,b=_r(dr(dr(dr(dr([],Fn(h),!1),Fn(g),!1),Fn(a),!1),Fn(c),!1).map(function(T){return ws(T).map(function(C){return r.formatTransition(C)})}));try{for(var w=_n(v),x=w.next();!x.done;x=w.next()){var E=x.value;b.push(E)}}catch(T){e={error:T}}finally{try{x&&!x.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}return b},t}(),d3=!1;function DU(t,e){return!("predictableActionArguments"in t)&&!d3&&(d3=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new NU(t,e)}var Jn=iU,f3=ce.useLayoutEffect;function cS(t){var e=ce.useRef();return e.current||(e.current={v:t()}),e.current.v}var eg=function(){return eg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},eg.apply(this,arguments)},OU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},p3=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o};function MU(t,e){var n=cS(function(){return typeof t=="function"?t():t});if(typeof t!="function"){var r=p3(ce.useState(n),1),a=r[0];t!==a&&console.warn("Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\nPlease make sure that you pass the same Machine as argument each time.")}var o=e.context,i=e.guards,l=e.actions,d=e.activities,f=e.services,c=e.delays;e.state;var h=OU(e,["context","guards","actions","activities","services","delays","state"]),g=cS(function(){var v={context:o,guards:i,actions:l,activities:d,services:f,delays:c},b=n.withConfig(v,function(){return eg(eg({},n.context),o)});return c3(b,h)});return f3(function(){Object.assign(g.machine.options.actions,l),Object.assign(g.machine.options.guards,i),Object.assign(g.machine.options.activities,d),Object.assign(g.machine.options.services,f),Object.assign(g.machine.options.delays,c)},[l,i,d,f,c]),g}function $U(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=p3(e,2),a=r[0],o=a===void 0?{}:a,i=r[1],l=MU(t,o);return ce.useEffect(function(){if(i){var d=l.subscribe(Ff(i));return function(){d.unsubscribe()}}},[i]),ce.useEffect(function(){var d=o.state;return l.start(d?_s.create(d):void 0),function(){l.stop(),l.status=Fr.NotStarted}},[]),l}function h3(t){return t.status!==0?t.getSnapshot():t.machine.initialState}function dS(t){return"state"in t&&"machine"in t}function FU(t,e,n){if(t.status===Fr.NotStarted)return!0;var r=n.changed===void 0&&(Object.keys(n.children).length>0||typeof e.changed=="boolean");return!(n.changed||r)}function PU(t){return t}function m3(t){return"state"in t}function LU(t){return"deferred"in t}function BU(t){return"getSnapshot"in t?dS(t)?h3(t):t.getSnapshot():m3(t)?t.state:void 0}function zU(t,e){e===void 0&&(e=BU);var n=ce.useRef(t),r=ce.useRef([]),a=ce.useCallback(function(f){var c=t.subscribe(f).unsubscribe;return c},[t]),o=ce.useCallback(function(){return e(t)},[t,e]),i=ce.useCallback(function(f,c){return dS(t)?FU(t,f,c):f===c},[t]),l=UI.useSyncExternalStoreWithSelector(a,o,o,PU,i),d=cS(function(){return function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var h=f[0];f.length>1&&console.warn("Unexpected payload: ".concat(JSON.stringify(f[1]),". Only a single event object can be sent to actor send() functions."));var g=n.current;LU(g)&&g.deferred?r.current.push(h):g.send(h)}});return f3(function(){for(n.current=t;r.current.length>0;){var f=r.current.shift();t.send(f)}},[t]),[l,d]}var UU=function(t,e){return t===e},VU=function(t,e){if(dS(t)){if(t.status===0&&e.current)return e.current;var n=h3(t);return e.current=t.status===0?n:null,n}return m3(t)?t.state:void 0};function jU(t,e,n,r){n===void 0&&(n=UU);var a=ce.useRef(null),o=ce.useCallback(function(d){var f=t.subscribe(d).unsubscribe;return f},[t]),i=ce.useCallback(function(){return VU(t,a)},[t,r]),l=UI.useSyncExternalStoreWithSelector(o,i,i,e,n);return l}const HU=t=>{const e={default:void 0,...t};return e.default??e};function qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Pc(t){return typeof t=="string"||typeof t=="object"&&Object.prototype.toString.call(t)==="[object String]"}function Gf(t,e){return t!=null&&Object.prototype.hasOwnProperty.call(t,e)}function WU(t){return typeof t=="function"}const xs=(t,e)=>e?`${t}--${e}`:"",El=(t,e,n)=>n?`${t}--${e}`:"";var fS,g3;function qU(){if(g3)return fS;g3=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,o=Array(a);++r<a;)o[r]=n(e[r],r,e);return o}return fS=t,fS}var pS,v3;function GU(){if(v3)return pS;v3=1;var t=R7(),e=N7(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return pS=r,pS}var hS,y3;function KU(){if(y3)return hS;y3=1;var t=P1(),e=qU(),n=A7(),r=GU(),a=t?t.prototype:void 0,o=a?a.toString:void 0;function i(l){if(typeof l=="string")return l;if(n(l))return e(l,i)+"";if(r(l))return o?o.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return hS=i,hS}var mS,b3;function S3(){if(b3)return mS;b3=1;var t=KU();function e(n){return n==null?"":t(n)}return mS=e,mS}function YU(t){return t.toLowerCase()}var XU=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],QU=/[^A-Z0-9]+/gi;function Lc(t,e){e===void 0&&(e={});for(var n=e.splitRegexp,r=n===void 0?XU:n,a=e.stripRegexp,o=a===void 0?QU:a,i=e.transform,l=i===void 0?YU:i,d=e.delimiter,f=d===void 0?" ":d,c=w3(w3(t,r,"$1\0$2"),o,"\0"),h=0,g=c.length;c.charAt(h)==="\0";)h++;for(;c.charAt(g-1)==="\0";)g--;return c.slice(h,g).split("\0").map(l).join(f)}function w3(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,a){return r.replace(a,n)},t)}function gS(t,e){var n=t.charAt(0),r=t.substr(1).toLowerCase();return e>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function _3(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function x3(t,e){return e===void 0&&(e={}),Lc(t,Jo({delimiter:"",transform:gS},e))}function E3(t,e){return e===0?t.toLowerCase():gS(t,e)}function ZU(t,e){return e===0?t.toLowerCase():_3(t)}function JU(t,e){return e===void 0&&(e={}),x3(t,Jo({transform:E3},e))}function C3(t){return t.charAt(0).toUpperCase()+t.substr(1)}function T3(t){return C3(t.toLowerCase())}function k3(t,e){return e===void 0&&(e={}),Lc(t,Jo({delimiter:" ",transform:T3},e))}function e9(t){return t.toUpperCase()}function t9(t,e){return e===void 0&&(e={}),Lc(t,Jo({delimiter:"_",transform:e9},e))}function tg(t,e){return e===void 0&&(e={}),Lc(t,Jo({delimiter:"."},e))}function n9(t,e){return e===void 0&&(e={}),k3(t,Jo({delimiter:"-"},e))}function r9(t,e){return e===void 0&&(e={}),tg(t,Jo({delimiter:"-"},e))}function a9(t,e){return e===void 0&&(e={}),tg(t,Jo({delimiter:"/"},e))}function I3(t,e){var n=t.toLowerCase();return e===0?C3(n):n}function o9(t,e){return e===void 0&&(e={}),Lc(t,Jo({delimiter:" ",transform:I3},e))}function s9(t,e){return e===void 0&&(e={}),tg(t,Jo({delimiter:"_"},e))}const i9=Ri(Object.freeze(Object.defineProperty({__proto__:null,camelCase:JU,camelCaseTransform:E3,camelCaseTransformMerge:ZU,capitalCase:k3,capitalCaseTransform:T3,constantCase:t9,dotCase:tg,headerCase:n9,noCase:Lc,paramCase:r9,pascalCase:x3,pascalCaseTransform:gS,pascalCaseTransformMerge:_3,pathCase:a9,sentenceCase:o9,sentenceCaseTransform:I3,snakeCase:s9},Symbol.toStringTag,{value:"Module"})));var vS,R3;function A3(){if(R3)return vS;R3=1;const t=i9,e=function(C,I,D){return Object.keys(C||{}).reduce((F,B)=>{let H=C[B];return I(F,H,B,C)},D)},n=function(C,I){Object.keys(C||{}).forEach(D=>{let F=C[D];I(F,D)})},r=function(C){return Object.assign(new C.constructor,C)},a=function(C){if(C==null||typeof C!="object")return C;if(C instanceof Array)return C.reduce((I,D,F)=>(I[F]=a(D),I),[]);if(C instanceof Object)return Object.keys(C||{}).reduce((I,D)=>(I[D]=a(C[D]),I),{})},o=function(C){const I=typeof C;return C!=null&&(I==="object"||I==="function")},i=function(C){return typeof C=="string"||C instanceof String},l=function(C){return Array.isArray(C)},d=function(C){return[Object,Array].includes((C||{}).constructor)&&!Object.entries(C||{}).length};function f(C){if(typeof C!="object"||C===null||Object.prototype.toString.call(C)!=="[object Object]")return!1;if(Object.getPrototypeOf(C)===null)return!0;let I=C;for(;Object.getPrototypeOf(I)!==null;)I=Object.getPrototypeOf(I);return Object.getPrototypeOf(C)===I}const c=function(C,I){if(typeof I!="function")throw"filter is not a function";return typeof C>"u"?[]:C.filter(I)},h=function(){let C=Array.prototype.slice.call(arguments);return C.unshift({}),Object.assign(...C)},g=function(C,...I){var D=new Set(I);for(let F=C.length-1;F>=0;F--)D.has(C[F])&&C.splice(F,1)},v=function(C){return[...new Set(C)]},b=function(C){return C?C[0].toUpperCase()+C.substr(1):""},w=function(C,I){return o(I)?Object.keys(I).every(D=>w(C[D],I[D])):C==I},x=function(C){let I=a(C);return F=>w(F,I)},E={transform:t.camelCaseTransformMerge};return vS={each:n,forEach:n,forIn:n,keys:Object.keys,clone:r,cloneDeep:a,extend:Object.assign,isString:i,isArray:l,isObject:o,isPlainObject:f,isEmpty:d,filter:c,reduce:e,assign:h,upperFirst:b,camelCase:function(C,I){return(D,F)=>C(D,Object.assign({},E,I,F))}(t.camelCase),snakeCase:t.snakeCase,kebabCase:t.paramCase,pull:g,matches:x,unique:v},vS}var yS,N3;function u9(){if(N3)return yS;N3=1;var t=A3();function e(n,r,a){if(n==null)return{};var o,i,l,d,f,c,h=n[0]||{},g=1,v=n.length;for(a=a||[],typeof h!="object"&&(h={});g<v;g++)if((f=n[g])!=null){for(d in f)if(f.hasOwnProperty(d)&&d!=="__proto__"&&(o=h[d],l=f[d],h!==l))if(l&&(t.isPlainObject(l)||(i=t.isArray(l)))){i?(i=!1,c=o&&t.isArray(o)?o:[]):c=o&&t.isPlainObject(o)?o:{};var b=a.slice(0);b.push(d),h[d]=e([c,l],r,b)}else l!==void 0&&(o!=null&&typeof r=="function"&&r({target:h,copy:f,path:a,key:d}),h[d]=l)}return h}return yS=e,yS}var l9=u9();const c9=Eu(l9);var bS,D3;function d9(){if(D3)return bS;D3=1;var t=A3();function e(n,r){r=r||[];for(var a in n)n.hasOwnProperty(a)&&(t.isPlainObject(n[a])&&"value"in n[a]?r.push(n[a]):t.isPlainObject(n[a])&&e(n[a],r));return r}return bS=e,bS}var f9=d9();const O3=Eu(f9),p9={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},h9={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},m9={accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.black}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},g9={default:{variable:{value:`'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,
        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',
        sans-serif`},static:{value:`'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',
        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif`}}},Oi={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},v9={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},y9={small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},b9={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},S9={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},w9={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},_9={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},x9={small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},Mi={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},E9={components:m9,borderWidths:p9,colors:h9,fonts:g9,fontSizes:Oi,fontWeights:v9,lineHeights:y9,opacities:b9,outlineOffsets:S9,outlineWidths:w9,radii:_9,shadows:x9,space:Mi,time:{short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}};Oi.xxs,Oi.xs,Oi.small,Oi.medium,Oi.large,Oi.xl,Oi.xxl,Oi.xxxl,Mi.xxxs,Mi.xs,Mi.small,Mi.medium,Mi.large,Mi.xl,Mi.xxl,Mi.xxxl;const M3={tokens:E9,breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"};var SS,$3;function C9(){if($3)return SS;$3=1;function t(e,n,r,a){var o=-1,i=e==null?0:e.length;for(a&&i&&(r=e[++o]);++o<i;)r=n(r,e[o],o,e);return r}return SS=t,SS}var wS,F3;function T9(){if(F3)return wS;F3=1;function t(e){return function(n){return e==null?void 0:e[n]}}return wS=t,wS}var _S,P3;function k9(){if(P3)return _S;P3=1;var t=T9(),e={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=t(e);return _S=n,_S}var xS,L3;function I9(){if(L3)return xS;L3=1;var t=k9(),e=S3(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",i=r+a+o,l="["+i+"]",d=RegExp(l,"g");function f(c){return c=e(c),c&&c.replace(n,t).replace(d,"")}return xS=f,xS}var ES,B3;function R9(){if(B3)return ES;B3=1;var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(n){return n.match(t)||[]}return ES=e,ES}var CS,z3;function A9(){if(z3)return CS;z3=1;var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(n){return t.test(n)}return CS=e,CS}var TS,U3;function N9(){if(U3)return TS;U3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,o="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",v=l+d+f+c,b="[']",w="["+v+"]",x="["+a+"]",E="\\d+",T="["+o+"]",C="["+i+"]",I="[^"+t+v+E+o+i+h+"]",D="\\ud83c[\\udffb-\\udfff]",F="(?:"+x+"|"+D+")",B="[^"+t+"]",H="(?:\\ud83c[\\udde6-\\uddff]){2}",z="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+h+"]",O="\\u200d",K="(?:"+C+"|"+I+")",G="(?:"+U+"|"+I+")",Z="(?:"+b+"(?:d|ll|m|re|s|t|ve))?",J="(?:"+b+"(?:D|LL|M|RE|S|T|VE))?",se=F+"?",oe="["+g+"]?",le="(?:"+O+"(?:"+[B,H,z].join("|")+")"+oe+se+")*",pe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ve=oe+se+le,Ee="(?:"+[T,H,z].join("|")+")"+ve,_e=RegExp([U+"?"+C+"+"+Z+"(?="+[w,U,"$"].join("|")+")",G+"+"+J+"(?="+[w,U+K,"$"].join("|")+")",U+"?"+K+"+"+Z,U+"+"+J,ye,pe,E,Ee].join("|"),"g");function Ie(De){return De.match(_e)||[]}return TS=Ie,TS}var kS,V3;function D9(){if(V3)return kS;V3=1;var t=R9(),e=A9(),n=S3(),r=N9();function a(o,i,l){return o=n(o),i=l?void 0:i,i===void 0?e(o)?r(o):t(o):o.match(i)||[]}return kS=a,kS}var IS,j3;function O9(){if(j3)return IS;j3=1;var t=C9(),e=I9(),n=D9(),r="[']",a=RegExp(r,"g");function o(i){return function(l){return t(n(e(l).replace(a,"")),i,"")}}return IS=o,IS}var RS,H3;function M9(){if(H3)return RS;H3=1;var t=O9(),e=t(function(n,r,a){return n+(a?"-":"")+r.toLowerCase()});return RS=e,RS}var $9=M9();const F9=Eu($9);var AS,W3;function P9(){return W3||(W3=1,AS={opening_character:"{",closing_character:"}",separator:"."}),AS}var NS,q3;function L9(){if(q3)return NS;q3=1;const t=P9();function e(n={}){const r=Object.assign({},t,n);return new RegExp("\\"+r.opening_character+"([^"+r.closing_character+"]+)\\"+r.closing_character,"g")}return NS=e,NS}var DS,G3;function B9(){if(G3)return DS;G3=1;const t=L9();function e(n,r={}){const a=r instanceof RegExp?r:t(r);if(typeof n=="string")return a.test(n);if(typeof n=="object"){let o=!1;for(const i in n)if(n.hasOwnProperty(i)){const l=n[i];if(e(l,r)){o=!0;break}}return o}return!1}return DS=e,DS}var z9=B9();const U9=Eu(z9),V9="amplify",j9=["offsetX","offsetY","blurRadius","spreadRadius","color"];function K3(t){if(!t)return"";if(U9(t)){const e=t.replace(/\{|\}/g,"").replace(".value","").split(".");return`var(--${OS({path:e})})`}return t}function H9(t){const{value:e}=t;return Pc(e)?K3(e):Y3(e)?j9.map(n=>K3(Y3(t)?t[n]:e[n])).join(" "):e}function OS({path:t=[]}){return`${F9([V9,...t].join(" "))}`}function MS(t){return qf(t)&&Gf(t,"value")}function Y3(t){return qf(t)&&Gf(t,"offsetX")}function $S({tokens:t,path:e=[],setupToken:n}){if(Gf(t,"value"))return n({token:t,path:e});const r={};for(const a in t)if(Gf(t,a)){const o=t[a],i=qf(o)?o:{value:o};r[a]=$S({tokens:i,path:e.concat(a),setupToken:n})}return r}const X3=({token:t,path:e})=>{const n=`--${OS({path:e})}`,{value:r}=t,a=H9(t);return{name:n,original:r,path:e,value:a,toString:()=>`var(${n})`}};function Q3({keys:t,value:e}){return t.reduce((n,r)=>({...n,[r]:{value:`{colors.${e}.${r}.value}`}}),{})}function FS(t,e=M3){const n=c9([{},e,t]),{primaryColor:r,secondaryColor:a}=n;Pc(r)&&(n.tokens.colors.primary=Q3({keys:Object.keys(n.tokens.colors[r]),value:r})),Pc(a)&&(n.tokens.colors.secondary=Q3({keys:Object.keys(n.tokens.colors[a]),value:a}));const o=$S({tokens:n.tokens,setupToken:X3}),{breakpoints:i,name:l}=n;let d=`[data-amplify-theme="${l}"] {
`+O3(o).map(c=>`${c.name}: ${c.value};`).join(`
`)+`
}
`,f=[];return n.overrides&&(f=n.overrides.map(c=>{const h=$S({tokens:c.tokens,setupToken:X3}),g=O3(h).map(v=>`${v.name}: ${v.value};`).join(`
`);if("selector"in c&&(d+=`
${c.selector} {
${g}
}
`),"mediaQuery"in c&&(d+=`
@media (${c.mediaQuery}) {
  [data-amplify-theme="${l}"] {
    ${g}
  }
}
`),"breakpoint"in c){const v=n.breakpoints.values[c.breakpoint];d+=`
@media (min-width: ${v}px) {
  [data-amplify-theme="${l}"] {
    ${g}
  }
}
`}return"colorMode"in c&&(d+=`
@media (prefers-color-scheme: ${c.colorMode}) {
          [data-amplify-theme="${l}"][data-amplify-color-mode="system"] {
            ${g}
            color-scheme: ${c.colorMode};
          }
        }
`,d+=`
[data-amplify-theme="${l}"][data-amplify-color-mode="${c.colorMode}"] {
          ${g}
          color-scheme: ${c.colorMode};
        }
`),{...c,tokens:h}})),{tokens:o,breakpoints:i,name:l,cssText:d,overrides:f}}const Ct={Alert:"amplify-alert",AlertIcon:"amplify-alert__icon",AlertHeading:"amplify-alert__heading",AlertBody:"amplify-alert__body",AlertDismiss:"amplify-alert__dismiss",Button:"amplify-button",ButtonLoaderWrapper:"amplify-button__loader-wrapper",Field:"amplify-field",FieldDescription:"amplify-field__description",FieldErrorMessage:"amplify-field__error-message",FieldGroupControl:"amplify-field-group__control",Flex:"amplify-flex",Icon:"amplify-icon",Image:"amplify-image",Label:"amplify-label",Loader:"amplify-loader",LoaderLabel:"amplify-loader__label",Select:"amplify-select",SelectField:"amplify-selectfield",SelectWrapper:"amplify-select__wrapper",SelectIcon:"amplify-select__icon",Text:"amplify-text",VisuallyHidden:"amplify-visually-hidden"},fr=(...t)=>{const e=[];for(const n of t)if(n){if(Pc(n)){e.push(n);continue}if(typeof n=="number"){e.push(n.toString());continue}if(Array.isArray(n)){e.push(fr(...n));continue}if(qf(n)){if(n.toString!==Object.prototype.toString&&n.toString()!=="[object Object]"){e.push(n.toString());continue}for(const r in n)Gf(n,r)&&n[r]&&e.push(r)}}return e.join(" ")},W9=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),PS=ce.createContext({theme:FS(),colorMode:void 0}),LS={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},q9={Alert:{dismissButtonLabel:"Dismiss alert"}},BS={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},G9=t=>t in BS,Z3=t=>typeof t=="string"&&t.length===0,J3=t=>t==null||Z3(t),ng=t=>Object.keys(t),zS=(t,e,n)=>{if(typeof e!="string")return e;if(e.includes(" "))return e.split(" ").map(r=>zS(t,r,n)).join(" ");if(G9(t)){const r=e.split("."),a=BS[t];let o=n[a];for(let i=0;i<r.length;i++){if(o){o=o[r[i]];continue}break}return MS(o)?`var(--${OS({path:[BS[t],...r]})})`:e}return e},K9=({breakpoint:t,breakpoints:e,values:n})=>{const r=n[t];if(r!==void 0)return r;const a=ng(e).sort((i,l)=>e[l]-e[i]),o=a.slice(a.indexOf(t));for(const i of o){const l=n[i];if(l!==void 0)return l}return null},Y9=t=>ng(t).reduce((e,n)=>n in M3.breakpoints.values?{...e,[n]:t[n]}:e,{}),X9=({breakpoint:t,breakpoints:e,values:n})=>{let r={};const a=ng(e).sort((o,i)=>e[o]-e[i]);return Array.isArray(n)?n.forEach((o,i)=>{r[a[i]]=o}):typeof n=="object"&&(r=Y9(n)),K9({breakpoint:t,breakpoints:e,values:r})},Q9=({breakpoints:t})=>{const e=ng(t).sort((n,r)=>t[r]-t[n]);return e.map((n,r)=>{let a="";const o=t[n],i=e[r-1],l=i?t[i]-1:null;return o>=0&&(a=`(min-width: ${o}px)`),l!==null&&(a&&(a+=" and "),a+=`(max-width: ${l}px)`),{breakpoint:n,query:a,maxWidth:l,minWidth:o}})},Z9=typeof window>"u"?ce.useEffect:ce.useLayoutEffect,eR=({breakpoints:t,defaultBreakpoint:e})=>{const r=typeof window<"u"&&typeof window.matchMedia<"u"?window.matchMedia:null,a=ce.useMemo(()=>Q9({breakpoints:t}),[t]),[o,i]=ce.useState(e),l=ce.useCallback((d,f)=>{d&&i(f)},[i]);return Z9(()=>{if(!r)return;const d=a.map(({query:f,breakpoint:c})=>{const h=r(f);l(h.matches,c);const g=v=>{v.matches&&i(c)};return h.addEventListener("change",g),()=>h.removeEventListener("change",g)});return()=>{d.forEach(f=>f())}},[t,i,r,a]),ce.useDebugValue(o,d=>d),o},J9=t=>typeof t>"u"||typeof t.theme>"u"?FS():t.theme,rg=()=>{const t=ce.useContext(PS);return J9(t)},eV=()=>ce.useContext(PS).colorMode,tV=({value:t,propKey:e,tokens:n})=>MS(t)?t.toString():Pc(t)?Pc(e)?zS(e,t,n):t:null,nV=t=>t==="auto"||typeof t=="number"&&!isNaN(t)||typeof t=="string"&&!isNaN(parseFloat(t)),US=t=>t==="auto"?"auto":`span ${t}`,tR=t=>nV(t)?US(t):Array.isArray(t)?t.map(e=>US(e)):typeof t=="object"&&t!=null?Object.entries(t).reduce((e,[n,r])=>({...e,[n]:US(r)}),{}):null,rV=t=>{const{rowSpan:e,columnSpan:n,row:r,column:a,...o}=t,{rowFromSpanValue:i,columnFromSpanValue:l}=ce.useMemo(()=>({rowFromSpanValue:tR(e),columnFromSpanValue:tR(n)}),[e,n]);return{row:J3(r)?i:r,column:J3(a)?l:a,...o}},aV=t=>t in LS,oV=({props:t={},style:e={},breakpoint:n,breakpoints:r,tokens:a})=>{const o={};return Object.keys(t).filter(i=>t[i]!==null).forEach(i=>{if(aV(i)){const l=t[i];if(!l||Z3(l))return;const d=LS[i];let f="";MS(l)?f=l.toString():typeof l=="string"?f=zS(i,l,a):typeof l=="number"?f=l:typeof l=="object"&&(f=tV({propKey:i,tokens:a,value:X9({values:l,breakpoint:n,breakpoints:r})})),e={...e,[d]:f}}else typeof t[i]<"u"&&(o[i]=t[i])}),{propStyles:e,nonStyleProps:o}},sV=(t,e)=>{const{breakpoints:{values:n,defaultBreakpoint:r},tokens:a}=rg(),o=eR({breakpoints:n,defaultBreakpoint:r}),i=rV(t);return ce.useMemo(()=>oV({props:i,style:e,breakpoint:o,breakpoints:n,tokens:a}),[i,e,n,o,a])},es=t=>ce.forwardRef(t),pn=es(({as:t="div",children:e,testId:n,ariaLabel:r,isDisabled:a,style:o,inert:i,...l},d)=>{const{propStyles:f,nonStyleProps:c}=sV(l,o);return ce.createElement(t,{"aria-label":r,"data-testid":n,disabled:a,ref:d,inert:i?"":null,style:f,...c},e)});pn.displayName="View";const Kf={minX:0,minY:0,width:24,height:24},nR=es(({className:t,as:e="svg",fill:n="currentColor",pathData:r,viewBox:a=Kf,children:o,paths:i,...l},d)=>{const f=a.minX?a.minX:Kf.minX,c=a.minY?a.minY:Kf.minY,h=a.width?a.width:Kf.width,g=a.height?a.height:Kf.height;let v;return o&&(v=o),i&&(v=i.map((b,w)=>ce.createElement("path",{...b,key:w}))),r&&(v=ce.createElement("path",{d:r,fill:n})),ce.createElement(pn,{as:e,className:fr(Ct.Icon,t),ref:d,viewBox:`${f} ${c} ${h} ${g}`,...l},v)});nR.displayName="Icon";const iV=ce.createContext({});function VS(t){const e=ce.useContext(iV);if(t&&e)return e[t]}const uV=t=>{const{className:e,...n}=t;return ce.createElement(pn,{as:"span",width:"1em",height:"1em",className:fr(Ct.Icon,e),...n},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},lV=t=>{const{className:e,...n}=t;return ce.createElement(pn,{as:"span",width:"1em",height:"1em",className:fr(Ct.Icon,e),...n},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},cV=t=>{const{className:e,...n}=t;return ce.createElement(pn,{as:"span",width:"1em",height:"1em",className:fr(Ct.Icon,e),...n},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},dV=t=>{const{className:e,...n}=t;return ce.createElement(pn,{as:"span",width:"1em",height:"1em",className:fr(Ct.Icon,e),...n},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},ag=({variation:t,ariaHidden:e,ariaLabel:n,role:r})=>{const a=VS("alert");let o;switch(t){case"info":o=(a==null?void 0:a.info)??ce.createElement(cV,{"aria-hidden":e,"aria-label":n,role:r});break;case"error":o=(a==null?void 0:a.error)??ce.createElement(lV,{"aria-hidden":e,"aria-label":n,role:r});break;case"warning":o=(a==null?void 0:a.warning)??ce.createElement(dV,{"aria-hidden":e,"aria-label":n,role:r});break;case"success":o=(a==null?void 0:a.success)??ce.createElement(uV,{"aria-hidden":e,"aria-label":n,role:r});break}return o?ce.createElement("span",{className:Ct.AlertIcon},o):null};ag.displayName="AlertIcon";const fV=ce.createContext({isFieldsetDisabled:!1}),rR=()=>ce.useContext(fV),Vn=es(({className:t,children:e,...n},r)=>ce.createElement(pn,{className:fr(Ct.Flex,t),ref:r,...n},e));Vn.displayName="Flex";const pV="linear-empty",hV="linear-filled",mV="circular-empty",gV="circular-filled",aR=8,jS=42,og=2*jS*Math.PI,Bc=es(({className:t,filledColor:e,emptyColor:n,size:r,variation:a,isDeterminate:o=!1,isPercentageTextHidden:i=!1,percentage:l=0,...d},f)=>{l=Math.min(l,100),l=Math.max(l,0);const c=`${l}%`,h=fr(Ct.Loader,xs(Ct.Loader,r),xs(Ct.Loader,a),El(Ct.Loader,"determinate",o),t),g=ce.createElement("g",null,ce.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(n)},"data-testid":pV}),ce.createElement("line",{x1:"0",x2:o?c:"100%",y1:"50%",y2:"50%",style:{stroke:o&&l===0?"none":e?String(e):void 0},"data-testid":hV}),o?ce.createElement("text",{"aria-live":"polite",className:fr(Ct.LoaderLabel,i?Ct.VisuallyHidden:null),x:`${-1+l}%`,y:"200%"},c):null),v=ce.createElement("g",null,ce.createElement("circle",{cx:"50%",cy:"50%",r:`${jS}%`,strokeWidth:`${aR}%`,style:{stroke:String(n)},"data-testid":mV}),ce.createElement("circle",{cx:"50%",cy:"50%",r:`${jS}%`,strokeWidth:`${aR}%`,style:{stroke:String(e),strokeDasharray:o?`${og}% ${og}%`:void 0,strokeDashoffset:o?`${og-og*l/100}%`:void 0},"data-testid":gV}),o?ce.createElement("text",{"aria-live":"polite",className:fr(Ct.LoaderLabel,i?Ct.VisuallyHidden:null),x:"130%",y:"80%"},c):null);return ce.createElement(pn,{as:"svg",className:h,ref:f,role:"img",...d},a==="linear"?g:v)});Bc.displayName="Loader";const vV=["link","primary",void 0],ni=es(({className:t,children:e,colorTheme:n,isFullWidth:r=!1,isDisabled:a,isLoading:o,loadingText:i="",size:l,type:d="button",variation:f,...c},h)=>{const g=vV.includes(f)&&n?`${f??"outlined"}--${n}`:void 0,{isFieldsetDisabled:v}=rR(),b=v||(a??o??c.disabled),w=fr(Ct.Button,Ct.FieldGroupControl,xs(Ct.Button,f),xs(Ct.Button,g),xs(Ct.Button,l),El(Ct.Button,"disabled",b),El(Ct.Button,"loading",o),El(Ct.Button,"fullwidth",r),t);return ce.createElement(pn,{ref:h,as:"button",className:w,isDisabled:b,type:d,...c},o?ce.createElement(Vn,{as:"span",className:Ct.ButtonLoaderWrapper},ce.createElement(Bc,{size:l}),i||null):e)});ni.displayName="Button";const oR=t=>{const{className:e,size:n,...r}=t;return ce.createElement(pn,{as:"span",width:n??"1em",height:n??"1em",className:fr(Ct.Icon,e),...r},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},ce.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},Es=es(({as:t="p",className:e,children:n,isTruncated:r,variation:a,...o},i)=>{const l=fr(Ct.Text,xs(Ct.Text,a),El(Ct.Text,"truncated",r),e);return ce.createElement(pn,{as:t,className:l,ref:i,...o},n)});Es.displayName="Text";const yV="qa-field-description",sR=({descriptiveText:t,labelHidden:e,...n})=>t?ce.createElement(Es,{"data-testid":yV,className:fr(Ct.FieldDescription,{[Ct.VisuallyHidden]:e}),...n},t):null;sR.displayName="FieldDescription";const iR=({errorMessage:t,hasError:e,...n})=>e&&t?ce.createElement(Es,{className:Ct.FieldErrorMessage,...n},t):null;iR.displayName="FieldErrorMessage";const HS=es(({children:t,className:e,visuallyHidden:n,...r},a)=>ce.createElement(pn,{as:"label",className:fr(Ct.Label,e,{[Ct.VisuallyHidden]:n}),ref:a,...r},t));HS.displayName="Label";const WS=es(({buttonRef:t,children:e,className:n,dismissButtonLabel:r=q9.Alert.dismissButtonLabel,hasIcon:a=!0,heading:o,isDismissible:i=!1,onDismiss:l,variation:d,...f},c)=>{const[h,g]=ce.useState(!1),v=VS("alert"),b=ce.useCallback(()=>{g(!h),WU(l)&&l()},[g,l,h]);return h?null:ce.createElement(Vn,{className:fr(Ct.Alert,n,xs(Ct.Alert,d)),ref:c,role:"alert",...f},a&&ce.createElement(ag,{variation:d,ariaHidden:!0}),ce.createElement(pn,{flex:"1"},o&&ce.createElement(pn,{className:Ct.AlertHeading},o),ce.createElement(pn,{className:Ct.AlertBody},e)),i&&ce.createElement(ni,{ariaLabel:r,variation:"link",className:Ct.AlertDismiss,onClick:b,ref:t},(v==null?void 0:v.close)??ce.createElement(oR,{"aria-hidden":"true"})))});WS.displayName="Alert";const bV=globalThis!=null&&globalThis.document?ce.useLayoutEffect:()=>{},SV="amplify-id",wV=H8.useId||(()=>{});let _V=0;const uR=t=>{const[e,n]=ce.useState(wV());return bV(()=>{t||n(r=>r??String(_V++))},[t]),t??(e?`${SV}-${e}`:"")},xV=t=>t in LS,EV=t=>{const e={styleProps:{},rest:{}};return Object.keys(t).forEach(n=>{xV(n)?e.styleProps={...e.styleProps,[n]:t[n]}:e.rest={...e.rest,[n]:t[n]}}),e},sg=es(({as:t="span",children:e,className:n,...r},a)=>ce.createElement(pn,{as:t,className:fr(Ct.VisuallyHidden,n),ref:a,...r},e));sg.displayName="VisuallyHidden";const CV=t=>{const{className:e,...n}=t;return ce.createElement(pn,{as:"span",width:"1em",height:"1em",className:fr(Ct.Icon,e),...n},ce.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},lR=es(({className:t,...e},n)=>ce.createElement(pn,{as:"img",ref:n,className:fr(Ct.Image,t),...e}));lR.displayName="Image";const cR=ce.createContext(void 0),dR=t=>{const{dir:e,children:n}=t;return ce.createElement(cR.Provider,{value:e},n)};function TV(t){const e=ce.useContext(cR);return t||e||"ltr"}const kV=Object.freeze(Object.defineProperty({__proto__:null,DirectionProvider:dR,Provider:dR,useDirection:TV},Symbol.toStringTag,{value:"Module"})),fR=es(({autoComplete:t,className:e,size:n,variation:r,value:a,defaultValue:o,hasError:i,icon:l,iconColor:d,children:f,placeholder:c,isDisabled:h,isRequired:g,isMultiple:v=!1,selectSize:b=1,...w},x)=>{const E="",T=a===void 0&&o===void 0&&c,C=v||b>1,I=fr(Ct.Select,Ct.FieldGroupControl,xs(Ct.Select,n),xs(Ct.Select,r),El(Ct.Select,"error",i),El(Ct.Select,"expanded",C),e),D=VS("select"),{isFieldsetDisabled:F}=rR();return ce.createElement(pn,{className:Ct.SelectWrapper},ce.createElement(pn,{"aria-invalid":i,as:"select",autoComplete:t,value:a,defaultValue:T?E:o,isDisabled:F||h,multiple:v,size:b,required:g,className:I,ref:x,...w},c&&ce.createElement("option",{value:""},c),f),C?null:ce.createElement(Vn,{className:fr(Ct.SelectIcon,xs(Ct.SelectIcon,n)),color:d},l??(D==null?void 0:D.expand)??ce.createElement(CV,null)))});fR.displayName="Select";const IV=({children:t,options:e})=>t?(e!=null&&e.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):e==null?void 0:e.map((n,r)=>ce.createElement("option",{label:n,value:n,key:`${n}-${r}`},n)),pR=es((t,e)=>{const{children:n,className:r,descriptiveText:a,errorMessage:o,hasError:i=!1,id:l,label:d,labelHidden:f=!1,options:c,size:h,testId:g,inputStyles:v,...b}=t,w=uR(l),x=uR(),E=a?x:void 0,{styleProps:T,rest:C}=EV(b);return ce.createElement(Vn,{className:fr(Ct.Field,xs(Ct.Field,h),Ct.SelectField,r),testId:g,...T},ce.createElement(HS,{htmlFor:w,visuallyHidden:f},d),ce.createElement(sR,{id:x,labelHidden:f,descriptiveText:a}),ce.createElement(fR,{"aria-describedby":E,hasError:i,id:w,ref:e,size:h,...C,...v},IV({children:n,options:c})),ce.createElement(iR,{hasError:i,errorMessage:o}))});pR.displayName="SelectField";const{DirectionProvider:RV}=HU(kV);function AV({children:t,colorMode:e,direction:n="ltr",nonce:r,theme:a}){const o=ce.useMemo(()=>({theme:FS(a),colorMode:e}),[a,e]),{theme:{name:i,cssText:l}}=o;return ce.createElement(PS.Provider,{value:o},ce.createElement(RV,{dir:n},ce.createElement("div",{"data-amplify-theme":i,"data-amplify-color-mode":e,dir:n},t),typeof a>"u"||/<\/style/i.test(l)?null:ce.createElement("style",{id:`amplify-theme-${i}`,dangerouslySetInnerHTML:{__html:l},nonce:r})))}var $i;(function(t){t.DARK="dark",t.BRIGHT="bright",t.NORMAL="normal"})($i||($i={}));var hn;(function(t){t.MATCHED="MATCHED",t.TOO_FAR="TOO FAR",t.TOO_CLOSE="TOO CLOSE",t.CANT_IDENTIFY="CANNOT IDENTIFY",t.FACE_IDENTIFIED="ONE FACE IDENTIFIED",t.TOO_MANY="TOO MANY FACES",t.OFF_CENTER="OFF CENTER"})(hn||(hn={}));const pr={TIMEOUT:"TIMEOUT",RUNTIME_ERROR:"RUNTIME_ERROR",SERVER_ERROR:"SERVER_ERROR",CAMERA_FRAMERATE_ERROR:"CAMERA_FRAMERATE_ERROR",CAMERA_ACCESS_ERROR:"CAMERA_ACCESS_ERROR",FACE_DISTANCE_ERROR:"FACE_DISTANCE_ERROR",MOBILE_LANDSCAPE_ERROR:"MOBILE_LANDSCAPE_ERROR",MULTIPLE_FACES_ERROR:"MULTIPLE_FACES_ERROR"},NV=.32,DV=.4,OV=.37,zc={SUCCESS_CODE:1e3,DEFAULT_ERROR_CODE:4e3,FACE_FIT_TIMEOUT:4001,USER_CANCEL:4003,RUNTIME_ERROR:4005,USER_ERROR_DURING_CONNECTION:4007};function hR(t,e,n){return t*(n-e)+e}function mR(t){const e=t.flippedCenterX-t.width/2,n=t.flippedCenterX+t.width/2,r=t.centerY-t.height/2,a=t.centerY+t.height/2;return{ovalBoundingBox:{left:e,top:r,right:n,bottom:a},minOvalX:e,maxOvalX:n,minOvalY:r,maxOvalY:a}}function gR(t,e){const n=Math.max(t.left,e.left),r=Math.max(t.top,e.top),a=Math.min(t.right,e.right),o=Math.min(t.bottom,e.bottom),i=Math.abs(Math.max(0,a-n)*Math.max(0,o-r));if(i===0)return 0;const l=Math.abs((t.right-t.left)*(t.bottom-t.top)),d=Math.abs((e.right-e.left)*(e.bottom-e.top));return i/(l+d-i)}function MV({sessionInformation:t,videoWidth:e}){var r,a;const n=(a=(r=t==null?void 0:t.Challenge)==null?void 0:r.FaceMovementAndLightChallenge)==null?void 0:a.OvalParameters;if(!n||!n.CenterX||!n.CenterY||!n.Width||!n.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:e-n.CenterX,centerX:n.CenterX,centerY:n.CenterY,width:n.Width,height:n.Height}}function qS({width:t,height:e,widthSeed:n=1,centerXSeed:r=.5,centerYSeed:a=.5,ratioMultiplier:o=.8}){const i=e;let l=t;const d=n*o,f=Math.floor(7*t/16),c=Math.floor(9*t/16),h=Math.floor(7*e/16),g=Math.floor(9*e/16),v=hR(r,f,c),b=hR(a,h,g);t>=e&&(l=3/4*i);const w=d*l,x=1.618*w;return{flippedCenterX:Math.floor(l-v),centerX:Math.floor(v),centerY:Math.floor(b),width:Math.floor(w),height:Math.floor(x)}}function GS(t,e,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:o,height:i}=e.getBoundingClientRect();t.width=Math.ceil(o),t.height=Math.ceil(i);const l=qS({width:r,height:a,ratioMultiplier:.5});l.flippedCenterX=r-l.centerX;const d=o/e.videoWidth;vR({canvas:t,oval:l,scaleFactor:d,videoEl:e,isStartScreen:!0})}function vR({canvas:t,oval:e,scaleFactor:n,videoEl:r,isStartScreen:a}){const{flippedCenterX:o,centerY:i,width:l,height:d}=e,{width:f,height:c}=t.getBoundingClientRect(),h=t.getContext("2d");if(h){h.restore(),h.clearRect(0,0,f,c),h.fillStyle=a?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",h.fillRect(0,0,f,c);const g={width:r.videoWidth,height:r.videoHeight},v={x:(f-g.width*n)/2,y:(c-g.height*n)/2};h.setTransform(n,0,0,n,v.x,v.y),h.beginPath(),h.ellipse(o,i,l/2,d/2,0,0,2*Math.PI),h.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),h.lineWidth=3,h.stroke(),h.save(),h.clip(),h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,f,c)}else throw new Error("Cannot find Canvas.")}function $V({canvas:t}){const e=t.getContext("2d");if(e)e.restore(),e.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);else throw new Error("Cannot find Canvas.")}function FV(t,e,n,r){var Z,J;let a;const o=(J=(Z=r==null?void 0:r.Challenge)==null?void 0:Z.FaceMovementAndLightChallenge)==null?void 0:J.ChallengeConfig;if(!o||!o.OvalIouThreshold||!o.OvalIouHeightThreshold||!o.OvalIouWidthThreshold||!o.FaceIouHeightThreshold||!o.FaceIouWidthThreshold)throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:i,OvalIouHeightThreshold:l,OvalIouWidthThreshold:d,FaceIouHeightThreshold:f,FaceIouWidthThreshold:c}=o,h=KS(t,e),g=h.left,v=h.right,b=h.top,w=h.bottom,{ovalBoundingBox:x,minOvalX:E,minOvalY:T,maxOvalX:C,maxOvalY:I}=mR(e),D=gR(h,x),F=i,B=e.width*d,H=e.height*l,z=e.width*c,U=e.height*f,O=Math.max(Math.min(1,.75*(D-n)/(F-n)+.25),0)*100,K=E>g&&C>v,G=g>E&&v>C;return D>F&&Math.abs(E-g)<B&&Math.abs(C-v)<B&&Math.abs(I-w)<H?a=hn.MATCHED:K||G?a=hn.OFF_CENTER:T-b>U||w-I>U||E-g>z&&v-C>z?a=hn.TOO_CLOSE:a=hn.TOO_FAR,{faceMatchState:a,faceMatchPercentage:O}}function yR(t){const{leftEye:e,rightEye:n,mouth:r}=t,a=[];a[0]=(e[0]+n[0])/2,a[1]=(e[1]+n[1])/2;const o=Math.sqrt((e[0]-n[0])**2+(e[1]-n[1])**2),i=Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2);return{pupilDistance:o,faceHeight:i}}function KS(t,e){const{leftEye:n,rightEye:r,nose:a,leftEar:o,rightEar:i,top:l,height:d}=t,{height:f,centerY:c}=e,h=c-f/2,g=[];g[0]=(n[0]+r[0])/2,g[1]=(n[1]+r[1])/2;const{pupilDistance:v,faceHeight:b}=yR(t),E=(2*v+1.8*b)/2,T=1.618*E;let C;g[1]<=(h+f)/2?C=(g[0]+a[0])/2:C=g[0];const I=l+d,D=I-T,F=Math.min(C-E/2,i[0]),B=Math.max(C+E/2,o[0]);return{left:F,top:D,right:B,bottom:I}}function bR(t){const e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;const n=e.getContext("2d");if(n){n.drawImage(t,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height).data,a=8,o=new Array(a).fill(0);for(let d=0;d<r.length;d++){const f=Math.round(r[d++]*.2126+r[d++]*.7152+r[d++]*.0722);o[f%32]++}let i=-1,l=0;for(let d=0;d<a;d++)o[d]>l&&(l=o[d],i=d);return e.remove(),i===0?$i.DARK:i===a?$i.BRIGHT:$i.NORMAL}else throw new Error("Cannot find Video Element.")}function PV(t){return t.label.toLowerCase().includes("virtual")}const LV=.9,BV=.75;function YS({ctx:t,prevColor:e,nextColor:n,fraction:r}){const a=t.canvas.width,o=t.canvas.height;t.fillStyle=n,t.fillRect(0,0,a,o*r),r!==1&&(t.fillStyle=e,t.fillRect(0,o*r,a,o*(1-r)))}function zV({overlayCanvas:t,prevColor:e,nextColor:n,videoEl:r,ovalDetails:a,heightFraction:o,scaleFactor:i}){const{x:l,y:d}=r.getBoundingClientRect(),{flippedCenterX:f,centerY:c,width:h,height:g}=a,v=f*i+l,b=c*i+d,w=t.width,x=t.height,E=t.getContext("2d");if(E)E.canvas.width=window.innerWidth,E.canvas.height=window.innerHeight,E.clearRect(0,0,w,x),YS({ctx:E,prevColor:e,nextColor:n,fraction:o}),E.save(),E.beginPath(),E.rect(0,0,w,x),E.clip(),E.clearRect(0,0,w,x),E.globalAlpha=LV,YS({ctx:E,prevColor:e,nextColor:n,fraction:o}),E.beginPath(),E.ellipse(v,b,h*i/2,g*i/2,0,0,2*Math.PI),E.strokeStyle="white",E.lineWidth=8,E.stroke(),E.clip(),E.clearRect(0,0,w,x),E.globalAlpha=BV,YS({ctx:E,prevColor:e,nextColor:n,fraction:o}),E.restore();else throw new Error("Cannot find Overlay Canvas.")}const UV=t=>!!t;function VV(t){return(t.Challenge.FaceMovementAndLightChallenge.ColorSequences||[]).map(({FreshnessColor:r,DownscrollDuration:a,FlatDisplayDuration:o})=>{const i=r.RGB,l=`rgb(${i[0]},${i[1]},${i[2]})`;return typeof l<"u"&&typeof a<"u"&&typeof o<"u"?{color:l,downscrollDuration:a,flatDisplayDuration:o}:void 0}).filter(UV)}function SR(t){return t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map(e=>parseInt(e))}async function jV(t,e){const n=await t.detectFaces(e);let r;switch(n.length){case 0:{r=hn.CANT_IDENTIFY;break}case 1:{r=hn.FACE_IDENTIFIED;break}default:{r=hn.TOO_MANY;break}}return r}async function wR({faceDetector:t,videoEl:e,ovalDetails:n,reduceThreshold:r=!1,isMobile:a=!1}){const o=await t.detectFaces(e);let i,l=!1,d;switch(o.length){case 0:{d=pr.FACE_DISTANCE_ERROR;break}case 1:{i=o[0];const f=n.width,{pupilDistance:c,faceHeight:h}=yR(i),g=2,b=(g*c+1.8*h)/2/g;f&&(l=b/f<(r?a?OV:DV:NV),l||(d=pr.FACE_DISTANCE_ERROR));break}default:{d=pr.MULTIPLE_FACES_ERROR;break}}return{isDistanceBelowThreshold:l,error:d}}function XS({deviceHeight:t,deviceWidth:e,height:n,width:r,top:a,left:o}){return{Height:n/t,Width:r/e,Top:a/t,Left:o/e}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HV=1e-7,WV=1e-4;class _R{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class QS{refCount(e){return bo("refCount")}incRef(e){return bo("incRef")}timerAvailable(){return!0}time(e){return bo("time")}read(e){return bo("read")}readSync(e){return bo("readSync")}readToGPU(e,n){return bo("readToGPU")}numDataIds(){return bo("numDataIds")}disposeData(e,n){return bo("disposeData")}write(e,n,r){return bo("write")}move(e,n,r,a,o){return bo("move")}createTensorFromGPUData(e,n,r){return bo("createTensorFromGPUData")}memory(){return bo("memory")}floatPrecision(){return bo("floatPrecision")}epsilon(){return this.floatPrecision()===32?HV:WV}dispose(){return bo("dispose")}}function bo(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZS(t,e,n){return Math.max(t,Math.min(e,n))}function Yf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function W(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function So(t,e,n=""){W(ts(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Uc(t){W(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Ce(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function qV(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function ts(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Xf(t){return t%1===0}function ig(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function xR(t,e){let n=1,r=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const a=t.slice();return a[r]=e/n,a}function gr(t,e){const n=e.length;return t=t==null?e.map((r,a)=>a):[].concat(t),W(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),W(t.every(r=>Xf(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function GV(t,e){const n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:gr(e,t).sort();let i=0;for(let l=0;l<t.length;++l){if(o!=null){if(o[i]===l&&t[l]!==1)throw new Error(`Can't squeeze axis ${l} since its dim '${t[l]}' is not 1`);(o[i]==null||o[i]>l)&&t[l]===1&&(n.push(t[l]),r.push(l)),o[i]<=l&&i++}t[l]!==1&&(n.push(t[l]),r.push(l))}return{newShape:n,keptDims:r}}function Fa(t,e){return Pr(t,e)}function Pr(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function KV(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function YV(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function XV(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Qf(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function QV(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function ug(t){return typeof t=="string"||t instanceof String}function ZV(t){return typeof t=="boolean"}function JV(t){return typeof t=="number"}function Zf(t){return Array.isArray(t)?Zf(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":JV(t)?"float32":ug(t)?"string":ZV(t)?"bool":"float32"}function JS(t){return!!(t&&t.constructor&&t.call&&t.apply)}function yt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function ER(t,e,n,r=!1){const a=new Array;if(e.length===1){const o=e[0]*(r?2:1);for(let i=0;i<o;i++)a[i]=n[t+i]}else{const o=e[0],i=e.slice(1),l=i.reduce((d,f)=>d*f)*(r?2:1);for(let d=0;d<o;d++)a[d]=ER(t+d*l,i,n,r)}return a}function ns(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((a,o)=>a*o)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return ER(0,t,e,n)}function ej(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function ew(t,e){const n=xa(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function xa(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function CR(t,e){const n=t.reduce((r,a)=>r*a,1);if(e==null||e==="float32")return ns(t,new Float32Array(n));if(e==="int32")return ns(t,new Int32Array(n));if(e==="bool")return ns(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Oo(t){t.forEach(e=>{W(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function ri(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function Vc(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}function Cl(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TR="tfjsflags";class tj{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=nj,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Zt().getBool("IS_TEST")||Zt().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const a=this.urlFlags[e];Zt().getBool("IS_TEST")||Zt().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Cl(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);TR in e&&e[TR].split(",").forEach(r=>{const[a,o]=r.split(":");this.urlFlags[a]=aj(a,o)})}}function nj(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(rj(e,r[0],r[1]),r.join("="))),e}function rj(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function aj(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Zt(){return kR}let kR=null;function oj(t){kR=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tw;function IR(){if(tw==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");tw=t}return tw}function sj(){const t=IR();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function nw(t,e){const n=sj();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const rw="Abs",lg="Acos",cg="Acosh",Jf="Add",dg="AddN",fg="All",pg="Any",aw="ArgMax",ow="ArgMin",hg="Asin",mg="Asinh",gg="Atan",vg="Atanh",yg="Atan2",bg="AvgPool",RR="AvgPoolGrad",sw="AvgPool3D",AR="AvgPool3DGrad",Sg="BatchMatMul",iw="BatchToSpaceND",wg="Bincount",_g="BitwiseAnd",uw="BroadcastArgs",xg="Cast",Eg="Ceil",ep="ClipByValue",NR="Complex",DR="ComplexAbs",lw="Concat",Cg="Conv2D",OR="Conv2DBackpropFilter",Tg="Conv2DBackpropInput",kg="Conv3D",cw="Conv3DBackpropFilterV2",Ig="Conv3DBackpropInputV2",Rg="Cos",Ag="Cosh",Ng="Cumprod",Dg="Cumsum",Og="CropAndResize",dw="DenseBincount",Mg="DepthToSpace",$g="DepthwiseConv2dNative",MR="DepthwiseConv2dNativeBackpropFilter",$R="DepthwiseConv2dNativeBackpropInput",fw="Diag",Fg="Dilation2D",Pg="Dilation2DBackpropInput",Lg="Dilation2DBackpropFilter",ij="Draw",Bg="RealDiv",FR="Einsum",zg="Elu",pw="EluGrad",Ug="Erf",Vg="Equal",jg="Exp",hw="ExpandDims",Hg="Expm1",PR="FFT",mw="Fill",Wg="FlipLeftRight",qg="Floor",Gg="FloorDiv",Kg="FusedBatchNorm",gw="GatherV2",Yg="GatherNd",Xg="Greater",Qg="GreaterEqual",Zg="Identity",LR="IFFT",BR="Imag",Jg="IsFinite",ev="IsInf",tv="IsNan",nv="LeakyRelu",rv="Less",av="LessEqual",ov="LinSpace",sv="Log",iv="Log1p",uv="LogicalAnd",lv="LogicalNot",cv="LogicalOr",uj="LogicalXor",dv="LRN",vw="LRNGrad",fv="Max",pv="Maximum",hv="MaxPool",zR="MaxPoolGrad",yw="MaxPool3D",UR="MaxPool3DGrad",bw="MaxPoolWithArgmax",mv="Mean",gv="Min",vv="Minimum",yv="MirrorPad",bv="Mod",Sv="Multinomial",wv="Multiply",Sw="Neg",_v="NotEqual",xv="NonMaxSuppressionV3",Ev="NonMaxSuppressionV4",Cv="NonMaxSuppressionV5",ww="OnesLike",Tv="OneHot",_w="Pack",kv="PadV2",Iv="Pow",Rv="Prelu",Av="Prod",VR="RaggedGather",jR="RaggedRange",HR="RaggedTensorToTensor",xw="Range",WR="Real",Nv="Reciprocal",Dv="Relu",Ew="Reshape",Ov="ResizeNearestNeighbor",Cw="ResizeNearestNeighborGrad",Mv="ResizeBilinear",Tw="ResizeBilinearGrad",$v="Relu6",Fv="Reverse",Pv="Round",Lv="Rsqrt",Bv="ScatterNd",zv="TensorScatterUpdate",Uv="SearchSorted",kw="Select",Vv="Selu",Iw="Slice",jv="Sin",Hv="Sinh",Wv="Sign",qv="Sigmoid",Gv="Softplus",Kv="Sqrt",Yv="Sum",Rw="SpaceToBatchND",Aw="SplitV",Xv="Softmax",Nw="SparseFillEmptyRows",Qv="SparseReshape",Dw="SparseSegmentMean",Ow="SparseSegmentSum",Zv="SparseToDense",Jv="SquaredDifference",qR="Square",Mw="StaticRegexReplace",ey="StridedSlice",$w="StringNGrams",Fw="StringSplit",Pw="StringToHashBucketFast",ty="Sub",ny="Tan",ry="Tanh",tp="Tile",ay="TopK",oy="Transform",jc="Transpose",Lw="Unique",Bw="Unpack",GR="UnsortedSegmentSum",zw="ZerosLike",np="Step",KR="FromPixels",sy="RotateWithOffset",rp="_FusedMatMul",ap="FusedConv2D",op="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tl(...t){Zt().getBool("IS_TEST")||Zt().getBool("PROD")||console.warn(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iy=nw("kernelRegistry",()=>new Map),lj=nw("gradRegistry",()=>new Map);function Uw(t,e){const n=ZR(t,e);return iy.get(n)}function YR(t){return lj.get(t)}function XR(t){const e=iy.entries(),n=[];for(;;){const{done:r,value:a}=e.next();if(r)break;const[o,i]=a,[l]=o.split("_");l===t&&n.push(i)}return n}function QR(t){const{kernelName:e,backendName:n}=t,r=ZR(e,n);iy.has(r)&&Tl(`The kernel '${e}' for backend '${n}' is already registered`),iy.set(r,t)}function ZR(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JR(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var Vw,eA;function cj(){if(eA)return Vw;eA=1,Vw=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(U,O,K){this.low=U|0,this.high=O|0,this.unsigned=!!K}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(U){return(U&&U.__isLong__)===!0}e.isLong=n;var r={},a={};function o(U,O){var K,G,Z;return O?(U>>>=0,(Z=0<=U&&U<256)&&(G=a[U],G)?G:(K=l(U,(U|0)<0?-1:0,!0),Z&&(a[U]=K),K)):(U|=0,(Z=-128<=U&&U<128)&&(G=r[U],G)?G:(K=l(U,U<0?-1:0,!1),Z&&(r[U]=K),K))}e.fromInt=o;function i(U,O){if(isNaN(U))return O?T:E;if(O){if(U<0)return T;if(U>=b)return B}else{if(U<=-w)return H;if(U+1>=w)return F}return U<0?i(-U,O).neg():l(U%v|0,U/v|0,O)}e.fromNumber=i;function l(U,O,K){return new e(U,O,K)}e.fromBits=l;var d=Math.pow;function f(U,O,K){if(U.length===0)throw Error("empty string");if(U==="NaN"||U==="Infinity"||U==="+Infinity"||U==="-Infinity")return E;if(typeof O=="number"?(K=O,O=!1):O=!!O,K=K||10,K<2||36<K)throw RangeError("radix");var G;if((G=U.indexOf("-"))>0)throw Error("interior hyphen");if(G===0)return f(U.substring(1),O,K).neg();for(var Z=i(d(K,8)),J=E,se=0;se<U.length;se+=8){var oe=Math.min(8,U.length-se),le=parseInt(U.substring(se,se+oe),K);if(oe<8){var pe=i(d(K,oe));J=J.mul(pe).add(i(le))}else J=J.mul(Z),J=J.add(i(le))}return J.unsigned=O,J}e.fromString=f;function c(U,O){return typeof U=="number"?i(U,O):typeof U=="string"?f(U,O):l(U.low,U.high,typeof O=="boolean"?O:U.unsigned)}e.fromValue=c;var h=65536,g=1<<24,v=h*h,b=v*v,w=b/2,x=o(g),E=o(0);e.ZERO=E;var T=o(0,!0);e.UZERO=T;var C=o(1);e.ONE=C;var I=o(1,!0);e.UONE=I;var D=o(-1);e.NEG_ONE=D;var F=l(-1,2147483647,!1);e.MAX_VALUE=F;var B=l(-1,-1,!0);e.MAX_UNSIGNED_VALUE=B;var H=l(0,-2147483648,!1);e.MIN_VALUE=H;var z=e.prototype;return z.toInt=function(){return this.unsigned?this.low>>>0:this.low},z.toNumber=function(){return this.unsigned?(this.high>>>0)*v+(this.low>>>0):this.high*v+(this.low>>>0)},z.toString=function(O){if(O=O||10,O<2||36<O)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(H)){var K=i(O),G=this.div(K),Z=G.mul(K).sub(this);return G.toString(O)+Z.toInt().toString(O)}else return"-"+this.neg().toString(O);for(var J=i(d(O,6),this.unsigned),se=this,oe="";;){var le=se.div(J),pe=se.sub(le.mul(J)).toInt()>>>0,ye=pe.toString(O);if(se=le,se.isZero())return ye+oe;for(;ye.length<6;)ye="0"+ye;oe=""+ye+oe}},z.getHighBits=function(){return this.high},z.getHighBitsUnsigned=function(){return this.high>>>0},z.getLowBits=function(){return this.low},z.getLowBitsUnsigned=function(){return this.low>>>0},z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(H)?64:this.neg().getNumBitsAbs();for(var O=this.high!=0?this.high:this.low,K=31;K>0&&(O&1<<K)==0;K--);return this.high!=0?K+33:K+1},z.isZero=function(){return this.high===0&&this.low===0},z.eqz=z.isZero,z.isNegative=function(){return!this.unsigned&&this.high<0},z.isPositive=function(){return this.unsigned||this.high>=0},z.isOdd=function(){return(this.low&1)===1},z.isEven=function(){return(this.low&1)===0},z.equals=function(O){return n(O)||(O=c(O)),this.unsigned!==O.unsigned&&this.high>>>31===1&&O.high>>>31===1?!1:this.high===O.high&&this.low===O.low},z.eq=z.equals,z.notEquals=function(O){return!this.eq(O)},z.neq=z.notEquals,z.ne=z.notEquals,z.lessThan=function(O){return this.comp(O)<0},z.lt=z.lessThan,z.lessThanOrEqual=function(O){return this.comp(O)<=0},z.lte=z.lessThanOrEqual,z.le=z.lessThanOrEqual,z.greaterThan=function(O){return this.comp(O)>0},z.gt=z.greaterThan,z.greaterThanOrEqual=function(O){return this.comp(O)>=0},z.gte=z.greaterThanOrEqual,z.ge=z.greaterThanOrEqual,z.compare=function(O){if(n(O)||(O=c(O)),this.eq(O))return 0;var K=this.isNegative(),G=O.isNegative();return K&&!G?-1:!K&&G?1:this.unsigned?O.high>>>0>this.high>>>0||O.high===this.high&&O.low>>>0>this.low>>>0?-1:1:this.sub(O).isNegative()?-1:1},z.comp=z.compare,z.negate=function(){return!this.unsigned&&this.eq(H)?H:this.not().add(C)},z.neg=z.negate,z.add=function(O){n(O)||(O=c(O));var K=this.high>>>16,G=this.high&65535,Z=this.low>>>16,J=this.low&65535,se=O.high>>>16,oe=O.high&65535,le=O.low>>>16,pe=O.low&65535,ye=0,ve=0,Ee=0,_e=0;return _e+=J+pe,Ee+=_e>>>16,_e&=65535,Ee+=Z+le,ve+=Ee>>>16,Ee&=65535,ve+=G+oe,ye+=ve>>>16,ve&=65535,ye+=K+se,ye&=65535,l(Ee<<16|_e,ye<<16|ve,this.unsigned)},z.subtract=function(O){return n(O)||(O=c(O)),this.add(O.neg())},z.sub=z.subtract,z.multiply=function(O){if(this.isZero())return E;if(n(O)||(O=c(O)),t){var K=t.mul(this.low,this.high,O.low,O.high);return l(K,t.get_high(),this.unsigned)}if(O.isZero())return E;if(this.eq(H))return O.isOdd()?H:E;if(O.eq(H))return this.isOdd()?H:E;if(this.isNegative())return O.isNegative()?this.neg().mul(O.neg()):this.neg().mul(O).neg();if(O.isNegative())return this.mul(O.neg()).neg();if(this.lt(x)&&O.lt(x))return i(this.toNumber()*O.toNumber(),this.unsigned);var G=this.high>>>16,Z=this.high&65535,J=this.low>>>16,se=this.low&65535,oe=O.high>>>16,le=O.high&65535,pe=O.low>>>16,ye=O.low&65535,ve=0,Ee=0,_e=0,Ie=0;return Ie+=se*ye,_e+=Ie>>>16,Ie&=65535,_e+=J*ye,Ee+=_e>>>16,_e&=65535,_e+=se*pe,Ee+=_e>>>16,_e&=65535,Ee+=Z*ye,ve+=Ee>>>16,Ee&=65535,Ee+=J*pe,ve+=Ee>>>16,Ee&=65535,Ee+=se*le,ve+=Ee>>>16,Ee&=65535,ve+=G*ye+Z*pe+J*le+se*oe,ve&=65535,l(_e<<16|Ie,ve<<16|Ee,this.unsigned)},z.mul=z.multiply,z.divide=function(O){if(n(O)||(O=c(O)),O.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&O.low===-1&&O.high===-1)return this;var K=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,O.low,O.high);return l(K,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?T:E;var G,Z,J;if(this.unsigned){if(O.unsigned||(O=O.toUnsigned()),O.gt(this))return T;if(O.gt(this.shru(1)))return I;J=T}else{if(this.eq(H)){if(O.eq(C)||O.eq(D))return H;if(O.eq(H))return C;var se=this.shr(1);return G=se.div(O).shl(1),G.eq(E)?O.isNegative()?C:D:(Z=this.sub(O.mul(G)),J=G.add(Z.div(O)),J)}else if(O.eq(H))return this.unsigned?T:E;if(this.isNegative())return O.isNegative()?this.neg().div(O.neg()):this.neg().div(O).neg();if(O.isNegative())return this.div(O.neg()).neg();J=E}for(Z=this;Z.gte(O);){G=Math.max(1,Math.floor(Z.toNumber()/O.toNumber()));for(var oe=Math.ceil(Math.log(G)/Math.LN2),le=oe<=48?1:d(2,oe-48),pe=i(G),ye=pe.mul(O);ye.isNegative()||ye.gt(Z);)G-=le,pe=i(G,this.unsigned),ye=pe.mul(O);pe.isZero()&&(pe=C),J=J.add(pe),Z=Z.sub(ye)}return J},z.div=z.divide,z.modulo=function(O){if(n(O)||(O=c(O)),t){var K=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,O.low,O.high);return l(K,t.get_high(),this.unsigned)}return this.sub(this.div(O).mul(O))},z.mod=z.modulo,z.rem=z.modulo,z.not=function(){return l(~this.low,~this.high,this.unsigned)},z.and=function(O){return n(O)||(O=c(O)),l(this.low&O.low,this.high&O.high,this.unsigned)},z.or=function(O){return n(O)||(O=c(O)),l(this.low|O.low,this.high|O.high,this.unsigned)},z.xor=function(O){return n(O)||(O=c(O)),l(this.low^O.low,this.high^O.high,this.unsigned)},z.shiftLeft=function(O){return n(O)&&(O=O.toInt()),(O&=63)===0?this:O<32?l(this.low<<O,this.high<<O|this.low>>>32-O,this.unsigned):l(0,this.low<<O-32,this.unsigned)},z.shl=z.shiftLeft,z.shiftRight=function(O){return n(O)&&(O=O.toInt()),(O&=63)===0?this:O<32?l(this.low>>>O|this.high<<32-O,this.high>>O,this.unsigned):l(this.high>>O-32,this.high>=0?0:-1,this.unsigned)},z.shr=z.shiftRight,z.shiftRightUnsigned=function(O){if(n(O)&&(O=O.toInt()),O&=63,O===0)return this;var K=this.high;if(O<32){var G=this.low;return l(G>>>O|K<<32-O,K>>>O,this.unsigned)}else return O===32?l(K,0,this.unsigned):l(K>>>O-32,0,this.unsigned)},z.shru=z.shiftRightUnsigned,z.shr_u=z.shiftRightUnsigned,z.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},z.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},z.toBytes=function(O){return O?this.toBytesLE():this.toBytesBE()},z.toBytesLE=function(){var O=this.high,K=this.low;return[K&255,K>>>8&255,K>>>16&255,K>>>24,O&255,O>>>8&255,O>>>16&255,O>>>24]},z.toBytesBE=function(){var O=this.high,K=this.low;return[O>>>24,O>>>16&255,O>>>8&255,O&255,K>>>24,K>>>16&255,K>>>8&255,K&255]},e.fromBytes=function(O,K,G){return G?e.fromBytesLE(O,K):e.fromBytesBE(O,K)},e.fromBytesLE=function(O,K){return new e(O[0]|O[1]<<8|O[2]<<16|O[3]<<24,O[4]|O[5]<<8|O[6]<<16|O[7]<<24,K)},e.fromBytesBE=function(O,K){return new e(O[4]<<24|O[5]<<16|O[6]<<8|O[7],O[0]<<24|O[1]<<16|O[2]<<8|O[3],K)},Vw}var tA=cj();const nA=Eu(tA),dj=wm({__proto__:null,default:nA},[tA]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kl=nA||dj;function uy(t){return kl.fromString(t,!0,16)}const rA=uy("c3a5c85c97cb3127"),Il=uy("b492b66fbe98f273"),Pa=uy("9ae16a3b2f90404f");function jw(t){return t.xor(t.shru(47))}function aA(t,e,n){const r=t.slice(e,e+n);return kl.fromBytes(Array.from(r),!0,!0)}function tr(t,e){return aA(t,e,8)}function oA(t,e){return aA(t,e,4)}function Qr(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function ku(t,e,n=uy("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let a=e.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function fj(t,e,n,r,a,o){a=a.add(t),o=Qr(o.add(a).add(r),21);const i=a;return a=a.add(e),a=a.add(n),o=o.add(Qr(a,44)),[a.add(r),o.add(i)]}function ly(t,e,n,r){return fj(tr(t,e),tr(t,e+8),tr(t,e+16),tr(t,e+24),n,r)}function pj(t,e=t.length){if(e>=8){const n=Pa.add(e*2),r=tr(t,0).add(Pa),a=tr(t,e-8),o=Qr(a,37).mul(n).add(r),i=Qr(r,25).add(a).mul(n);return ku(o,i,n)}if(e>=4){const n=Pa.add(e*2),r=oA(t,0);return ku(r.shl(3).add(e),oA(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],a=t[e-1],o=n+(r<<8),i=e+(a<<2);return jw(Pa.mul(o).xor(rA.mul(i))).mul(Pa)}return Pa}function hj(t,e=t.length){const n=Pa.add(e*2),r=tr(t,0).mul(Il),a=tr(t,8),o=tr(t,e-8).mul(n),i=tr(t,e-16).mul(Pa);return ku(Qr(r.add(a),43).add(Qr(o,30)).add(i),r.add(Qr(a.add(Pa),18)).add(o),n)}function mj(t,e=t.length){const n=Pa.add(e*2),r=tr(t,0).mul(Pa),a=tr(t,8),o=tr(t,e-8).mul(n),i=tr(t,e-16).mul(Pa),l=Qr(r.add(a),43).add(Qr(o,30)).add(i),d=ku(l,r.add(Qr(a.add(Pa),18)).add(o),n),f=tr(t,16).mul(n),c=tr(t,24),h=l.add(tr(t,e-32)).mul(n),g=d.add(tr(t,e-24)).mul(n);return ku(Qr(f.add(c),43).add(Qr(h,30)).add(g),f.add(Qr(c.add(r),18)).add(h),n)}function gj(t,e=t.length){const n=kl.fromNumber(81,!0);if(e<=32)return e<=16?pj(t,e):hj(t,e);if(e<=64)return mj(t,e);let r=n,a=n.mul(Il).add(113),o=jw(a.mul(Pa).add(113)).mul(Pa),i=[kl.UZERO,kl.UZERO],l=[kl.UZERO,kl.UZERO];r=r.mul(Pa).add(tr(t,0));let d=0;const f=(e-1>>6)*64,c=f+(e-1&63)-63;do r=Qr(r.add(a).add(i[0]).add(tr(t,d+8)),37).mul(Il),a=Qr(a.add(i[1]).add(tr(t,d+48)),42).mul(Il),r=r.xor(l[1]),a=a.add(i[0]).add(tr(t,d+40)),o=Qr(o.add(l[0]),33).mul(Il),i=ly(t,d,i[1].mul(Il),r.add(l[0])),l=ly(t,d+32,o.add(l[1]),a.add(tr(t,d+16))),[o,r]=[r,o],d+=64;while(d!==f);const h=Il.add(o.and(255).shl(1));return d=c,l[0]=l[0].add(e-1&63),i[0]=i[0].add(l[0]),l[0]=l[0].add(i[0]),r=Qr(r.add(a).add(i[0]).add(tr(t,d+8)),37).mul(h),a=Qr(a.add(i[1]).add(tr(t,d+48)),42).mul(h),r=r.xor(l[1].mul(9)),a=a.add(i[0].mul(9).add(tr(t,d+40))),o=Qr(o.add(l[0]),33).mul(h),i=ly(t,d,i[1].mul(h),r.add(l[0])),l=ly(t,d+32,o.add(l[1]),a.add(tr(t,d+16))),[o,r]=[r,o],ku(ku(i[0],l[0],h).add(jw(a).mul(rA)).add(o),ku(i[1],l[1],h).add(r),h)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hw(t,e){return e==="string"?Al(t):Rl([t],e)}function vj(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Rl(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=ip(t)),Zt().getBool("DEBUG")&&KV(t,e),vj(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Iu(){return Zt().platform.now()}function yj(t,e){return Zt().platform.fetch(t,e)}function Al(t,e="utf-8"){return e=e||"utf-8",Zt().platform.encode(t,e)}function sp(t,e="utf-8"){return e=e||"utf-8",Zt().platform.decode(t,e)}function rs(t){return Zt().platform.isTypedArray!=null?Zt().platform.isTypedArray(t):JR(t)}function ip(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Cl(t)||t==null||rs(t)&&n)e.push(t);else if(Array.isArray(t)||rs(t))for(let r=0;r<t.length;++r)ip(t[r],e,n);else{let r=-1;for(const a of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)ip(t[a],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bj{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new wj)}profileKernel(e,n,r){let a;const o=()=>{a=r()};let i;const l=Iu();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const f of a)f.dataSync();i=Promise.resolve({kernelMs:Iu()-l})}if(Zt().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let f=0;f<a.length;f++){const c=a[f];c.data().then(h=>{Sj(h,c.dtype,e)})}return{kernelName:e,outputs:a,inputs:n,timeMs:i.then(f=>f.kernelMs),extraInfo:i.then(f=>f.getExtraProfileInfo!=null?f.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:a,inputs:o,extraInfo:i}=e;r.forEach(l=>{Promise.all([l.data(),a,i]).then(d=>{this.logger.logKernelProfile(n,l,d[0],d[1],o,d[2])})})}}function Sj(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const a=t[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class wj{logKernelProfile(e,n,r,a,o,i){const l=typeof a=="number"?ig(`${a}ms`,9):a.error,d=ig(e,25),f=n.rank,c=n.size,h=ig(n.shape.toString(),14);let g="";for(const v in o){const b=o[v];if(b!=null){const w=b.shape||n.shape,x=w.length;g+=`${v}: ${x}D ${x>0?w:""} `}}console.log(`%c${d}	%c${l}	%c${f}D ${h}	%c${c}	%c${g}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _j(t,e,n){const r={},a={};for(let d=0;d<e.length;d++)r[e[d].id]=!0;for(let d=0;d<t.length;d++){const f=t[d],c=f.inputs;for(const h in c){const g=c[h];let v=!1;for(let b=0;b<e.length;b++)if(r[g.id]){f.outputs.forEach(w=>r[w.id]=!0),v=!0,a[f.id]=!0;break}if(v)break}}const o={};o[n.id]=!0;const i={};for(let d=t.length-1;d>=0;d--){const f=t[d],c=f.inputs;for(let h=0;h<f.outputs.length;h++)if(o[f.outputs[h].id]){for(const g in c)o[c[g].id]=!0,i[f.id]=!0;break}}const l=[];for(let d=0;d<t.length;d++){const f=t[d];if(a[f.id]&&i[f.id]){const c={};for(const g in f.inputs){const v=f.inputs[g];r[v.id]&&(c[g]=v)}const h=Object.assign({},f);h.inputs=c,h.outputs=f.outputs,l.push(h)}}return l}function xj(t,e,n,r){for(let a=e.length-1;a>=0;a--){const o=e[a],i=[];if(o.outputs.forEach(d=>{const f=t[d.id];f!=null?i.push(f):i.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const l=o.gradient(i);for(const d in o.inputs){if(!(d in l))throw new Error(`Cannot backprop through input ${d}. Available gradients found: ${Object.keys(l)}.`);const f=n(()=>l[d]());if(f.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${d} must have 'float32' dtype, but has '${f.dtype}'`);const c=o.inputs[d];if(!ts(f.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${d}' has shape '${f.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=f;else{const h=t[c.id];t[c.id]=r(h,f),h.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sA=20,up=3,Ww=7;function Ej(t,e,n,r){const a=yt(e),o=Cj(t,e,n,a),i=e.length,l=cy(t,e,n,a,o),d=["Tensor"];return r&&(d.push(`  dtype: ${n}`),d.push(`  rank: ${i}`),d.push(`  shape: [${e}]`),d.push("  values:")),d.push(l.map(f=>"    "+f).join(`
`)),d.join(`
`)}function Cj(t,e,n,r){const a=Ce(e),o=r[r.length-1],i=new Array(o).fill(0),l=e.length,d=n==="complex64"?cp(t):t;if(l>1)for(let f=0;f<a/o;f++){const c=f*o;for(let h=0;h<o;h++)i[h]=Math.max(i[h],lp(d[c+h],0,n).length)}return i}function lp(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(Ww))} + ${parseFloat(t[1].toFixed(Ww))}j`:ug(t)?r=`'${t}'`:n==="bool"?r=iA(t):r=parseFloat(t.toFixed(Ww)).toString(),ig(r,e)}function iA(t){return t===0?"false":"true"}function cy(t,e,n,r,a,o=!0){const i=n==="complex64"?2:1,l=e[0],d=e.length;if(d===0){if(n==="complex64"){const w=cp(t);return[lp(w[0],0,n)]}return n==="bool"?[iA(t[0])]:[t[0].toString()]}if(d===1){if(l>sA){const x=up*i;let E=Array.from(t.slice(0,x)),T=Array.from(t.slice((l-up)*i,l*i));return n==="complex64"&&(E=cp(E),T=cp(T)),["["+E.map((C,I)=>lp(C,a[I],n)).join(", ")+", ..., "+T.map((C,I)=>lp(C,a[l-up+I],n)).join(", ")+"]"]}return["["+(n==="complex64"?cp(t):Array.from(t)).map((x,E)=>lp(x,a[E],n)).join(", ")+"]"]}const f=e.slice(1),c=r.slice(1),h=r[0]*i,g=[];if(l>sA){for(let w=0;w<up;w++){const x=w*h,E=x+h;g.push(...cy(t.slice(x,E),f,n,c,a,!1))}g.push("...");for(let w=l-up;w<l;w++){const x=w*h,E=x+h;g.push(...cy(t.slice(x,E),f,n,c,a,w===l-1))}}else for(let w=0;w<l;w++){const x=w*h,E=x+h;g.push(...cy(t.slice(x,E),f,n,c,a,w===l-1))}const v=d===2?",":"";g[0]="["+(l>0?g[0]+v:"");for(let w=1;w<g.length-1;w++)g[w]=" "+g[w]+v;let b=`,
`;for(let w=2;w<d;w++)b+=`
`;return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":b),g}function cp(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jr{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=Ce(e),r!=null){const a=r.length;W(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Pr(n,this.size),this.strides=yt(e)}set(e,...n){n.length===0&&(n=[0]),W(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const o=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=this.strides[a]*e[a];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Cs().makeTensor(this.values,this.shape,this.dtype)}}let Cs=null,Hc=null;function Tj(t){Cs=t}function kj(t){Hc=t}class Lr{constructor(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Ce(e),this.strides=yt(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Hc.buffer(this.shape,this.dtype,e)}bufferSync(){return Hc.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return ns(this.shape,e,this.dtype==="complex64")}arraySync(){return ns(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Cs().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>sp(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Cs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Cs().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>sp(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Cs().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Cs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Hc.print(this,e)}clone(){return this.throwIfDisposed(),Hc.clone(this)}toString(e=!1){const n=this.dataSync();return Ej(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Hc.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Cs().makeVariable(this,e,n,r)}}Object.defineProperty(Lr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function Ij(){return nw("Tensor",()=>Lr)}Ij();class dy extends Lr{constructor(e,n,r,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!ts(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Cs().disposeTensor(this),this.dataId=e.dataId,Cs().incRef(this,null)}dispose(){Cs().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(dy,Symbol.hasInstance,{value:t=>t instanceof Lr&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var uA;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(uA||(uA={}));var qw;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(qw||(qw={}));var Gw;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(Gw||(Gw={}));var Kw;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(Kw||(Kw={}));var Yw;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(Yw||(Yw={}));const Rj={float32:Kw,int32:qw,bool:Gw,complex64:Yw};function Wc(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Rj[t][e]}function lA(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function cA(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xr(t,e){if(t.dtype===e.dtype)return[t,e];const n=Wc(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Aj(t,e){W(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function dA(t){const e=[];return fA(t,e,new Set),e}function fA(t,e,n){if(t==null)return;if(t instanceof Lr){e.push(t);return}if(!Nj(t))return;const r=t;for(const a in r){const o=r[a];n.has(o)||(n.add(o),fA(o,e,n))}}function Nj(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xw(t){return t.kernelName!=null}class pA{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class qc{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new pA}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Tl(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new bj(this.backendInstance),!0}setupRegisteredKernels(){XR(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){XR(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof QS)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,o=r.then(i=>a<this.pendingBackendInitId?!1:(this.registry[e]=i,this.pendingBackendInit=null,!0)).catch(i=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,Tl(`Initialization of backend ${e} failed`),Tl(i.stack||i.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Tl(`Initialization of backend ${e} failed`),Tl(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:a,asyncInit:o}=this.initializeBackend(r);if(o||a)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),a=r.backend,o=this.readSync(n),i=a.refCount(n);a.disposeData(n,!0),r.backend=e,e.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,n,r){e();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return qc.nextTensorId++}nextVariableId(){return qc.nextVariableId++}clone(e){const n=ae.runKernel(Zg,{x:e}),r={x:e},a=i=>({x:()=>{const l="float32",d={x:i},f={dtype:l};return ae.runKernel(xg,d,f)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,o,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(Uw(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const a=this.backend.numDataIds();let o=0;r.forEach(d=>{o+=d.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],l=a-n-o-i;if(l>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${l} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const a=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let l;this.backendName==null&&this.backend;let d;const f=Xw(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Xw(e)){const{kernelName:b,inputs:w,attrs:x}=e;this.backendName==null&&this.backend;const E=Uw(b,this.backendName);W(E!=null,()=>`Cannot find registered kernel '${b}' for backend '${this.backendName}'`),l=()=>{const T=this.backend.numDataIds();d=E.kernelFunc({inputs:w,attrs:x,backend:this.backend});const C=Array.isArray(d)?d:[d];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(b,T,C);const I=C.map(D=>D.rank!=null?D:this.makeTensorFromTensorInfo(D));if(a){const D=this.getTensorsForGradient(b,w,I);r=this.saveTensorsForBackwardMode(D)}return I}}else{const{forwardFunc:b}=e,w=x=>{a&&(r=x.map(E=>this.keep(this.clone(E))))};l=()=>{const x=this.backend.numDataIds();d=this.tidy(()=>b(this.backend,w));const E=Array.isArray(d)?d:[d];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(f,x,E),E}}const{inputs:c,attrs:h}=e,g=Xw(e)?null:e.backwardsFunc;let v;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=l():(v=this.profiler.profileKernel(f,c,()=>l()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(v),n=v.outputs)}),a&&this.addTapeNode(f,c,n,g,r,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:f,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(b=>c[b]!=null?c[b].shape:null),outputShapes:n.map(b=>b.shape),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(d)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const a=YR(e);if(a!=null){const o=a.inputsToSave||[],i=a.outputsToSave||[];let l;a.saveAllInputs?(W(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),l=Object.keys(n).map(f=>n[f])):l=o.map(f=>n[f]);const d=r.filter((f,c)=>i[c]);return l.concat(d)}return[]}makeTensor(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let o=e;r==="string"&&ug(e[0])&&(o=e.map(d=>Al(d)));const i=a.write(o,n,r),l=new Lr(n,r,i,this.nextTensorId());if(this.trackTensor(l,a),r==="string"){const d=this.state.tensorInfo.get(i),f=QV(o);this.state.numBytes+=f-d.bytes,d.bytes=f}return l}makeTensorFromDataId(e,n,r,a){r=r||"float32";const o={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,a)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:a,dtype:o}=e,i=new Lr(a,o,r,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(e,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));const o=new dy(e,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Qf(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof dy||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Qf(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,a,o,i){const l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:o},d=YR(e);d!=null&&(a=d.gradFunc),a!=null&&(l.gradient=f=>(f=f.map((c,h)=>{if(c==null){const g=r[h],v=xa(g.size,g.dtype);return this.makeTensor(v,g.shape,g.dtype)}return c}),a(f.length>1?f:f[0],o,i))),this.state.activeTape.push(l)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=dA(e),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const i=this.state.activeScope.track[o];!i.kept&&!r.has(i.id)&&i.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===a.id&&this.track(o)})}gradients(e,n,r,a=!1){if(W(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));W(o instanceof Lr,()=>"The result y returned by f() must be a tensor.");const i=_j(this.state.activeTape,n,o);if(!a&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const l={};l[o.id]=r??Dj(o.shape),xj(l,i,f=>this.tidy(f),Oj);const d=n.map(f=>l[f.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(f=>{for(const c of f.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:d}})}customGrad(e){return W(JS(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{W(n.every(l=>l instanceof Lr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((l,d)=>{a[d]=l});const o=(l,d)=>(r=e(...n,d),W(r.value instanceof Lr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),W(JS(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),i=(l,d)=>{const f=r.gradFunc(l,d),c=Array.isArray(f)?f:[f];W(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),W(c.every(g=>g instanceof Lr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const h={};return c.forEach((g,v)=>{h[v]=()=>g}),h};return this.runKernelFunc({forwardFunc:o,backwardsFunc:i,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Iu(),r=await this.backend.time(e);return r.wallMs=Iu()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new pA;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}qc.nextTensorId=0,qc.nextVariableId=0;function Dj(t){const e=ew(Ce(t),"float32");return ae.makeTensor(e,t,"float32")}function hA(){const t=IR();if(t._tfengine==null){const e=new tj(t);t._tfengine=new qc(e)}return oj(t._tfengine.ENV),Tj(()=>t._tfengine),t._tfengine}const ae=hA();function Oj(t,e){const n={a:t,b:e};return ae.runKernel(Jf,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mj(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ja=Zt();Ja.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Ja.registerFlag("IS_BROWSER",()=>Mj()),Ja.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Ja.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Ja.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Ja.registerFlag("PROD",()=>!1),Ja.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ja.getBool("DEBUG")),Ja.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Ja.registerFlag("IS_TEST",()=>!1),Ja.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ja.getBool("DEBUG")),Ja.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Ja.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Ja.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ru(t,e){let n=t;if(rs(t))return e==="string"?[]:[t.length];if(lA(t)){const a=t.channels||"RGBA";return[t.height,t.width*a.length]}else if(cA(t))return[t.buffer.size/(e==null?4:Qf(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||rs(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Zt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&mA(t,r,[]),r}function mA(t,e,n){if(n=n||[],!Array.isArray(t)&&!rs(t)){W(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}W(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),W(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let a=0;a<t.length;++a)mA(t[a],r,n.concat(a))}function gA(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function V(t,e,n,r="numeric"){if(t instanceof Lr)return gA(r,t.dtype,e,n),t;let a=Zf(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),gA(r,a,e,n),t==null||!rs(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const d=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${d}'`)}const o=Ru(t,a);!rs(t)&&!Array.isArray(t)&&(t=[t]);const l=a!=="string"?Rl(t,a):ip(t,[],!0);return ae.makeTensor(l,o,a)}function fy(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,i)=>V(o,`${e}[${i}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vA="__op";function ne(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+vA;const a=(...o)=>{ae.startScope(n);try{const i=r(...o);return Cl(i)&&console.error("Cannot return a Promise inside of tidy."),ae.endScope(i),i}catch(i){throw ae.endScope(null),i}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $j(t,e){const n=V(t,"real","complex"),r=V(e,"imag","complex");So(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return ae.runKernel(NR,a)}const Au=ne({complex_:$j});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nu(t,e,n,r){if(r==null)r=Zf(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(cA(t)||lA(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return ae.backend.createTensorFromGPUData(t,e||n,r)}if(!rs(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Oo(e);const a=Ce(e),o=Ce(n);W(a===o,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${o}`);for(let i=0;i<n.length;++i){const l=n[i],d=i===n.length-1?l!==Ce(e.slice(i)):!0;W(n[i]===e[i]||!d,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!rs(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Rl(t,r):ip(t,[],!0),ae.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ts(t,e,n){const r=Ru(t,n);return Nu(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qw={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ks{static join(e){return new ks(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>rs(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const a=e[r];r!==e.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+a.byteLength;this.shards.push({buffer:a,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const a=n-e,o=new ArrayBuffer(a),i=new Uint8Array(o);let l=0;for(let d=r;d<this.shards.length;d++){const f=this.shards[d],h=e+l-f.start,g=l,b=Math.min(n,f.end)-f.start,w=new Uint8Array(f.buffer,h,b-h);if(i.set(w,g),l+=w.length,n<f.end)break}return o}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(a){return e<a.start?-1:e>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=Fj(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function Fj(t,e){let n=0,r=t.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=e(t[a]);if(o===0)return a;o<0?r=a:n=a+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const py=4;async function Pj(t,e){const n=[],r=[],a=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);for(let i=0;i<a.length;++i){const l=a[i],d=Array.isArray(t)?t[i].tensor:t[l];if(d.dtype!=="float32"&&d.dtype!=="int32"&&d.dtype!=="bool"&&d.dtype!=="string"&&d.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${l}': ${d.dtype}`);const f={name:l,shape:d.shape,dtype:d.dtype};if(d.dtype==="string"){const c=new Promise(async h=>{const g=await d.bytes(),v=g.reduce((x,E)=>x+E.length,0)+py*g.length,b=new Uint8Array(v);let w=0;for(let x=0;x<g.length;x++){const E=g[x],T=new Uint8Array(new Uint32Array([E.length]).buffer);b.set(T,w),w+=py,b.set(E,w),w+=E.length}h(b)});r.push(c)}else r.push(d.data());e!=null&&(f.group=e),n.push(f)}const o=await Promise.all(r);return{data:Lj(o),specs:n}}function yA(t,e){const n=new ks(t),r={};let a,o=0;for(const i of e){const l=i.name,d=i.dtype,f=i.shape,c=Ce(f);let h;if("quantization"in i){const g=i.quantization;if(g.dtype==="uint8"||g.dtype==="uint16"){if(!("min"in g&&"scale"in g))throw new Error(`Weight ${i.name} with quantization ${g.dtype} doesn't have corresponding metadata min and scale.`)}else if(g.dtype==="float16"){if(d!=="float32")throw new Error(`Weight ${i.name} is quantized with ${g.dtype} which only supports weights of type float32 not ${d}.`)}else throw new Error(`Weight ${i.name} has unknown quantization dtype ${g.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const v=Qw[g.dtype],b=n.slice(o,o+c*v),w=g.dtype==="uint8"?new Uint8Array(b):new Uint16Array(b);if(d==="float32")if(g.dtype==="uint8"||g.dtype==="uint16"){h=new Float32Array(w.length);for(let x=0;x<w.length;x++){const E=w[x];h[x]=E*g.scale+g.min}}else if(g.dtype==="float16")a===void 0&&(a=Wj()),h=a(w);else throw new Error(`Unsupported quantization type ${g.dtype} for weight type float32.`);else if(d==="int32"){if(g.dtype!=="uint8"&&g.dtype!=="uint16")throw new Error(`Unsupported quantization type ${g.dtype} for weight type int32.`);h=new Int32Array(w.length);for(let x=0;x<w.length;x++){const E=w[x];h[x]=Math.round(E*g.scale+g.min)}}else throw new Error(`Unsupported dtype in weight '${l}': ${d}`);o+=c*v}else if(d==="string"){const g=Ce(i.shape);h=[];for(let v=0;v<g;v++){const b=new Uint32Array(n.slice(o,o+py))[0];o+=py;const w=new Uint8Array(n.slice(o,o+b));h.push(w),o+=b}}else{const g=Qw[d],v=n.slice(o,o+c*g);if(d==="float32")h=new Float32Array(v);else if(d==="int32")h=new Int32Array(v);else if(d==="bool")h=new Uint8Array(v);else if(d==="complex64"){h=new Float32Array(v);const b=new Float32Array(h.length/2),w=new Float32Array(h.length/2);for(let T=0;T<b.length;T++)b[T]=h[T*2],w[T]=h[T*2+1];const x=Ts(b,f,"float32"),E=Ts(w,f,"float32");r[l]=Au(x,E),x.dispose(),E.dispose()}else throw new Error(`Unsupported dtype in weight '${l}': ${d}`);o+=c*g}d!=="complex64"&&(r[l]=Ts(h,f,d))}return r}function Lj(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(e);let a=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),a),a+=o.byteLength}),r.buffer}const Zw=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function bA(t){return Zw?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Bj(t){if(Zw)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,a=e.length;r<a;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function zj(t){if(Zw){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function Uj(t){return ks.join(t)}function SA(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function wA(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function _A(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function Jw(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),_A(t,n,r)}function dp(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:bA(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:bA(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new ks(t.weightData).byteLength}}function xA(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Vj(){const t=n=>{let r=n<<13,a=0;for(;(r&8388608)===0;)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function jj(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Hj(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Wj(){const t=Vj(),e=jj(),n=Hj();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let i=0;i<r.length;i++){const l=r[i],d=t[n[l>>10]+(l&1023)]+e[l>>10];o[i]=d}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return vr.instance==null&&(vr.instance=new vr),vr.instance}static registerSaveRouter(e){vr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){vr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return vr.getHandlers(e,"save")}static getLoadHandlers(e,n){return vr.getHandlers(e,"load",n)}static getHandlers(e,n,r){const a=[];return(n==="load"?vr.getInstance().loadRouters:vr.getInstance().saveRouters).forEach(i=>{const l=i(e,r);l!==null&&a.push(l)}),a}}const qj=t=>vr.registerSaveRouter(t),Gj=t=>vr.registerLoadRouter(t),Kj=t=>vr.getSaveHandlers(t),Yj=(t,e)=>vr.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e_="tensorflowjs",t_=1,Nl="models_store",Du="model_info_store";function EA(){if(!Zt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function n_(t){const e=t.result;e.createObjectStore(Nl,{keyPath:"modelPath"}),e.createObjectStore(Du,{keyPath:"modelPath"})}class Dl{constructor(e){if(this.indexedDB=EA(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,a)=>{const o=this.indexedDB.open(e_,t_);o.onupgradeneeded=()=>n_(o),o.onsuccess=()=>{const i=o.result;if(n==null){const l=i.transaction(Nl,"readonly"),f=l.objectStore(Nl).get(this.modelPath);f.onsuccess=()=>{if(f.result==null)return i.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(f.result.modelArtifacts)},f.onerror=c=>(i.close(),a(f.error)),l.oncomplete=()=>i.close()}else{n.weightData=ks.join(n.weightData);const l=dp(n),d=i.transaction(Du,"readwrite");let f=d.objectStore(Du),c;try{c=f.put({modelPath:this.modelPath,modelArtifactsInfo:l})}catch(g){return a(g)}let h;c.onsuccess=()=>{h=i.transaction(Nl,"readwrite");const g=h.objectStore(Nl);let v;try{v=g.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:l})}catch(b){return a(b)}v.onsuccess=()=>r({modelArtifactsInfo:l}),v.onerror=b=>{f=d.objectStore(Du);const w=f.delete(this.modelPath);w.onsuccess=()=>(i.close(),a(v.error)),w.onerror=x=>(i.close(),a(v.error))}},c.onerror=g=>(i.close(),a(c.error)),d.oncomplete=()=>{h==null?i.close():h.oncomplete=()=>i.close()}}},o.onerror=i=>a(o.error)})}}Dl.URL_SCHEME="indexeddb://";const CA=t=>Zt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Dl.URL_SCHEME)?Xj(t.slice(Dl.URL_SCHEME.length)):null;vr.registerSaveRouter(CA),vr.registerLoadRouter(CA);function Xj(t){return new Dl(t)}function Qj(t){return t.startsWith(Dl.URL_SCHEME)?t.slice(Dl.URL_SCHEME.length):t}class Zj{constructor(){this.indexedDB=EA()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(e_,t_);r.onupgradeneeded=()=>n_(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(Du,"readonly"),l=o.objectStore(Du).getAll();l.onsuccess=()=>{const d={};for(const f of l.result)d[f.modelPath]=f.modelArtifactsInfo;e(d)},l.onerror=d=>(a.close(),n(l.error)),o.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(e){return e=Qj(e),new Promise((n,r)=>{const a=this.indexedDB.open(e_,t_);a.onupgradeneeded=()=>n_(a),a.onsuccess=()=>{const o=a.result,i=o.transaction(Du,"readwrite"),l=i.objectStore(Du),d=l.get(e);let f;d.onsuccess=()=>{if(d.result==null)return o.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=l.delete(e),h=()=>{f=o.transaction(Nl,"readwrite");const v=f.objectStore(Nl).delete(e);v.onsuccess=()=>n(d.result.modelArtifactsInfo),v.onerror=b=>r(d.error)};c.onsuccess=h,c.onerror=g=>(h(),o.close(),r(d.error))}},d.onerror=c=>(o.close(),r(d.error)),i.oncomplete=()=>{f==null?o.close():f.oncomplete=()=>o.close()}},a.onerror=o=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fi="/",Gc="tensorflowjs_models",TA="info",Jj="model_topology",eH="weight_specs",tH="weight_data",nH="model_metadata";function kA(t){return{info:[Gc,t,TA].join(Fi),topology:[Gc,t,Jj].join(Fi),weightSpecs:[Gc,t,eH].join(Fi),weightData:[Gc,t,tH].join(Fi),modelMetadata:[Gc,t,nH].join(Fi)}}function IA(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function rH(t){const e=t.split(Fi);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Fi)}function aH(t){return t.startsWith(Ol.URL_SCHEME)?t.slice(Ol.URL_SCHEME.length):t}class Ol{constructor(e){if(!Zt().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=kA(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=dp(e),o=ks.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Bj(o));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:a}}catch{throw IA(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const l=JSON.parse(o);n.format=l.format,n.generatedBy=l.generatedBy,n.convertedBy=l.convertedBy,l.signature!=null&&(n.signature=l.signature),l.userDefinedMetadata!=null&&(n.userDefinedMetadata=l.userDefinedMetadata),l.modelInitializer!=null&&(n.modelInitializer=l.modelInitializer),l.initializerSignature!=null&&(n.initializerSignature=l.initializerSignature),l.trainingConfig!=null&&(n.trainingConfig=l.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=zj(i),n}}Ol.URL_SCHEME="localstorage://";const RA=t=>Zt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ol.URL_SCHEME)?oH(t.slice(Ol.URL_SCHEME.length)):null;vr.registerSaveRouter(RA),vr.registerLoadRouter(RA);function oH(t){return new Ol(t)}class sH{constructor(){W(Zt().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),W(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Gc+Fi,r=Fi+TA;for(let a=0;a<this.LS.length;++a){const o=this.LS.key(a);if(o.startsWith(n)&&o.endsWith(r)){const i=rH(o);e[i]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=aH(e);const n=kA(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return IA(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kc="://";class La{constructor(){this.managers={}}static getInstance(){return La.instance==null&&(La.instance=new La),La.instance}static registerManager(e,n){W(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Kc)&&(e=e.slice(0,e.indexOf(Kc))),W(e.length>0,()=>"scheme must not be an empty string.");const r=La.getInstance();W(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=La.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(La.getInstance().managers)}}function hy(t){if(t.indexOf(Kc)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${La.getSchemes().join(",")}`);return{scheme:t.split(Kc)[0],path:t.split(Kc)[1]}}async function AA(t,e,n=!1){W(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=vr.getLoadHandlers(t);W(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),W(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const a=r[0],o=vr.getSaveHandlers(e);W(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),W(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const i=o[0],l=hy(t).scheme,d=hy(t).path,f=l===hy(t).scheme,c=await a.load();n&&f&&await La.getManager(l).removeModel(d);const h=await i.save(c);return n&&!f&&await La.getManager(l).removeModel(d),h.modelArtifactsInfo}async function iH(){const t=La.getSchemes(),e={};for(const n of t){const r=await La.getManager(n).listModels();for(const a in r){const o=n+Kc+a;e[o]=r[a]}}return e}async function uH(t){const e=hy(t);return La.getManager(e.scheme).removeModel(e.path)}async function lH(t,e){return AA(t,e,!1)}async function cH(t,e){return AA(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dH{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Zt().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return JR(e)}}if(Zt().get("IS_BROWSER")){Zt().setPlatform("browser",new dH);try{La.registerManager(Ol.URL_SCHEME,new sH)}catch{}try{La.registerManager(Dl.URL_SCHEME,new Zj)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fH={importFetch:()=>require("node-fetch")};let r_;class pH{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Zt().global.fetch!=null?Zt().global.fetch(e,n):(r_==null&&(r_=fH.importFetch()),r_(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Zt().get("IS_NODE")&&!Zt().get("IS_BROWSER")&&Zt().setPlatform("node",new pH);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cn(t,e="float32",n){return e=e||"float32",Oo(t),new jr(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hH(t,e){const n=V(t,"x","cast");if(!YV(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:e};return ae.runKernel(xg,r,a)}const yr=ne({cast_:hH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mH(t){const n={x:V(t,"x","clone","string_or_numeric")};return ae.runKernel(Zg,n)}const Ou=ne({clone_:mH});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NA(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */hA(),kj({buffer:cn,cast:yr,clone:Ou,print:NA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a_(){return ae}function dn(t,e){return ae.tidy(t,e)}function Hr(t){dA(t).forEach(n=>n.dispose())}function ai(t){return ae.keep(t)}function DA(t){return ae.setBackend(t)}function gH(){return ae.ready()}function OA(t,e,n=1){return ae.registerBackend(t,e,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vH(t,e){let n=V(t,"a","add"),r=V(e,"b","add");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(Jf,a)}const It=ne({add_:vH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yH(t,e){let n=V(t,"a","floorDiv"),r=V(e,"b","floorDiv");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(Gg,a)}const MA=ne({floorDiv_:yH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bH(t,e){let n=V(t,"a","div"),r=V(e,"b","div");if([n,r]=xr(n,r),n.dtype==="int32"&&r.dtype==="int32")return MA(n,r);const a={a:n,b:r},o={};return ae.runKernel(Bg,a,o)}const fn=ne({div_:bH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SH(t,e){let n=V(t,"a","mul"),r=V(e,"b","mul");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(wv,a)}const Ke=ne({mul_:SH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wH(t){const e=V(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ae.runKernel(DR,n)}else{const n={x:e};return ae.runKernel(rw,n)}}const Mo=ne({abs_:wH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _H(t){const n={x:V(t,"x","acos")};return ae.runKernel(lg,n)}const xH=ne({acos_:_H});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EH(t){const n={x:V(t,"x","acosh")};return ae.runKernel(cg,n)}const CH=ne({acosh_:EH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TH(t){W(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),W(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((a,o)=>V(a,`tensors${o}`,"addN")),n=e[0];e.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(a=>{if(!ts(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return ae.runKernel(dg,r)}const kH=ne({addN_:TH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IH(t,e=null,n=!1){const a={x:V(t,"x","all","bool")},o={axis:e,keepDims:n};return ae.runKernel(fg,a,o)}const RH=ne({all_:IH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AH(t,e=null,n=!1){const a={x:V(t,"x","any","bool")},o={axis:e,keepDims:n};return ae.runKernel(pg,a,o)}const NH=ne({any_:AH});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DH(t,e=0){const r={x:V(t,"x","argMax")},a={axis:e};return ae.runKernel(aw,r,a)}const OH=ne({argMax_:DH});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MH(t,e=0){const r={x:V(t,"x","argMin")},a={axis:e};return ae.runKernel(ow,r,a)}const $H=ne({argMin_:MH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FH(t){const n={x:V(t,"x","asin")};return ae.runKernel(hg,n)}const PH=ne({asin_:FH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LH(t){const n={x:V(t,"x","asinh")};return ae.runKernel(mg,n)}const BH=ne({asinh_:LH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zH(t){const n={x:V(t,"x","atan")};return ae.runKernel(gg,n)}const UH=ne({atan_:zH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VH(t,e){let n=V(t,"a","atan2"),r=V(e,"b","atan2");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(yg,a)}const jH=ne({atan2_:VH});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HH(t){const n={x:V(t,"x","atanh")};return ae.runKernel(vg,n)}const WH=ne({atanh_:HH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yc(t,e,n,r,a="NHWC",o){const i=t[3],l=[...e,i],d=Zc(a);return eo(t,l,n,o,r,null,null,d)}function Is(t,e,n,r,a,o,i="channelsLast"){const[l,d]=fp(e);let f;if(i==="channelsLast")f=[l,d,t[3],t[3]];else if(i==="channelsFirst")f=[l,d,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return eo(t,f,n,r,a,o,!1,i)}function Mu(t,e,n,r,a,o,i="NDHWC"){const[l,d,f]=o_(e);let c,h;if(i==="NDHWC")h="channelsLast",c=[l,d,f,t[4],t[4]];else if(i==="NCDHW")h="channelsFirst",c=[l,d,f,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return Ml(t,c,n,r,a,!1,h,o)}function eo(t,e,n,r,a,o,i=!1,l="channelsLast"){let[d,f,c,h]=[-1,-1,-1,-1];if(l==="channelsLast")[d,f,c,h]=t;else if(l==="channelsFirst")[d,h,f,c]=t;else throw new Error(`Unknown dataFormat ${l}`);const[g,v,,b]=e,[w,x]=fp(n),[E,T]=fp(r),C=Xc(g,E),I=Xc(v,T),{padInfo:D,outHeight:F,outWidth:B}=KH(a,f,c,w,x,C,I,o,l),H=i?b*h:b;let z;return l==="channelsFirst"?z=[d,H,F,B]:l==="channelsLast"&&(z=[d,F,B,H]),{batchSize:d,dataFormat:l,inHeight:f,inWidth:c,inChannels:h,outHeight:F,outWidth:B,outChannels:H,padInfo:D,strideHeight:w,strideWidth:x,filterHeight:g,filterWidth:v,effectiveFilterHeight:C,effectiveFilterWidth:I,dilationHeight:E,dilationWidth:T,inShape:t,outShape:z,filterShape:e}}function Ml(t,e,n,r,a,o=!1,i="channelsLast",l){let[d,f,c,h,g]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[d,f,c,h,g]=t;else if(i==="channelsFirst")[d,g,f,c,h]=t;else throw new Error(`Unknown dataFormat ${i}`);const[v,b,w,,x]=e,[E,T,C]=o_(n),[I,D,F]=o_(r),B=Xc(v,I),H=Xc(b,D),z=Xc(w,F),{padInfo:U,outDepth:O,outHeight:K,outWidth:G}=YH(a,f,c,h,E,T,C,B,H,z,l),Z=o?x*g:x;let J;return i==="channelsFirst"?J=[d,Z,O,K,G]:i==="channelsLast"&&(J=[d,O,K,G,Z]),{batchSize:d,dataFormat:i,inDepth:f,inHeight:c,inWidth:h,inChannels:g,outDepth:O,outHeight:K,outWidth:G,outChannels:Z,padInfo:U,strideDepth:E,strideHeight:T,strideWidth:C,filterDepth:v,filterHeight:b,filterWidth:w,effectiveFilterDepth:B,effectiveFilterHeight:H,effectiveFilterWidth:z,dilationDepth:I,dilationHeight:D,dilationWidth:F,inShape:t,outShape:J,filterShape:e}}function qH(t,e,n,r,a){r==null&&(r=$A(t,e,n));const o=t[0],i=t[1],l=pp((o-e+2*r)/n+1,a),d=pp((i-e+2*r)/n+1,a);return[l,d]}function GH(t,e,n,r,a,o){a==null&&(a=$A(t,e[0],r[0]));const i=[0,0,0,n];for(let l=0;l<3;l++)t[l]+2*a>=e[l]&&(i[l]=pp((t[l]-e[l]+2*a)/r[l]+1,o));return i}function $A(t,e,n,r=1){const a=Xc(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function fp(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function o_(t){return typeof t=="number"?[t,t,t]:t}function Xc(t,e){return e<=1?t:t+(t-1)*(e-1)}function KH(t,e,n,r,a,o,i,l,d){let f,c,h;if(typeof t=="number"){f={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const v=qH([e,n],o,r,t,l);c=v[0],h=v[1]}else if(t==="same"){c=Math.ceil(e/r),h=Math.ceil(n/a);const g=Math.max(0,(c-1)*r+o-e),v=Math.max(0,(h-1)*a+i-n),b=Math.floor(g/2),w=g-b,x=Math.floor(v/2),E=v-x;f={top:b,bottom:w,left:x,right:E,type:"SAME"}}else if(t==="valid")f={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/r),h=Math.ceil((n-i+1)/a);else if(typeof t=="object"){const g=d==="channelsLast"?t[1][0]:t[2][0],v=d==="channelsLast"?t[1][1]:t[2][1],b=d==="channelsLast"?t[2][0]:t[3][0],w=d==="channelsLast"?t[2][1]:t[3][1];f={top:g,bottom:v,left:b,right:w,type:g===0&&v===0&&b===0&&w===0?"VALID":"EXPLICIT"},c=pp((e-o+g+v)/r+1,l),h=pp((n-i+b+w)/a+1,l)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:f,outHeight:c,outWidth:h}}function YH(t,e,n,r,a,o,i,l,d,f,c){let h,g,v,b;if(t==="valid"&&(t=0),typeof t=="number"){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const x=GH([e,n,r,1],[l,d,f],1,[a,o,i],t,c);g=x[0],v=x[1],b=x[2]}else if(t==="same"){g=Math.ceil(e/a),v=Math.ceil(n/o),b=Math.ceil(r/i);const w=(g-1)*a+l-e,x=(v-1)*o+d-n,E=(b-1)*i+f-r,T=Math.floor(w/2),C=w-T,I=Math.floor(x/2),D=x-I,F=Math.floor(E/2),B=E-F;h={top:I,bottom:D,left:F,right:B,front:T,back:C,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:h,outDepth:g,outHeight:v,outWidth:b}}function pp(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function my(t){const[e,n,r]=fp(t);return e===1&&n===1&&r===1}function as(t,e){return my(t)||my(e)}function Qc(t){return fp(t).every(e=>e>0)}function Zc(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Rs(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")W(Xf(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(a=>{W(Xf(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XH(t,e){const r={x:V(t,"x","reshape","string_or_numeric")},a={shape:e};return ae.runKernel(Ew,r,a)}const Ae=ne({reshape_:XH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QH(t,e,n,r,a){const o=V(t,"x","avgPool","float32"),i=1;W(as(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let l=o,d=!1;o.rank===3&&(d=!0,l=Ae(o,[1,o.shape[0],o.shape[1],o.shape[2]])),W(l.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${l.rank}.`),Rs("avgPool",r,a);const f={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a};let h=ae.runKernel(bg,f,c);return h=yr(h,o.dtype),d?Ae(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const FA=ne({avgPool_:QH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZH(t,e,n,r,a,o="NDHWC"){const i=V(t,"x","avgPool3d","float32");let l=i,d=!1;i.rank===4&&(d=!0,l=Ae(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),W(l.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${l.rank}.`),W(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),W(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Rs("avgPool3d",r,a);const f={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let h=ae.runKernel(sw,f,c);return h=yr(h,l.dtype),d?Ae(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const JH=ne({avgPool3d_:ZH});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eW(t,e=0){W(t.length>=1,()=>"Pass at least one tensor to concat");const n=fy(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return Ou(n[0]);const r=n,a={axis:e};return ae.runKernel(lw,r,a)}const la=ne({concat_:eW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tW(t,e,n=!1,r=!1){let a=V(t,"a","matMul"),o=V(e,"b","matMul");[a,o]=xr(a,o);const i={a,b:o},l={transposeA:n,transposeB:r};return ae.runKernel(Sg,i,l)}const Xn=ne({matMul_:tW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nW(t){const n={x:V(t,"x","sigmoid","float32")};return ae.runKernel(qv,n)}const $l=ne({sigmoid_:nW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rW(t,e,n){const r=V(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:e,size:n};return ae.runKernel(Iw,a,o)}const Jt=ne({slice_:rW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aW(t){const n={x:V(t,"x","tanh","float32")};return ae.runKernel(ry,n)}const s_=ne({tanh_:aW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oW(t,e,n,r,a,o){const i=V(t,"forgetBias","basicLSTMCell"),l=V(e,"lstmKernel","basicLSTMCell"),d=V(n,"lstmBias","basicLSTMCell"),f=V(r,"data","basicLSTMCell"),c=V(a,"c","basicLSTMCell"),h=V(o,"h","basicLSTMCell"),g=la([f,h],1),v=Xn(g,l),b=It(v,d),w=b.shape[0],x=b.shape[1]/4,E=[w,x],T=Jt(b,[0,0],E),C=Jt(b,[0,x],E),I=Jt(b,[0,x*2],E),D=Jt(b,[0,x*3],E),F=It(Ke($l(T),s_(C)),Ke(c,$l(It(i,I)))),B=Ke(s_(F),$l(D));return[F,B]}const sW=ne({basicLSTMCell_:oW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iW(t,e,n){const r=V(t,"x","batchToSpaceND"),a=e.reduce((l,d)=>l*d);W(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),W(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),W(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);const o={x:r},i={blockShape:e,crops:n};return ae.runKernel(iw,o,i)}const PA=ne({batchToSpaceND_:iW});function uW(t){let e;return t.rank===0||t.rank===1?e=Ae(t,[1,1,1,t.size]):t.rank===2?e=Ae(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ae(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lW(t,e,n,r,a,o){o==null&&(o=.001);const i=V(t,"x","batchNorm"),l=V(e,"mean","batchNorm"),d=V(n,"variance","batchNorm");let f;a!=null&&(f=V(a,"scale","batchNorm"));let c;r!=null&&(c=V(r,"offset","batchNorm")),W(l.rank===d.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),W(c==null||l.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),W(f==null||l.rank===f.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const g={x:uW(i),scale:f,offset:c,mean:l,variance:d},v={varianceEpsilon:o},b=ae.runKernel(Kg,g,v);return Ae(b,i.shape)}const gy=ne({batchNorm_:lW});function cW(t,e,n,r,a,o){const i=V(t,"x","batchNorm"),l=V(e,"mean","batchNorm"),d=V(n,"variance","batchNorm");let f;a!=null&&(f=V(a,"scale","batchNorm"));let c;return r!=null&&(c=V(r,"offset","batchNorm")),W(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),W(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`),W(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${d.rank}.`),f!=null&&W(f.rank===2||f.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${f.rank}.`),c!=null&&W(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),gy(i,l,d,c,f,o)}const dW=ne({batchNorm2d_:cW});function fW(t,e,n,r,a,o){const i=V(t,"x","batchNorm"),l=V(e,"mean","batchNorm"),d=V(n,"variance","batchNorm");let f;a!=null&&(f=V(a,"scale","batchNorm"));let c;return r!=null&&(c=V(r,"offset","batchNorm")),W(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),W(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`),W(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${d.rank}.`),f!=null&&W(f.rank===3||f.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${f.rank}.`),c!=null&&W(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),gy(i,l,d,c,f,o)}const pW=ne({batchNorm3d_:fW});function hW(t,e,n,r,a,o){const i=V(t,"x","batchNorm"),l=V(e,"mean","batchNorm"),d=V(n,"variance","batchNorm");let f;a!=null&&(f=V(a,"scale","batchNorm"));let c;return r!=null&&(c=V(r,"offset","batchNorm")),W(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),W(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`),W(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${d.rank}.`),f!=null&&W(f.rank===4||f.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${f.rank}.`),c!=null&&W(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),gy(i,l,d,c,f,o)}const mW=ne({batchNorm4d_:hW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gW(t,e,n){const r=V(t,"x","bincount"),a=V(e,"weights","bincount");W(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),W(n>=0,()=>`size must be non-negative, but got ${n}.`),W(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const o={x:r,weights:a},i={size:n};return ae.runKernel(wg,o,i)}const LA=ne({bincount_:gW});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vW(t,e){const n=V(t,"x","bitwiseAnd"),r=V(e,"y","bitwiseAnd");if(!ts(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const a={a:n,b:r};return ae.runKernel(_g,a)}const yW=ne({bitwiseAnd_:vW});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bW(t,e){const n=V(t,"s0","broadcastArgs","int32"),r=V(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return ae.runKernel(uw,a)}const SW=ne({broadcastArgs_:bW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wW(t,e){let n=V(t,"broadcastTo","x");const r=n.shape;if(Oo(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const f=n.shape.slice();for(;f.length<e.length;)f.unshift(1);n=Ae(n,f)}const a=n.shape,o=Array.from(e);for(let f=e.length-1;f>=0;f--)if(a[f]===e[f])o[f]=1;else if(n.shape[f]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(o.map((f,c)=>f>1?c:-1).filter(f=>f>=0).length===0)return Ou(n);const l={x:n},d={reps:o};return ae.runKernel(tp,l,d)}const hp=ne({broadcastTo_:wW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _W(t){const n={x:V(t,"x","ceil","float32")};return ae.runKernel(Eg,n)}const xW=ne({ceil_:_W});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mp(t,e,n){Oo(t),n=n||Zf(e);const r={shape:t,value:e,dtype:n};return ae.runKernel(mw,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EW(t,e,n){const r=V(t,"x","clipByValue");if(W(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return mp(r.shape,e,r.dtype);const a={x:r},o={clipValueMin:e,clipValueMax:n};return ae.runKernel(ep,a,o)}const BA=ne({clipByValue_:EW});function CW(t){return la(t,0)}const TW=ne({concat1d_:CW});function kW(t,e){return la(t,e)}const IW=ne({concat2d_:kW});function RW(t,e){return la(t,e)}const AW=ne({concat3d_:RW});function NW(t,e){return la(t,e)}const DW=ne({concat4d_:NW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OW(t,e,n,r,a="NHWC",o=[1,1],i){const l=V(t,"x","conv2d","float32"),d=V(e,"filter","conv2d","float32");let f=l,c=!1;l.rank===3&&(c=!0,f=Ae(l,[1,l.shape[0],l.shape[1],l.shape[2]])),W(f.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${f.rank}.`),W(d.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${d.rank}.`),Rs("conv2d",r,i);const h=a==="NHWC"?f.shape[3]:f.shape[1];W(h===d.shape[2],()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${d.shape[2]}.`),W(as(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),W(Qc(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),W(Qc(n),()=>"Error in conv2D: Strides should be larger than 0.");const g={x:f,filter:d},v={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},b=ae.runKernel(Cg,g,v);return c?Ae(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const vy=ne({conv2d_:OW});function MW(t,e,n,r,a="NWC",o=1,i){const l=V(t,"x","conv1d"),d=V(e,"filter","conv1d");let f=l,c=!1;l.rank===2&&(c=!0,f=Ae(l,[1,l.shape[0],l.shape[1]])),W(f.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${f.rank}.`),W(d.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${d.rank}.`),Rs("conv1d",r,i),W(f.shape[2]===d.shape[1],()=>`Error in conv1d: depth of input (${f.shape[2]}) must match input depth for filter ${d.shape[1]}.`),W(as(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),W(Qc(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),W(Qc(n),()=>"Error in conv1D: Stride should be larger than 0."),W(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const h=Ae(d,[1,d.shape[0],d.shape[1],d.shape[2]]),g=Ae(f,[f.shape[0],1,f.shape[1],f.shape[2]]),x=vy(g,h,[1,n],r,"NHWC",[1,o],i);return c?Ae(x,[x.shape[2],x.shape[3]]):Ae(x,[x.shape[0],x.shape[2],x.shape[3]])}const $W=ne({conv1d_:MW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FW(t,e,n,r,a,o="NHWC",i){W(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let l=t,d=e,f=!1;e.rank===3&&(f=!0,d=Ae(e,[1,e.shape[0],e.shape[1],e.shape[2]]),l=[1,t[0],t[1],t[2]]),W(l.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${l.length}.`),W(d.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${d.rank}`),W(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?l[3]:l[1],h=o==="NHWC"?d.shape[3]:d.shape[1];W(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),W(h===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[3]}.`),Rs("conv2dDerInput",a,i);const g={dy:d,filter:n},v={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,inputShape:l},b=ae.runKernel(Tg,g,v);return f?Ae(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const zA=ne({conv2DBackpropInput_:FW});function PW(t,e,n,r,a,o){const i=V(t,"x","conv2dTranspose"),l=V(e,"filter","conv2dTranspose");return zA(n,i,l,r,a,"NHWC",o)}const LW=ne({conv2dTranspose_:PW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BW(t,e,n,r,a="NDHWC",o=[1,1,1]){const i=V(t,"x","conv3d"),l=V(e,"filter","conv3d");let d=i,f=!1;i.rank===4&&(f=!0,d=Ae(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),W(d.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${d.rank}.`),W(l.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${l.rank}.`),W(d.shape[4]===l.shape[3],()=>`Error in conv3d: depth of input (${d.shape[4]}) must match input depth for filter ${l.shape[3]}.`),W(as(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),W(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),W(Qc(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),W(Qc(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:d,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o},g=ae.runKernel(kg,c,h);return f?Ae(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const zW=ne({conv3d_:BW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UW(t,e,n,r,a){W(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,i=e,l=!1;e.rank===4&&(l=!0,i=Ae(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const d=o[4],f=i.shape[4];W(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),W(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),W(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),W(d===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${d}) must match input depth for filter ${n.shape[3]}.`),W(f===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[4]}.`);const c={dy:i,filter:n},h={pad:a,strides:r,inputShape:o},g=ae.runKernel(Ig,c,h);return l?Ae(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const VW=ne({conv3DBackpropInput_:UW});function jW(t,e,n,r,a){const o=V(t,"x","conv3dTranspose"),i=V(e,"filter","conv3dTranspose");return VW(n,o,i,r,a)}const HW=ne({conv3dTranspose_:jW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WW(t){const n={x:V(t,"x","cos","float32")};return ae.runKernel(Rg,n)}const qW=ne({cos_:WW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GW(t){const n={x:V(t,"x","cosh","float32")};return ae.runKernel(Ag,n)}const KW=ne({cosh_:GW});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YW(t,e=0,n=!1,r=!1){const o={x:V(t,"x","cumprod")},i={axis:e,exclusive:n,reverse:r};return ae.runKernel(Ng,o,i)}const XW=ne({cumprod_:YW});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QW(t,e=0,n=!1,r=!1){const o={x:V(t,"x","cumsum")},i={axis:e,exclusive:n,reverse:r};return ae.runKernel(Dg,o,i)}const ZW=ne({cumsum_:QW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JW(t,e,n,r=!1){const a=V(t,"x","denseBincount"),o=V(e,"weights","denseBincount");W(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),W(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),W(n>=0,()=>`size must be non-negative, but got ${n}.`),W(o.size===a.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${o.shape}.`);const i={x:a,weights:o},l={size:n,binaryOutput:r};return ae.runKernel(dw,i,l)}const eq=ne({denseBincount_:JW});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tq(t,e,n="NHWC"){const r=V(t,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];W(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),W(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e}  for depthToSpace with input shape
    ${r.shape}`),W(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e} for depthToSpace with input shape
        ${r.shape}`),W(i%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${r.shape}`);const l={x:r},d={blockSize:e,dataFormat:n};return ae.runKernel(Mg,l,d)}const nq=ne({depthToSpace_:tq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rq(t,e,n,r,a="NHWC",o=[1,1],i){const l=V(t,"x","depthwiseConv2d","float32"),d=V(e,"filter","depthwiseConv2d","float32");let f=l,c=!1;l.rank===3&&(c=!0,f=Ae(l,[1,l.shape[0],l.shape[1],l.shape[2]])),W(f.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`),W(d.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`);const h=a==="NHWC"?f.shape[3]:f.shape[1];W(h===d.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${h}) must match the inChannels dimension in filter ${d.shape[2]}.`),Rs("depthwiseConv2d",r,i);const g={x:f,filter:d},v={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},b=ae.runKernel($g,g,v);return c?Ae(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const i_=ne({depthwiseConv2d_:rq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aq(t){const n={x:V(t,"x","diag")};return ae.runKernel(fw,n)}const oq=ne({diag_:aq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sq(t,e,n,r,a=[1,1],o="NHWC"){const i=V(t,"x","dilation2d"),l=V(e,"filter","dilation2d");W(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),W(l.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${l.rank}.`),W(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let d=i,f=!1;i.rank===3&&(d=Ae(i,[1,i.shape[0],i.shape[1],i.shape[2]]),f=!0),W(d.shape[3]===l.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${d.shape[3]} vs ${l.shape[2]}`);const c={x:d,filter:l},h={strides:n,pad:r,dilations:a},g=ae.runKernel(Fg,c,h);return f?Ae(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const iq=ne({dilation2d_:sq});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yy(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const o=n-1-a,i=t[o]||1;(e[e.length-1-a]||1)>1&&i===1&&r.unshift(o)}return r}function uq(t,e){const n=[];for(let r=0;r<e.length;r++){const a=t[t.length-r-1],o=e.length-r-1,i=e[o];(a==null||a===1&&i>1)&&n.unshift(o)}return n}function nr(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let a=0;a<n;a++){let o=t[t.length-a-1];o==null&&(o=1);let i=e[e.length-a-1];if(i==null&&(i=1),o===1)r[n-a-1]=i;else if(i===1)r[n-a-1]=o;else if(o!==i){const l=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(l)}else r[n-a-1]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lq(t,e){let n=V(t,"a","equal","string_or_numeric"),r=V(e,"b","equal","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(Vg,a)}const UA=ne({equal_:lq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cq(t,e,n){const r=V(e,"a","where"),a=V(n,"b","where"),o=V(t,"condition","where","bool"),i=nr(nr(o.shape,r.shape),a.shape),l=hp(o,i),d=hp(r,i),f=hp(a,i),c={condition:l,t:d,e:f};return ae.runKernel(kw,c)}const $u=ne({where_:cq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dq(t){const n={x:V(t,"x","zerosLike")};return ae.runKernel(zw,n)}const $o=ne({zerosLike_:dq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fq(t,e){let n=V(t,"a","div"),r=V(e,"b","div");[n,r]=xr(n,r);const a=fn(n,r),o=$o(a),i=UA(r,o);return $u(i,o,a)}const pq=ne({divNoNan_:fq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hq(t,e){const n=V(t,"t1","dot"),r=V(e,"t2","dot");W((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(W(a===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${o}.`),n.rank===1&&r.rank===1){const i=Ae(n,[1,-1]),l=Ae(r,[-1,1]),d=Xn(i,l);return Ae(d,[])}else if(n.rank===1&&r.rank===2){const i=Ae(n,[1,-1]),l=Ae(r,[r.shape[0],r.shape[1]]),d=Xn(i,l);return Ae(d,[d.size])}else if(n.rank===2&&r.rank===1){const i=Ae(r,[-1,1]),l=Xn(n,i);return Ae(l,[l.size])}else{const i=Ae(r,[r.shape[0],r.shape[1]]);return Xn(n,i)}}const mq=ne({dot_:hq});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gq(t,...e){const n=e.map((a,o)=>V(a,`tensors${o}`,"einsum")),r={equation:t};return ae.runKernel(FR,n,r)}const Jc=ne({einsum_:gq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vq(t){const n={x:V(t,"x","elu","float32")};return ae.runKernel(zg,n)}const VA=ne({elu_:vq});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yq(t,e){const n=V(t,"x","ensureShape","string_or_numeric");if(!qV(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const bq=ne({ensureShape_:yq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sq(t){let e=V(t,"x","erf");W(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=yr(e,"float32"));const n={x:e};return ae.runKernel(Ug,n)}const wq=ne({erf_:Sq});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jA(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function _q(t,e,n){const r=t.length+e.length,a=[];let o=0,i=0;for(let l=0;l<r;l++)n.indexOf(l)===-1?a.push(t[o++]):a.push(e[i++]);return a}function Ba(t,e){const n=[],r=t.length;for(let o=0;o<r;o++)e.indexOf(o)===-1&&n.push(t[o]);const a=e.map(o=>t[o]);return[n,a]}function ca(t,e){const n=e.map(r=>1);return _q(t,n,e)}function za(t,e,n){W(jA(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Fo(t,e){if(jA(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function by(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Ua(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xq(t,e=null,n=!1){const a={x:V(t,"x","max")},o={reductionIndices:e,keepDims:n};return ae.runKernel(fv,a,o)}const ed=ne({max_:xq});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eq(t,e=null,n=!1){const a={x:V(t,"x","min")},o={axis:e,keepDims:n};return ae.runKernel(gv,a,o)}const u_=ne({min_:Eq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cq(t,e){let n=V(t,"base","pow"),r=V(e,"exp","pow");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(Iv,a)}const gp=ne({pow_:Cq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xn(t,e){if((rs(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&rs(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Nu(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tq(t){const n={x:V(t,"x","sqrt","float32")};return ae.runKernel(Kv,n)}const Pi=ne({sqrt_:Tq});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kq(t){const e=V(t,"x","square"),n={};return ae.runKernel("Square",{x:e},n)}const As=ne({square_:kq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iq(t,e=null,n=!1){let r=V(t,"x","sum");r.dtype==="bool"&&(r=yr(r,"int32"));const a={x:r},o={axis:e,keepDims:n};return ae.runKernel(Yv,a,o)}const ir=ne({sum_:Iq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rq(t,e="euclidean",n=null,r=!1){t=V(t,"x","norm");const a=HA(t,e,n);let o=a.shape;if(r){const i=gr(n,t.shape);o=ca(a.shape,i)}return Ae(a,o)}function HA(t,e,n=null){if(t.rank===0)return Mo(t);if(t.rank!==1&&n===null)return HA(Ae(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return ir(Mo(t),n);if(e===1/0)return ed(Mo(t),n);if(e===-1/0)return u_(Mo(t),n);if(e==="euclidean"||e===2)return Pi(ir(gp(Mo(t),xn(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return ed(ir(Mo(t),n[0]),n[1]-1);if(e===1/0)return ed(ir(Mo(t),n[1]),n[0]);if(e===-1/0)return u_(ir(Mo(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Pi(ir(As(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Sy=ne({norm_:Rq});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aq(t,e=null,n=!1){return Sy(t,"euclidean",e,n)}const Nq=ne({euclideanNorm_:Aq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dq(t){const n={x:V(t,"x","exp")};return ae.runKernel(jg,n)}const Li=ne({exp_:Dq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oq(t,e=0){const n=V(t,"x","expandDims","string_or_numeric");W(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:e};return ae.runKernel(hw,r,a)}const oi=ne({expandDims_:Oq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mq(t){const n={x:V(t,"x","expm1")};return ae.runKernel(Hg,n)}const $q=ne({expm1_:Mq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fq(t,e){const n=V(t,"x","tile","string_or_numeric");W(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},a={reps:e};return ae.runKernel(tp,r,a)}const vp=ne({tile_:Fq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pq(t,e,n,r="float32"){e==null&&(e=t);const a=cn([t,e],r),o=t<=e?t:e;for(let l=0;l<o;++l)a.set(1,l,l);const i=Ae(a.toTensor(),[t,e]);if(n==null)return i;if(n.length===1)return vp(oi(i,0),[n[0],1,1]);if(n.length===2)return vp(oi(oi(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return vp(oi(oi(oi(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const WA=ne({eye_:Pq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lq(t){const n={x:V(t,"x","floor","float32")};return ae.runKernel(qg,n)}const qA=ne({floor_:Lq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bq(t,e,n=0,r=0){const a=V(t,"x","gather"),o=V(e,"indices","gather","int32"),i={x:a,indices:o},l={axis:n,batchDims:r};return ae.runKernel(gw,i,l)}const GA=ne({gather_:Bq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zq(t,e){let n=V(t,"a","greater","string_or_numeric"),r=V(e,"b","greater","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(Xg,a)}const wy=ne({greater_:zq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uq(t,e){let n=V(t,"a","greaterEqual","string_or_numeric"),r=V(e,"b","greaterEqual","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(Qg,a)}const KA=ne({greaterEqual_:Uq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vq(t){const n={input:V(t,"input","imag")};return ae.runKernel(BR,n)}const _y=ne({imag_:Vq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jq(t){const n={x:V(t,"x","isFinite")};return ae.runKernel(Jg,n)}const Hq=ne({isFinite_:jq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wq(t){const n={x:V(t,"x","isInf")};return ae.runKernel(ev,n)}const qq=ne({isInf_:Wq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gq(t){const n={x:V(t,"x","isNaN")};return ae.runKernel(tv,n)}const Kq=ne({isNaN_:Gq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yq(t,e=.2){const r={x:V(t,"x","leakyRelu")},a={alpha:e};return ae.runKernel(nv,r,a)}const YA=ne({leakyRelu_:Yq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xq(t,e){let n=V(t,"a","less","string_or_numeric"),r=V(e,"b","less","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(rv,a)}const l_=ne({less_:Xq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qq(t,e){let n=V(t,"a","lessEqual","string_or_numeric"),r=V(e,"b","lessEqual","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(av,a)}const c_=ne({lessEqual_:Qq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zq(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return ae.runKernel(ov,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jq(t,e=5,n=1,r=1,a=.5){const o=V(t,"x","localResponseNormalization");W(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),W(Xf(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let i=o,l=!1;o.rank===3&&(l=!0,i=Ae(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const d={x:i},f={depthRadius:e,bias:n,alpha:r,beta:a},c=ae.runKernel(dv,d,f);return l?Ae(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const eG=ne({localResponseNormalization_:Jq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tG(t){const n={x:V(t,"x","log","float32")};return ae.runKernel(sv,n)}const yp=ne({log_:tG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nG(t){const n={x:V(t,"x","log1p")};return ae.runKernel(iv,n)}const XA=ne({log1p_:nG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rG(t,e){W(JS(t),()=>"The f passed in variableGrads(f) must be a function"),W(e==null||Array.isArray(e)&&e.every(f=>f instanceof dy),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const f in ae.registeredVariables)e.push(ae.registeredVariables[f])}const r=n?e.filter(f=>!f.trainable):null,a=e.length;e=e.filter(f=>f.trainable),W(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const o=!0,{value:i,grads:l}=ae.gradients(t,e,null,o);W(l.some(f=>f!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),W(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const d={};return e.forEach((f,c)=>{l[c]!=null&&(d[f.name]=l[c])}),r!=null&&r.forEach(f=>d[f.name]=null),{value:i,grads:d}}function Bi(t){return ae.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aG(t){const n={x:V(t,"x","neg")};return ae.runKernel(Sw,n)}const si=ne({neg_:aG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oG(t){const n={x:V(t,"x","softplus")};return ae.runKernel(Gv,n)}const QA=ne({softplus_:oG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sG(t){const e=V(t,"x","logSigmoid");return Bi(r=>({value:si(QA(si(r))),gradFunc:i=>Ke(i,$l(si(r)))}))(e)}const iG=ne({logSigmoid_:sG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uG(t,e){let n=V(t,"a","sub"),r=V(e,"b","sub");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(ty,a)}const en=ne({sub_:uG});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lG(t,e=-1){const n=V(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Bi((a,o)=>{const l=ed(a,e,!0),d=en(a,l),f=en(yr(d,"float32"),yp(ir(Li(d),e,!0)));return o([f]),{value:f,gradFunc:(h,g)=>{const[v]=g,b=!0,w=Li(v);return en(h,Ke(ir(h,e,b),w))}}})(n)}const cG=ne({logSoftmax_:lG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dG(t,e=null,n=!1){const r=V(t,"x","logSumExp"),a=gr(e,r.shape),o=ed(r,a,!0),i=en(r,o),l=Li(i),d=ir(l,a),f=yp(d),c=It(Ae(o,f.shape),f);if(n){const h=ca(c.shape,a);return Ae(c,h)}return c}const ZA=ne({logSumExp_:dG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fG(t,e){const n=V(t,"a","logicalAnd","bool"),r=V(e,"b","logicalAnd","bool");nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(uv,a)}const xy=ne({logicalAnd_:fG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pG(t){const n={x:V(t,"x","logicalNot","bool")};return ae.runKernel(lv,n)}const JA=ne({logicalNot_:pG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hG(t,e){const n=V(t,"a","logicalOr","bool"),r=V(e,"b","logicalOr","bool");nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(cv,a)}const eN=ne({logicalOr_:hG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mG(t,e){const n=V(t,"a","logicalXor","bool"),r=V(e,"b","logicalXor","bool");return nr(n.shape,r.shape),xy(eN(t,e),JA(xy(t,e)))}const gG=ne({logicalXor_:mG});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ey=2147483648;function vG(t,e,n="left"){const r=V(t,"sortedSequence","searchSorted"),a=V(e,"values","searchSorted"),o=r.shape[r.shape.length-1],i=a.shape[a.shape.length-1],l=Ae(r,[-1,o]),d=Ae(a,[-1,i]);if(l.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(l.shape[0]!==d.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ce(d.shape)>=Ey)throw new Error(`values tensor size must less than ${Ey}`);if(l.shape[1]>=Ey)throw new Error(`trailing dim_size must less than ${Ey} for int32 output type, was ${l.shape[1]}`);const f={sortedSequence:l,values:d},c={side:n};return ae.runKernel(Uv,f,c)}const d_=ne({searchSorted_:vG});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yG(t,e){return d_(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bG(t,e,n,r,a){const o=V(t,"x","maxPool"),i=1;let l=o,d=!1;o.rank===3&&(d=!0,l=Ae(o,[1,o.shape[0],o.shape[1],o.shape[2]])),W(l.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${l.rank}.`),W(as(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),Rs("maxPool",r,a);const f={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a},h=ae.runKernel(hv,f,c);return d?Ae(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const tN=ne({maxPool_:bG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SG(t,e=[1,1,1],n,r,a,o="NDHWC"){const i=V(t,"x","maxPool3d");let l=i,d=!1;i.rank===4&&(d=!0,l=Ae(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),W(l.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${l.rank}.`),W(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Rs("maxPool3d",r,a);const f={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},h=ae.runKernel(yw,f,c);return d?Ae(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const wG=ne({maxPool3d_:SG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _G(t,e,n,r,a=!1){const i={x:V(t,"x","maxPoolWithArgmax")},l={filterSize:e,strides:n,pad:r,includeBatchInIndex:a},d=ae.runKernel(bw,i,l);return{result:d[0],indexes:d[1]}}const xG=ne({maxPoolWithArgmax_:_G});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EG(t,e){let n=V(t,"a","maximum"),r=V(e,"b","maximum");[n,r]=xr(n,r),n.dtype==="bool"&&(n=yr(n,"int32"),r=yr(r,"int32")),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(pv,a)}const nN=ne({maximum_:EG});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CG(t,e=null,n=!1){const a={x:V(t,"x","mean")},o={axis:e,keepDims:n};return ae.runKernel(mv,a,o)}const Cy=ne({mean_:CG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function td(t,e="float32"){if(Oo(t),e==="complex64"){const r=td(t,"float32"),a=td(t,"float32");return Au(r,a)}const n=xa(Ce(t),e);return ae.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fl(t,e="float32"){if(Oo(t),e==="complex64"){const r=Fl(t,"float32"),a=td(t,"float32");return Au(r,a)}const n=ew(Ce(t),e);return ae.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TG(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=V(t,"x","meshgrid",t instanceof Lr?t.dtype:"float32");if(e===void 0)return[r];let a=V(e,"y","meshgrid",e instanceof Lr?e.dtype:"float32");const o=Ce(r.shape),i=Ce(a.shape);return n==="xy"?(r=Ae(r,[1,-1]),a=Ae(a,[-1,1]),[Xn(Fl([i,1],r.dtype),r),Xn(a,Fl([1,o],a.dtype))]):(r=Ae(r,[-1,1]),a=Ae(a,[1,-1]),[Xn(r,Fl([1,i],r.dtype)),Xn(Fl([o,1],a.dtype),a)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kG(t,e){let n=V(t,"a","minimum"),r=V(e,"b","minimum");[n,r]=xr(n,r),n.dtype==="bool"&&(n=yr(n,"int32"),r=yr(r,"int32")),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(vv,a)}const Ty=ne({minimum_:kG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IG(t,e,n){W(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=V(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");W(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const a=n==="reflect"?1:0;for(let l=0;l<r.rank;l++)W(e[l].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),W(e[l][0]>=0&&e[l][0]<=r.shape[l]-a&&e[l][1]>=0&&e[l][1]<=r.shape[l]-a,()=>`Padding in dimension ${l} cannot be greater than or equal to ${r.shape[l]-a} or less than 0 for input of shape ${r.shape}`);const o={paddings:e,mode:n},i={x:r};return ae.runKernel(yv,i,o)}const RG=ne({mirrorPad_:IG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AG(t,e){let n=V(t,"a","mod"),r=V(e,"b","mod");[n,r]=xr(n,r);const a={a:n,b:r};return ae.runKernel(bv,a)}const NG=ne({mod_:AG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DG(t,e=null,n=!1){t=V(t,"x","moments");const r=gr(e,t.shape),a=Cy(t,r,n);let o=a.shape;n||(o=ca(a.shape,r));const i=As(en(yr(t,"float32"),Ae(a,o))),l=Cy(i,r,n);return{mean:a,variance:l}}const OG=ne({moments_:DG});function MG(t,e,n,r){const a=V(e,"data","multiRNNCell"),o=fy(n,"c","multiRNNCell"),i=fy(r,"h","multiRNNCell");let l=a;const d=[];for(let h=0;h<t.length;h++){const g=t[h](l,o[h],i[h]);d.push(g[0]),d.push(g[1]),l=g[1]}const f=[],c=[];for(let h=0;h<d.length;h+=2)f.push(d[h]),c.push(d[h+1]);return[f,c]}const $G=ne({multiRNNCell_:MG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FG(t,e,n,r=!1){const a=V(t,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const d={logits:i===1?Ae(a,[1,-1]):a},f={numSamples:e,seed:n,normalized:r},c=ae.runKernel(Sv,d,f);return i===1?Ae(c,[c.size]):c}const PG=ne({multinomial_:FG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LG(t,e){let n=V(t,"a","notEqual","string_or_numeric"),r=V(e,"b","notEqual","string_or_numeric");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r};return ae.runKernel(_v,a)}const rN=ne({notEqual_:LG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BG(t,e,n=1,r=0,a="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const i={indices:V(t,"indices","oneHot","int32")},l={dtype:a,depth:e,onValue:n,offValue:r};return ae.runKernel(Tv,i,l)}const zG=ne({oneHot_:BG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UG(t){const n={x:V(t,"x","onesLike")};return ae.runKernel(ww,n)}const VG=ne({onesLike_:UG});function jG(t,e){const n=V(t,"v1","outerProduct"),r=V(e,"v2","outerProduct");W(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const a=Ae(n,[-1,1]),o=Ae(r,[1,-1]);return Xn(a,o)}const HG=ne({outerProduct_:jG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WG(t,e,n=0){const r=V(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:e,constantValue:n},o={x:r};return ae.runKernel(kv,o,a)}const bp=ne({pad_:WG});function qG(t,e,n=0){return W(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),bp(t,[e],n)}const GG=ne({pad1d_:qG});function KG(t,e,n=0){return W(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),bp(t,e,n)}const YG=ne({pad2d_:KG});function XG(t,e,n=0){return W(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),bp(t,e,n)}const QG=ne({pad3d_:XG});function ZG(t,e,n=0){return W(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),bp(t,e,n)}const JG=ne({pad4d_:ZG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eK(t,e,n){const r=V(t,"x","spaceToBatchND");W(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),W(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),W(r.shape.reduce((i,l,d)=>d>0&&d<=e.length?i&&(l+n[d-1][0]+n[d-1][1])%e[d-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const a={x:r},o={blockShape:e,paddings:n};return ae.runKernel(Rw,a,o)}const aN=ne({spaceToBatchND_:eK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tK(t,e,n,r,a,o,i){a==null&&(a=[1,1]),o==null&&(o=1),r===0&&(r="valid");const l=V(t,"x","maxPool");let d=l,f=!1;l.rank===3&&(f=!0,d=Ae(l,[1,l.shape[0],l.shape[1],l.shape[2]])),W(as(o,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${a}'`);const c=Is(d.shape,e,o,a,r),h=[c.dilationHeight,c.dilationWidth];let g;r==="same"?g=rK([c.filterHeight,c.filterWidth],h):g=[[0,0],[0,0]];const v=h[0]===1&&h[1]===1,[b,w]=nK([c.inHeight,c.inWidth],h,g),x=v?r:"valid",E=v?d:aN(d,h,b),C=(n==="avg"?()=>FA(E,e,o,x,i):()=>tN(E,e,o,x,i))(),I=v?C:PA(C,h,w);return f?Ae(I,[I.shape[1],I.shape[2],I.shape[3]]):I}function nK(t,e,n){const r=n.map(c=>c[0]),a=n.map(c=>c[1]),o=t.concat(r,a),i=e.map((c,h)=>(c-o[h]%c)%c),l=a.map((c,h)=>c+i[h]),d=e.map((c,h)=>[r[h],l[h]]),f=e.map((c,h)=>[0,i[h]]);return[d,f]}function rK(t,e){const r=t.map((i,l)=>i+(i-1)*(e[l]-1)).map(i=>i-1),a=r.map(i=>Math.floor(i/2)),o=r.map((i,l)=>i-a[l]);return r.map((i,l)=>[a[l],o[l]])}const aK=ne({pool_:tK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oK(t,e){const n=V(t,"x","prelu"),r=V(e,"alpha","prelu"),a={x:n,alpha:r};return ae.runKernel(Rv,a)}const oN=ne({prelu_:oK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sK(t,e=null,n=!1){let r=V(t,"x","prod");r.dtype==="bool"&&(r=yr(r,"int32"));const a={x:r},o={axis:e,keepDims:n};return ae.runKernel(Av,a,o)}const iK=ne({prod_:sK});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uK(t,e,n,r){const a=t.map((c,h)=>V(c,`tensors${h}`,"raggedGather","int32")),o=V(e,"paramsDenseValues","raggedGather"),i=V(n,"indices","raggedGather","int32"),l={paramsNestedSplits:a,paramsDenseValues:o,indices:i},d={outputRaggedRank:r},f=ae.runKernel(VR,l,d);return{outputNestedSplits:f.slice(0,f.length-1),outputDenseValues:f[f.length-1]}}const lK=ne({raggedGather_:uK});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cK(t,e,n){const r=V(t,"starts","raggedRange"),a=V(e,"limits","raggedRange",r.dtype),o=V(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:a,deltas:o},l=ae.runKernel(jR,i);return{rtNestedSplits:l[0],rtDenseValues:l[1]}}const dK=ne({raggedRange_:cK});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fK(t,e,n,r,a){const o=V(t,"shape","raggedTensorToTensor","int32"),i=V(e,"values","raggedTensorToTensor"),l=V(n,"defaultValue","raggedTensorToTensor",i.dtype),d=r.map((h,g)=>V(h,`tensors${g}`,"raggedTensorToTensor","int32")),f={shape:o,values:i,defaultValue:l,rowPartitionTensors:d},c={rowPartitionTypes:a};return ae.runKernel(HR,f,c)}const pK=ne({raggedTensorToTensor_:fK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hK(t,e,n){Oo(t);const r=Ce(t);let a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else if(n==="bool")a=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)a[o]=e();return ae.makeTensor(a,t,n)}const mK=ne({rand_:hK});var ky={exports:{}},gK=ky.exports,sN;function vK(){return sN||(sN=1,function(t){(function(e,n,r){function a(d){var f=this,c=l();f.next=function(){var h=2091639*f.s0+f.c*23283064365386963e-26;return f.s0=f.s1,f.s1=f.s2,f.s2=h-(f.c=h|0)},f.c=1,f.s0=c(" "),f.s1=c(" "),f.s2=c(" "),f.s0-=c(d),f.s0<0&&(f.s0+=1),f.s1-=c(d),f.s1<0&&(f.s1+=1),f.s2-=c(d),f.s2<0&&(f.s2+=1),c=null}function o(d,f){return f.c=d.c,f.s0=d.s0,f.s1=d.s1,f.s2=d.s2,f}function i(d,f){var c=new a(d),h=f&&f.state,g=c.next;return g.int32=function(){return c.next()*4294967296|0},g.double=function(){return g()+(g()*2097152|0)*11102230246251565e-32},g.quick=g,h&&(typeof h=="object"&&o(h,c),g.state=function(){return o(c,{})}),g}function l(){var d=4022871197,f=function(c){c=String(c);for(var h=0;h<c.length;h++){d+=c.charCodeAt(h);var g=.02519603282416938*d;d=g>>>0,g-=d,g*=d,d=g>>>0,g-=d,d+=g*4294967296}return(d>>>0)*23283064365386963e-26};return f}n&&n.exports?n.exports=i:this.alea=i})(gK,t)}(ky)),ky.exports}var Iy={exports:{}},yK=Iy.exports,iN;function bK(){return iN||(iN=1,function(t){(function(e,n,r){function a(l){var d=this,f="";d.x=0,d.y=0,d.z=0,d.w=0,d.next=function(){var h=d.x^d.x<<11;return d.x=d.y,d.y=d.z,d.z=d.w,d.w^=d.w>>>19^h^h>>>8},l===(l|0)?d.x=l:f+=l;for(var c=0;c<f.length+64;c++)d.x^=f.charCodeAt(c)|0,d.next()}function o(l,d){return d.x=l.x,d.y=l.y,d.z=l.z,d.w=l.w,d}function i(l,d){var f=new a(l),c=d&&d.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var g=f.next()>>>11,v=(f.next()>>>0)/4294967296,b=(g+v)/(1<<21);while(b===0);return b},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&o(c,f),h.state=function(){return o(f,{})}),h}n&&n.exports?n.exports=i:this.xor128=i})(yK,t)}(Iy)),Iy.exports}var Ry={exports:{}},SK=Ry.exports,uN;function wK(){return uN||(uN=1,function(t){(function(e,n,r){function a(l){var d=this,f="";d.next=function(){var h=d.x^d.x>>>2;return d.x=d.y,d.y=d.z,d.z=d.w,d.w=d.v,(d.d=d.d+362437|0)+(d.v=d.v^d.v<<4^(h^h<<1))|0},d.x=0,d.y=0,d.z=0,d.w=0,d.v=0,l===(l|0)?d.x=l:f+=l;for(var c=0;c<f.length+64;c++)d.x^=f.charCodeAt(c)|0,c==f.length&&(d.d=d.x<<10^d.x>>>4),d.next()}function o(l,d){return d.x=l.x,d.y=l.y,d.z=l.z,d.w=l.w,d.v=l.v,d.d=l.d,d}function i(l,d){var f=new a(l),c=d&&d.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var g=f.next()>>>11,v=(f.next()>>>0)/4294967296,b=(g+v)/(1<<21);while(b===0);return b},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&o(c,f),h.state=function(){return o(f,{})}),h}n&&n.exports?n.exports=i:this.xorwow=i})(SK,t)}(Ry)),Ry.exports}var Ay={exports:{}},_K=Ay.exports,lN;function xK(){return lN||(lN=1,function(t){(function(e,n,r){function a(l){var d=this;d.next=function(){var c=d.x,h=d.i,g,v;return g=c[h],g^=g>>>7,v=g^g<<24,g=c[h+1&7],v^=g^g>>>10,g=c[h+3&7],v^=g^g>>>3,g=c[h+4&7],v^=g^g<<7,g=c[h+7&7],g=g^g<<13,v^=g^g<<9,c[h]=v,d.i=h+1&7,v};function f(c,h){var g,v=[];if(h===(h|0))v[0]=h;else for(h=""+h,g=0;g<h.length;++g)v[g&7]=v[g&7]<<15^h.charCodeAt(g)+v[g+1&7]<<13;for(;v.length<8;)v.push(0);for(g=0;g<8&&v[g]===0;++g);for(g==8?v[7]=-1:v[g],c.x=v,c.i=0,g=256;g>0;--g)c.next()}f(d,l)}function o(l,d){return d.x=l.x.slice(),d.i=l.i,d}function i(l,d){l==null&&(l=+new Date);var f=new a(l),c=d&&d.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var g=f.next()>>>11,v=(f.next()>>>0)/4294967296,b=(g+v)/(1<<21);while(b===0);return b},h.int32=f.next,h.quick=h,c&&(c.x&&o(c,f),h.state=function(){return o(f,{})}),h}n&&n.exports?n.exports=i:this.xorshift7=i})(_K,t)}(Ay)),Ay.exports}var Ny={exports:{}},EK=Ny.exports,cN;function CK(){return cN||(cN=1,function(t){(function(e,n,r){function a(l){var d=this;d.next=function(){var c=d.w,h=d.X,g=d.i,v,b;return d.w=c=c+1640531527|0,b=h[g+34&127],v=h[g=g+1&127],b^=b<<13,v^=v<<17,b^=b>>>15,v^=v>>>12,b=h[g]=b^v,d.i=g,b+(c^c>>>16)|0};function f(c,h){var g,v,b,w,x,E=[],T=128;for(h===(h|0)?(v=h,h=null):(h=h+"\0",v=0,T=Math.max(T,h.length)),b=0,w=-32;w<T;++w)h&&(v^=h.charCodeAt((w+32)%h.length)),w===0&&(x=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,w>=0&&(x=x+1640531527|0,g=E[w&127]^=v+x,b=g==0?b+1:0);for(b>=128&&(E[(h&&h.length||0)&127]=-1),b=127,w=4*128;w>0;--w)v=E[b+34&127],g=E[b=b+1&127],v^=v<<13,g^=g<<17,v^=v>>>15,g^=g>>>12,E[b]=v^g;c.w=x,c.X=E,c.i=b}f(d,l)}function o(l,d){return d.i=l.i,d.w=l.w,d.X=l.X.slice(),d}function i(l,d){l==null&&(l=+new Date);var f=new a(l),c=d&&d.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var g=f.next()>>>11,v=(f.next()>>>0)/4294967296,b=(g+v)/(1<<21);while(b===0);return b},h.int32=f.next,h.quick=h,c&&(c.X&&o(c,f),h.state=function(){return o(f,{})}),h}n&&n.exports?n.exports=i:this.xor4096=i})(EK,t)}(Ny)),Ny.exports}var Dy={exports:{}},TK=Dy.exports,dN;function kK(){return dN||(dN=1,function(t){(function(e,n,r){function a(l){var d=this,f="";d.next=function(){var h=d.b,g=d.c,v=d.d,b=d.a;return h=h<<25^h>>>7^g,g=g-v|0,v=v<<24^v>>>8^b,b=b-h|0,d.b=h=h<<20^h>>>12^g,d.c=g=g-v|0,d.d=v<<16^g>>>16^b,d.a=b-h|0},d.a=0,d.b=0,d.c=-1640531527,d.d=1367130551,l===Math.floor(l)?(d.a=l/4294967296|0,d.b=l|0):f+=l;for(var c=0;c<f.length+20;c++)d.b^=f.charCodeAt(c)|0,d.next()}function o(l,d){return d.a=l.a,d.b=l.b,d.c=l.c,d.d=l.d,d}function i(l,d){var f=new a(l),c=d&&d.state,h=function(){return(f.next()>>>0)/4294967296};return h.double=function(){do var g=f.next()>>>11,v=(f.next()>>>0)/4294967296,b=(g+v)/(1<<21);while(b===0);return b},h.int32=f.next,h.quick=h,c&&(typeof c=="object"&&o(c,f),h.state=function(){return o(f,{})}),h}n&&n.exports?n.exports=i:this.tychei=i})(TK,t)}(Dy)),Dy.exports}var Oy={exports:{}};const Fu=Ri(W9);var IK=Oy.exports,fN;function RK(){return fN||(fN=1,function(t){(function(e,n,r){var a=256,o=6,i=52,l="random",d=r.pow(a,o),f=r.pow(2,i),c=f*2,h=a-1,g;function v(I,D,F){var B=[];D=D==!0?{entropy:!0}:D||{};var H=E(x(D.entropy?[I,C(n)]:I??T(),3),B),z=new b(B),U=function(){for(var O=z.g(o),K=d,G=0;O<f;)O=(O+G)*a,K*=a,G=z.g(1);for(;O>=c;)O/=2,K/=2,G>>>=1;return(O+G)/K};return U.int32=function(){return z.g(4)|0},U.quick=function(){return z.g(4)/4294967296},U.double=U,E(C(z.S),n),(D.pass||F||function(O,K,G,Z){return Z&&(Z.S&&w(Z,z),O.state=function(){return w(z,{})}),G?(r[l]=O,K):O})(U,H,"global"in D?D.global:this==r,D.state)}function b(I){var D,F=I.length,B=this,H=0,z=B.i=B.j=0,U=B.S=[];for(F||(I=[F++]);H<a;)U[H]=H++;for(H=0;H<a;H++)U[H]=U[z=h&z+I[H%F]+(D=U[H])],U[z]=D;(B.g=function(O){for(var K,G=0,Z=B.i,J=B.j,se=B.S;O--;)K=se[Z=h&Z+1],G=G*a+se[h&(se[Z]=se[J=h&J+K])+(se[J]=K)];return B.i=Z,B.j=J,G})(a)}function w(I,D){return D.i=I.i,D.j=I.j,D.S=I.S.slice(),D}function x(I,D){var F=[],B=typeof I,H;if(D&&B=="object")for(H in I)try{F.push(x(I[H],D-1))}catch{}return F.length?F:B=="string"?I:I+"\0"}function E(I,D){for(var F=I+"",B,H=0;H<F.length;)D[h&H]=h&(B^=D[h&H]*19)+F.charCodeAt(H++);return C(D)}function T(){try{var I;return g&&(I=g.randomBytes)?I=I(a):(I=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(I)),C(I)}catch{var D=e.navigator,F=D&&D.plugins;return[+new Date,e,F,e.screen,C(n)]}}function C(I){return String.fromCharCode.apply(0,I)}if(E(r.random(),n),t.exports){t.exports=v;try{g=Fu}catch{}}else r["seed"+l]=v})(typeof self<"u"?self:IK,[],Math)}(Oy)),Oy.exports}var f_,pN;function AK(){if(pN)return f_;pN=1;var t=vK(),e=bK(),n=wK(),r=xK(),a=CK(),o=kK(),i=RK();return i.alea=t,i.xor128=e,i.xorwow=n,i.xorshift7=r,i.xor4096=a,i.tychei=o,f_=i,f_}var My=AK();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class p_{constructor(e,n,r,a,o){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=o||Math.random();this.random=My.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let e,n,r=!1;for(;!r;){let a,o,i;do a=2*this.random()-1,o=2*this.random()-1,i=a*a+o*o;while(i>=1||i===0);const l=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*a*l,n=this.mean+this.stdDev*o*l,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class NK{constructor(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;const o=a||Math.random();this.randu=My.alea(o.toString()),this.randn=new p_(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,a,o,i;for(;;){do a=this.randn.nextValue(),i=1+this.c*a;while(i<=0);if(i*=i*i,e=a*a,n=1-.331*e*e,r=.5*e+this.d*(1-i+Math.log(i)),o=this.randu(),o<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class DK{constructor(e=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=My.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OK(t,e,n=1,r="float32",a){if(Oo(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new NK(e,n,r,a),i=cn(t,r);for(let l=0;l<i.values.length;l++)i.values[l]=o.nextValue();return i.toTensor()}const MK=ne({randomGamma_:OK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $K(t,e=0,n=1,r,a){if(Oo(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new p_(e,n,r,!1,a),i=cn(t,r);for(let l=0;l<i.values.length;l++)i.values[l]=o.nextValue();return i.toTensor()}const hN=ne({randomNormal_:$K});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FK(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return hN(t,0,1,e,n)}const PK=ne({randomStandardNormal_:FK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LK(t,e=0,n=1,r="float32",a){Oo(t);const o=cn(t,r),i=new DK(e,n,null,a);for(let l=0;l<o.values.length;l++)o.values[l]=i.nextValue();return o.toTensor()}const h_=ne({randomUniform_:LK});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BK(t,e,n,r){return h_(t,e,n,"int32",r)}const zK=ne({randomUniformInt_:BK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sp(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:t,stop:e,step:n,dtype:r};return ae.runKernel(xw,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UK(t){const n={input:V(t,"input","real")};return ae.runKernel(WR,n)}const wp=ne({real_:UK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VK(t){const n={x:V(t,"x","reciprocal")};return ae.runKernel(Nv,n)}const jK=ne({reciprocal_:VK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HK(t){const n={x:V(t,"x","relu")};return ae.runKernel(Dv,n)}const $y=ne({relu_:HK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WK(t){const n={x:V(t,"x","relu6")};return ae.runKernel($v,n)}const mN=ne({relu6_:WK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qK(t,e){const r={x:V(t,"x","reverse")},a={dims:e};return ae.runKernel(Fv,r,a)}const Pl=ne({reverse_:qK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GK(t){const e=V(t,"x","reverse");return W(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Pl(e,0)}const KK=ne({reverse1d_:GK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YK(t,e){const n=V(t,"x","reverse");return W(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Pl(n,e)}const XK=ne({reverse2d_:YK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QK(t,e){const n=V(t,"x","reverse");return W(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Pl(n,e)}const ZK=ne({reverse3d_:QK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JK(t,e){const n=V(t,"x","reverse");return W(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Pl(n,e)}const eY=ne({reverse4d_:JK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tY(t){const n={x:V(t,"x","round")};return ae.runKernel(Pv,n)}const gN=ne({round_:tY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nY(t){const n={x:V(t,"x","rsqrt","float32")};return ae.runKernel(Lv,n)}const rY=ne({rsqrt_:nY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aY(t){const n={x:V(t,"x","selu")};return ae.runKernel(Vv,n)}const oY=ne({selu_:aY});function sY(t,e,n,r,a,o=[1,1],i="NHWC"){const l=V(t,"x","separableConv2d"),d=V(e,"depthwiseFilter","separableConv2d"),f=V(n,"pointwiseFilter","separableConv2d");let c=l,h=!1;if(l.rank===3&&(h=!0,c=Ae(l,[1,l.shape[0],l.shape[1],l.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");W(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),W(d.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${d.rank}.`),W(f.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${d.rank}.`),W(f.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${f.shape[0]}.`),W(f.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${f.shape[1]}.`);const g=d.shape[2],v=d.shape[3];W(f.shape[2]===g*v,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${g*v}, but got ${f.shape[2]}.`);const b=i_(c,d,r,a,i,o),x=vy(b,f,1,"valid",i);return h?Ae(x,[x.shape[1],x.shape[2],x.shape[3]]):x}const iY=ne({separableConv2d_:sY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function uY(t,e){const n=V(t,"x","setdiff1d"),r=V(e,"y","setdiff1d");W(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),W(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),W(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const a=await n.data(),o=await r.data(),i=new Set(o);let l=0;for(let c=0;c<a.length;c++)i.has(a[c])||l++;const d=new jr([l],n.dtype),f=new jr([l],"int32");for(let c=0,h=0;c<a.length;c++)i.has(a[c])||(d.values[h]=a[c],f.values[h]=c,h++);return[d.toTensor(),f.toTensor()]}const lY=uY;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cY(t){const n={x:V(t,"x","sign")};return ae.runKernel(Wv,n)}const dY=ne({sign_:cY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fY(t){const n={x:V(t,"x","sin","float32")};return ae.runKernel(jv,n)}const pY=ne({sin_:fY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hY(t){const n={x:V(t,"x","sinh")};return ae.runKernel(Hv,n)}const mY=ne({sinh_:hY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gY(t,e,n){const r=V(t,"x","slice1d");return W(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Jt(r,[e],[n])}const vY=ne({slice1d_:gY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yY(t,e,n){const r=V(t,"x","slice2d");return W(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Jt(r,e,n)}const bY=ne({slice2d_:yY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SY(t,e,n){const r=V(t,"x","slice3d");return W(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Jt(r,e,n)}const wY=ne({slice3d_:SY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Y(t,e,n){const r=V(t,"x","slice4d");return W(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Jt(r,e,n)}const xY=ne({slice4d_:_Y});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EY(t,e=-1){const n=V(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},a={dim:e};return ae.runKernel(Xv,r,a)}const CY=ne({softmax_:EY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TY(t){W(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ae.runKernel(PR,e)}const m_=ne({fft_:TY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kY(t){W(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ae.runKernel(LR,e)}const Fy=ne({ifft_:kY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IY(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const a=Ae(t,[n,e]);r=Fy(a)}else{const a=[n,2*(e-1)],o=Ae(wp(t),[n,e]),i=Ae(_y(t),[n,e]),l=Pl(Jt(o,[0,1],[n,e-2]),1),d=Ke(Pl(Jt(i,[0,1],[n,e-2]),1),xn(-1)),f=la([o,l],1),c=la([i,d],1),h=Ae(Au(f,c),[a[0],a[1]]);r=Fy(h)}if(r=wp(r),t.rank===3&&t.shape[0]!==0){const a=r,o=t.shape[0];r=Ae(r,[o,r.shape[0]/o,r.shape[1]]),a.dispose()}return r}const vN=ne({irfft_:IY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RY(t,e,n=0){const a={x:V(t,"x","split")},o={numOrSizeSplits:e,axis:n};return ae.runKernel(Aw,a,o)}const _p=ne({split_:RY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AY(t,e){W(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let a;if(e!=null&&e<n){const b=t.shape.map(x=>0),w=t.shape.map(x=>x);w[t.shape.length-1]=e,a=Jt(t,b,w),n=e}else if(e!=null&&e>n){const b=t.shape.map(w=>w);b[t.shape.length-1]=e-n,a=la([t,td(b)],t.shape.length-1),n=e}else a=t;const o=$o(a),i=Ae(Au(a,o),[r,n]),l=m_(i),d=Math.floor(n/2)+1,f=wp(l),c=_y(l),h=_p(f,[d,n-d],f.shape.length-1),g=_p(c,[d,n-d],c.shape.length-1),v=a.shape.slice();return v[a.shape.length-1]=d,Ae(Au(h[0],g[0]),v)}const g_=ne({rfft_:AY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NY(t,e){let n=V(t,"a","squaredDifference"),r=V(e,"b","squaredDifference");[n,r]=xr(n,r),nr(n.shape,r.shape);const a={a:n,b:r},o={};return ae.runKernel(Jv,a,o)}const yN=ne({squaredDifference_:NY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DY(t,e){const n=V(t,"x","squeeze","string_or_numeric");return Ae(n,GV(n.shape,e).newShape)}const da=ne({squeeze_:DY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OY(t,e=0){const n=fy(t,"tensors","stack","string_or_numeric");W(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&W(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:e};return ae.runKernel(_w,r,a)}const zi=ne({stack_:OY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MY(t,e=0){const r={x:V(t,"x","step")},a={alpha:e};return ae.runKernel(np,r,a)}const bN=ne({step_:MY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Y(t,e,n,r,a=0,o=0,i=0,l=0,d=0){const c={x:V(t,"x","stridedSlice","string_or_numeric")},h={begin:e,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:l,shrinkAxisMask:d};return ae.runKernel(ey,c,h)}const FY=ne({stridedSlice_:$Y});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PY(t){const n={x:V(t,"x","tan","float32")};return ae.runKernel(ny,n)}const LY=ne({tan_:PY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ea(t,e){Uc(t);const n=Ru(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Nu(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ll(t,e,n){if(Uc(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Ru(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Nu(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SN(t,e,n){if(Uc(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Ru(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Nu(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BY(t,e,n){if(Uc(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Ru(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Nu(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zY(t,e,n){if(Uc(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Ru(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Nu(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UY(t,e,n){if(Uc(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Ru(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Nu(t,e,r,n)}function VY(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(o+` update.rank < ${a}. `);if(t.length<r+(n.rank-a))throw new Error(o+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+t.length-r)throw new Error(o+` update.rank != ${a+t.length-r}`);for(let i=0;i<a;++i)if(n.shape[i]!==e.shape[i])throw new Error(o+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${e.shape[i]}).`);for(let i=0;i<n.rank-a;++i)if(n.shape[i+a]!==t[i+r])throw new Error(o+` updates.shape[${i+a}] (${n.shape[i+a]}) != shape[${i+a}] (${t[i+a]})`)}function wN(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}VY(n,e,t)}function nd(t,e,n){const r=e.shape.length,a=r>1?e.shape[r-1]:1,o=n.length;let i=1;for(let h=a;h<o;++h)i*=n[h];const l=a<1?1:a,d=Ce(e.shape)/l,f=[...yt(n.slice(0,a)),1],c=Ce(n);return{sliceRank:a,numUpdates:d,sliceSize:i,strides:f,outputSize:c}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jY(t,e,n){const r=V(t,"tensor","tensorScatterupdate"),a=V(e,"indices","tensorScatterupdate","int32"),o=V(n,"updates","tensorScatterupdate");if(wN(o,a,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const i={tensor:r,indices:a,updates:o},l={};return ae.runKernel(zv,i,l)}const HY=ne({tensorScatterUpdate_:jY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WY(t,e=1,n=!0){const r=V(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${e}`);const o={x:r},i={k:e,sorted:n},[l,d]=ae.runKernel(ay,o,i);return{values:l,indices:d}}const qY=ne({topk_:WY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GY(t,e=0,n=1,r,a){if(Oo(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new p_(e,n,r,!0,a),i=cn(t,r);for(let l=0;l<i.values.length;l++)i.values[l]=o.nextValue();return i.toTensor()}const KY=ne({truncatedNormal_:GY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YY(t,e=0){const n=V(t,"x","unique","string_or_numeric");W(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:e},[o,i]=ae.runKernel(Lw,r,a);return{values:o,indices:i}}const XY=ne({unique_:YY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t,e,n){const r=V(t,"x","unsortedSegmentSum"),a=V(e,"segmentIds","unsortedSegmentSum","int32");W(Xf(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:a},i={numSegments:n};return ae.runKernel(GR,o,i)}const ZY=ne({unsortedSegmentSum_:QY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JY(t,e=0){const n=V(t,"x","unstack","string_or_numeric");W(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:e};return ae.runKernel(Bw,r,a)}const Bl=ne({unstack_:JY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eX(t,e){return d_(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tX(t,e=!0,n,r){return ae.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const r=cn(t,"int32"),a=cn([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const i=r.indexToLoc(n[o]),l=o*t.length;a.values.set(i,l)}return a.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function nX(t){const e=V(t,"condition","whereAsync","bool"),n=await e.data(),r=_N(e.shape,n);return t!==e&&e.dispose(),r}const xN=nX;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function rX(t,e,n){const r=V(t,"tensor","boolMask"),a=V(e,"mask","boolMask","bool"),o=n??0,i=a.rank,l=r.shape;W(i>0,()=>"mask cannot be scalar"),So(l.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let d=1;for(let w=o;w<o+i;w++)d*=l[w];const f=l.slice(0,o).concat([d],l.slice(o+i)),c=Ae(r,f),h=Ae(a,[-1]),g=await xN(h),v=da(g,[1]),b=GA(c,v,o);return t!==r&&r.dispose(),e!==a&&a.dispose(),v.dispose(),c.dispose(),h.dispose(),g.dispose(),b}const aX=rX;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oX(t,e,n){const r=V(t,"x","transpose");if(e==null&&(e=r.shape.map((i,l)=>l).reverse()),W(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(i=>{W(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const a={x:r},o={perm:e};return r.dtype==="complex64"?dn(()=>{let i=wp(r),l=_y(r);return i=ae.runKernel(jc,{x:i},o),l=ae.runKernel(jc,{x:l},o),n&&(l=si(l)),Au(i,l)}):ae.runKernel(jc,a,o)}const v_=ne({transpose_:oX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sX(t,e,n,r,a=!0){const o=V(t,"v","movingAverage"),i=V(e,"x","movingAverage"),l=V(n,"decay","movingAverage");Aj(o,i),W(ts(o.shape,i.shape),()=>"Shape mismatch in v and x");const d=xn(1),f=en(d,l);let c=Ke(en(i,o),f);if(a){W(r!=null,()=>"When using zeroDebias: true, step is required.");const h=V(r,"step","movingAverage");c=fn(c,en(d,gp(l,h)))}return It(o,c)}const iX=ne({movingAverage_:sX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uX(t,e,n){Oo(n);const r=V(t,"indices","scatterND","int32"),a=V(e,"updates","scatterND");wN(a,r,n);const o={indices:r,updates:a},i={shape:n};return ae.runKernel(Bv,o,i)}const lX=ne({scatterND_:uX});function cX(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const a=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const i=e.size;if(!(e.rank===0||e.rank===1&&i===a))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${a}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dX(t,e,n,r=0){Oo(n);const a=V(t,"sparseIndices","sparseToDense","int32"),o=V(e,"sparseValues","sparseToDense","string_or_numeric"),i=V(r,"defaultValue","sparseToDense",o.dtype);cX(a,o,n,i);const l={sparseIndices:a,sparseValues:o,defaultValue:i},d={outputShape:n};return ae.runKernel(Zv,l,d)}const fX=ne({sparseToDense_:dX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pX(t,e){const n=V(e,"indices","gatherND","int32"),a={params:V(t,"x","gatherND","string_or_numeric"),indices:n};return ae.runKernel(Yg,a)}const hX=ne({gatherND_:pX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mX(t,e){if(e==null)return t.shape.slice();if(ts(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gX(t,e,n,r){const a=V(t,"x","dropout");if(W(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),W(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Lr?a.clone():a;const o=mX(a,n),i=1-e,l=fn(qA(It(h_(o,0,1,"float32",r),i)),i);return Ke(a,l)}const vX=ne({dropout_:gX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EN(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function y_(t,e,n){const r=1-t%2,a=new Float32Array(t);for(let o=0;o<t;++o){const i=2*Math.PI*o/(t+r-1);a[o]=e-n*Math.cos(i)}return Ea(a,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function yX(t,e,n=1){const r=V(t,"predictions","inTopK"),a=V(e,"targets","inTopK");W(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),W(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),So(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];W(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const i=await r.data(),l=await a.data(),[d,f]=[i.length/o,o],c=Fa("bool",d);for(let h=0;h<d;h++){const g=h*f,v=i.subarray(g,g+f),b=[];for(let w=0;w<v.length;w++)b.push({value:v[w],index:w});b.sort((w,x)=>x.value-w.value),c[h]=0;for(let w=0;w<n;w++)if(b[w].index===l[h]){c[h]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),Ts(c,a.shape,"bool")}const bX=yX;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SX(t,e,n,r,a,o="NHWC",i){let l=t;t.rank===3&&(l=Ae(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let d=e;d.rank===3&&(d=Ae(e,[1,e.shape[0],e.shape[1],e.shape[2]])),W(l.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${l.shape}.`),W(d.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${d.shape}.`),W(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const f=o==="NHWC"?l.shape[3]:l.shape[1],c=o==="NHWC"?d.shape[3]:d.shape[1];W(f===n[2],()=>`Error in conv2dDerFilter: depth of input ${f}) must match input depth in filter (${n[2]}.`),W(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),Rs("conv2dDerFilter",a,i);const h={x:l,dy:d},g={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,filterShape:n};return ae.runKernel(OR,h,g)}const wX=ne({conv2DBackpropFilter_:SX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Ke(t,bN(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function S_(t,e){let n=e;const r=uq(t.shape,e.shape);return r.length>0&&(n=ir(n,r)),Ae(n,t.shape)}function w_(t,e,n,r){if(e==="linear")return t;if(e==="relu")return $y(t);if(e==="elu")return VA(t);if(e==="relu6")return mN(t);if(e==="prelu")return oN(t,n);if(e==="leakyrelu")return YA(t,r);if(e==="sigmoid")return $l(t);throw new Error(`Unknown fused activation ${e}.`)}const __=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _X({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:l,activation:d="linear",preluActivationWeights:f,leakyreluAlpha:c}){if(d=d||"linear",__(ae.state.gradientDepth,d)===!1){W(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let F=vy(t,e,n,r,a,o,i);return l!=null&&(F=It(F,l)),w_(F,d,f,c)}const h=V(t,"x","conv2d","float32"),g=V(e,"filter","conv2d","float32");let v=h,b=!1;h.rank===3&&(b=!0,v=Ae(h,[1,h.shape[0],h.shape[1],h.shape[2]])),W(v.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${v.rank}.`),W(g.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${g.rank}.`),Rs("fused conv2d",r,i);const w=a==="NHWC"?v.shape[3]:v.shape[1];W(g.shape[2]===w,()=>`Error in conv2d: depth of input (${w}) must match input depth for filter ${g.shape[2]}.`),W(as(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const x=eo(v.shape,g.shape,n,o,r,i);let E;l!=null&&(E=V(l,"bias","fused conv2d"),[E]=xr(E,h),a==="NHWC"?nr(x.outShape,E.shape):(W(E.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${E.shape.length}.`),W(E.shape.length===0||E.shape[0]===x.outChannels||E.shape[0]===1,()=>`Error in fused conv2d: bias shape (${E.shape}) is not compatible with the number of output channels (${x.outChannels})`)));let T;if(f!=null){const F=f.shape;if(W(F.length<=1||F.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${F.length}.`),F.length===1)W(F[0]===1||F[0]===x.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${F}) is not compatible with the number of output channels (${x.outChannels}).`);else if(F.length===3)try{nr(F,x.outShape)}catch{const H=`Error in fused conv2d: PReLU activation weights (${F}) is not compatible with the output shape of the conv2d (${x.outShape}).`;throw Error(H)}T=V(f,"prelu weights","fused conv2d")}const C=(F,B)=>{W(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[H,z,U,O]=B,K=b_(F,U,d);W(my(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const G=zA(z.shape,K,H,n,r),Z=wX(z,K,H.shape,n,r),J=[G,Z];if(O!=null){const se=S_(O,K);J.push(se)}return J},I={x:v,filter:g,bias:E,preluActivationWeights:T},D={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i,activation:d,leakyreluAlpha:c};return l==null?Bi((B,H,z)=>{let U=ae.runKernel(ap,I,D);return z([H,B,U]),b&&(U=Ae(U,[U.shape[1],U.shape[2],U.shape[3]])),{value:U,gradFunc:C}})(v,g):Bi((B,H,z,U)=>{let O=ae.runKernel(ap,I,D);return U([H,B,O,z]),b&&(O=Ae(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:C}})(v,g,E)}const xX=ne({fusedConv2d_:_X});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EX(t,e,n,r,a,o=[1,1],i){let l=t;t.rank===3&&(l=Ae(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let d=e;d.rank===3&&(d=Ae(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const f={x:l,dy:d},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,filterShape:n};return ae.runKernel(MR,f,c)}const CX=ne({depthwiseConv2dNativeBackpropFilter_:EX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TX(t,e,n,r,a,o=[1,1],i){let l=e,d=!1;e.rank===3&&(d=!0,l=Ae(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const f={dy:l,filter:n},c={strides:r,pad:a,dimRoundingMode:i,dilations:o,inputShape:t},h=ae.runKernel($R,f,c);return d?Ae(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const kX=ne({depthwiseConv2dNativeBackpropInput_:TX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IX({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:l,activation:d="linear",preluActivationWeights:f,leakyreluAlpha:c}){if(__(ae.state.gradientDepth,d)===!1){let D=i_(t,e,n,r,a,o,i);return l!=null&&(D=It(D,l)),w_(D,d,f,c)}const h=V(t,"x","depthwiseConv2d","float32"),g=V(e,"filter","depthwiseConv2d","float32");let v=h,b=!1;h.rank===3&&(b=!0,v=Ae(h,[1,h.shape[0],h.shape[1],h.shape[2]])),W(v.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${v.rank}.`),W(g.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${g.rank}.`),W(v.shape[3]===g.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${v.shape[3]}) must match the inChannels dimension in filter ${g.shape[2]}.`),o==null&&(o=[1,1]),W(as(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Rs("fused depthwiseConv2d",r,i);const w=eo(v.shape,g.shape,n,o,r,i,!0);let x;l!=null&&(x=V(l,"bias","fused conv2d"),[x]=xr(x,h),nr(w.outShape,x.shape));let E;f!=null&&(E=V(f,"prelu weights","fused depthwiseConv2d"));const T=(D,F)=>{W(my(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[B,H,z,U]=F,O=b_(D,z,d),K=kX(H.shape,O,B,n,r,o,i),G=CX(H,O,B.shape,n,r,o,i);if(U!=null){const Z=S_(x,O);return[K,G,Z]}return[K,G]},C={x:v,filter:g,bias:x,preluActivationWeights:E},I={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i,activation:d,leakyreluAlpha:c};return l==null?Bi((F,B,H)=>{let z=ae.runKernel(op,C,I);return H([B,F,z]),b&&(z=Ae(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:T}})(v,g):Bi((F,B,H,z)=>{let U=ae.runKernel(op,C,I);return z([B,F,U,H]),b&&(U=Ae(U,[U.shape[1],U.shape[2],U.shape[3]])),{value:U,gradFunc:T}})(v,g,x)}const RX=ne({fusedDepthwiseConv2d_:IX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AX({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:a,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}){if(__(ae.state.gradientDepth,o)===!1){let O=Xn(t,e,n,r);return a!=null&&(O=It(O,a)),w_(O,o,i,l)}let d=V(t,"a","fused matMul"),f=V(e,"b","fused matMul");[d,f]=xr(d,f);const c=n?d.shape[d.rank-2]:d.shape[d.rank-1],h=r?f.shape[f.rank-1]:f.shape[f.rank-2],g=n?d.shape[d.rank-1]:d.shape[d.rank-2],v=r?f.shape[f.rank-2]:f.shape[f.rank-1],b=d.shape.slice(0,-2),w=f.shape.slice(0,-2),x=Ce(b),E=Ce(w);W(c===h,()=>`Error in fused matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${d.shape} and ${f.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=nr(d.shape.slice(0,-2),f.shape.slice(0,-2)).concat([g,v]),I=n?Ae(d,[x,c,g]):Ae(d,[x,g,c]),D=r?Ae(f,[E,v,h]):Ae(f,[E,h,v]);let F;a!=null&&(F=V(a,"bias","fused matMul"),[F]=xr(F,d),nr(C,F.shape));let B;i!=null&&(B=V(i,"prelu weights","fused matMul"));const H=(O,K)=>{const[G,Z,J,se]=K,oe=b_(Ae(O,J.shape),J,o);let le,pe;if(!n&&!r?(le=Xn(oe,Z,!1,!0),pe=Xn(G,oe,!0,!1)):!n&&r?(le=Xn(oe,Z,!1,!1),pe=Xn(oe,G,!0,!1)):n&&!r?(le=Xn(Z,oe,!1,!0),pe=Xn(G,oe,!1,!1)):(le=Xn(Z,oe,!0,!0),pe=Xn(oe,G,!0,!0)),a!=null){const ye=S_(se,oe);return[le,pe,ye]}else return[le,pe]},z={a:I,b:D,bias:F,preluActivationWeights:B},U={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:l};return a==null?Bi((K,G,Z)=>{const J=ae.runKernel(rp,z,U);return Z([K,G,J]),{value:Ae(J,C),gradFunc:H}})(I,D):Bi((K,G,Z,J)=>{const se=ae.runKernel(rp,z,U);return J([K,G,se,Z]),{value:Ae(se,C),gradFunc:H}})(I,D,F)}const NX=ne({fusedMatMul_:AX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DX=Object.freeze(Object.defineProperty({__proto__:null,conv2d:xX,depthwiseConv2d:RX,matMul:NX},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OX(t){return y_(t,.54,.46)}const MX=ne({hammingWindow_:OX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $X(t){return y_(t,.5,.5)}const CN=ne({hannWindow_:$X});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FX(t,e,n,r=!1,a=0){let o=0;const i=[];for(;o+e<=t.size;)i.push(Jt(t,o,e)),o+=n;if(r)for(;o<t.size;){const l=o+e-t.size,d=la([Jt(t,o,e-l),mp([l],a)]);i.push(d),o+=n}return i.length===0?Ll([],[0,e]):Ae(la(i),[i.length,e])}const TN=ne({frame_:FX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PX(t,e,n,r,a=CN){r==null&&(r=EN(e));const o=TN(t,e,n),i=Ke(o,a(e));return g_(i,r)}const LX=ne({stft_:PX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BX(t,e,n,r,a="bilinear",o=0){const i=V(t,"image","cropAndResize"),l=V(e,"boxes","cropAndResize","float32"),d=V(n,"boxInd","cropAndResize","int32"),f=l.shape[0];W(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),W(l.rank===2&&l.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${f},4] but had shape ${l.shape}.`),W(d.rank===1&&d.shape[0]===f,()=>`Error in cropAndResize: boxInd must be have size [${f}] but had shape ${l.shape}.`),W(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),W(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),W(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const c={image:i,boxes:l,boxInd:d},h={method:a,extrapolationValue:o,cropSize:r};return ae.runKernel(Og,c,h)}const zX=ne({cropAndResize_:BX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UX(t){const e=V(t,"image","flipLeftRight","float32");W(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ae.runKernel(Wg,n,{})}const VX=ne({flipLeftRight_:UX});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jX(t){const e=V(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];W(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),W(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(e.rank);return a.fill(1,0,n),a[n]=3,vp(e,a)}const HX=ne({grayscaleToRGB_:jX});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WX(t){const e=V(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];W(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),W(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=e.dtype,o=yr(e,"float32"),i=Ea([.2989,.587,.114]);let l;switch(e.rank){case 2:l=Jc("ij,j->i",o,i);break;case 3:l=Jc("ijk,k->ij",o,i);break;case 4:l=Jc("ijkl,l->ijk",o,i);break;case 5:l=Jc("ijklm,m->ijkl",o,i);break;case 6:l=Jc("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return l=oi(l,-1),yr(l,a)}const qX=ne({rgbToGrayscale_:WX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GX(t,e,n=0,r=.5){const a=V(t,"image","rotateWithOffset","float32");W(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const o={image:a},i={radians:e,fillValue:n,center:r};return ae.runKernel(sy,o,i)}const KX=ne({rotateWithOffset_:GX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rd(t,e,n,r,a,o){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);const i=t.shape[0];return n=Math.min(n,i),W(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),W(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),W(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),W(e.rank===1,()=>"scores must be a 1D tensor"),W(e.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${e.shape[0]}`),W(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YX(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const o=V(t,"boxes","nonMaxSuppression","float32"),i=V(e,"scores","nonMaxSuppression","float32"),l=rd(o,i,n,r,a);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold;const d={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return ae.runKernel(xv,{boxes:o,scores:i},d)}const XX=ne({nonMaxSuppression_:YX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QX(t,e,n){const r=ZX(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function ZX(t,e,n){return eQ(t,e,n||JX)}function JX(t,e){return t>e?1:t<e?-1:0}function eQ(t,e,n){let r=0,a=t.length,o=0,i=!1;for(;r<a;){o=r+(a-r>>>1);const l=n(e,t[o]);l>0?r=o+1:(a=o,i=!l)}return i?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kN(t,e,n,r,a){return x_(t,e,n,r,a,0)}function IN(t,e,n,r,a,o){return x_(t,e,n,r,a,0,!1,o,!0)}function RN(t,e,n,r,a,o){return x_(t,e,n,r,a,o,!0)}function x_(t,e,n,r,a,o,i=!1,l=!1,d=!1){const f=[];for(let x=0;x<e.length;x++)e[x]>a&&f.push({score:e[x],boxIndex:x,suppressBeginIndex:0});f.sort(AN);const c=o>0?-.5/o:0,h=[],g=[];for(;h.length<n&&f.length>0;){const x=f.pop(),{score:E,boxIndex:T,suppressBeginIndex:C}=x;if(E<a)break;let I=!1;for(let D=h.length-1;D>=C;--D){const F=tQ(t,T,h[D]);if(F>=r){I=!0;break}if(x.score=x.score*nQ(r,c,F),x.score<=a)break}x.suppressBeginIndex=h.length,I||(x.score===E?(h.push(T),g.push(x.score)):x.score>a&&QX(f,x,AN))}const v=h.length,b=n-v;l&&b>0&&(h.push(...new Array(b).fill(0)),g.push(...new Array(b).fill(0)));const w={selectedIndices:h};return i&&(w.selectedScores=g),d&&(w.validOutputs=v),w}function tQ(t,e,n){const r=t.subarray(e*4,e*4+4),a=t.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),l=Math.max(r[0],r[2]),d=Math.max(r[1],r[3]),f=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),g=Math.max(a[1],a[3]),v=(l-o)*(d-i),b=(h-f)*(g-c);if(v<=0||b<=0)return 0;const w=Math.max(o,f),x=Math.max(i,c),E=Math.min(l,h),T=Math.min(d,g),C=Math.max(E-w,0)*Math.max(T-x,0);return C/(v+b-C)}function nQ(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function AN(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function rQ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const o=V(t,"boxes","nonMaxSuppressionAsync"),i=V(e,"scores","nonMaxSuppressionAsync"),l=rd(o,i,n,r,a);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold;const d=await Promise.all([o.data(),i.data()]),f=d[0],c=d[1],{selectedIndices:h}=kN(f,c,n,r,a);return o!==t&&o.dispose(),i!==e&&i.dispose(),Ea(h,"int32")}const aQ=rQ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oQ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=0){const i=V(t,"boxes","nonMaxSuppression"),l=V(e,"scores","nonMaxSuppression"),d=rd(i,l,n,r,a,o);n=d.maxOutputSize,r=d.iouThreshold,a=d.scoreThreshold,o=d.softNmsSigma;const f={boxes:i,scores:l},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},h=ae.runKernel(Cv,f,c);return{selectedIndices:h[0],selectedScores:h[1]}}const sQ=ne({nonMaxSuppressionWithScore_:oQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iQ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=0){const i=V(t,"boxes","nonMaxSuppressionAsync"),l=V(e,"scores","nonMaxSuppressionAsync"),d=rd(i,l,n,r,a,o);n=d.maxOutputSize,r=d.iouThreshold,a=d.scoreThreshold,o=d.softNmsSigma;const f=await Promise.all([i.data(),l.data()]),c=f[0],h=f[1],{selectedIndices:g,selectedScores:v}=RN(c,h,n,r,a,o);return i!==t&&i.dispose(),l!==e&&l.dispose(),{selectedIndices:Ea(g,"int32"),selectedScores:Ea(v)}}const uQ=iQ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lQ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=!1){const i=V(t,"boxes","nonMaxSuppression"),l=V(e,"scores","nonMaxSuppression"),d=rd(i,l,n,r,a,null),f=d.maxOutputSize,c=d.iouThreshold,h=d.scoreThreshold,g={boxes:i,scores:l},v={maxOutputSize:f,iouThreshold:c,scoreThreshold:h,padToMaxOutputSize:o},b=ae.runKernel(Ev,g,v);return{selectedIndices:b[0],validOutputs:b[1]}}const cQ=ne({nonMaxSuppressionPadded_:lQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function dQ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=!1){const i=V(t,"boxes","nonMaxSuppressionAsync"),l=V(e,"scores","nonMaxSuppressionAsync"),d=rd(i,l,n,r,a,null),f=d.maxOutputSize,c=d.iouThreshold,h=d.scoreThreshold,[g,v]=await Promise.all([i.data(),l.data()]),{selectedIndices:b,validOutputs:w}=IN(g,v,f,c,h,o);return i!==t&&i.dispose(),l!==e&&l.dispose(),{selectedIndices:Ea(b,"int32"),validOutputs:xn(w,"int32")}}const fQ=dQ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQ(t,e,n=!1,r=!1){const a=V(t,"images","resizeBilinear");W(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),W(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),W(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=a,i=!1;a.rank===3&&(i=!0,o=Ae(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={images:o},d={alignCorners:n,halfPixelCenters:r,size:e},f=ae.runKernel(Mv,l,d);return i?Ae(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const hQ=ne({resizeBilinear_:pQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQ(t,e,n=!1,r=!1){const a=V(t,"images","resizeNearestNeighbor");W(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),W(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),W(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),W(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=a,i=!1;a.rank===3&&(i=!0,o=Ae(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={images:o},d={alignCorners:n,halfPixelCenters:r,size:e},f=ae.runKernel(Ov,l,d);return i?Ae(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const gQ=ne({resizeNearestNeighbor_:mQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vQ(t,e="binary",n=!1,r=.5){const a=V(t,"image","threshold"),o=.2989,i=.587,l=.114,d=a.shape[0]*a.shape[1];let f=Ke(Ea([r]),255),c,h,g,v;if(W(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),W(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),W(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),W(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),a.shape[2]===3){[c,h,g]=_p(a,[1,1,1],-1);const x=Ke(c,o),E=Ke(h,i),T=Ke(g,l);v=It(It(x,E),T)}else v=t;if(e==="otsu"){const x=LA(yr(gN(v),"int32"),Ts([]),256);f=yQ(x,d)}const b=n?c_(v,f):wy(v,f);return yr(Ke(b,255),"int32")}function yQ(t,e){let n=Ea([-1]),r=Ea([0]),a=Ea([0]),o,i,l,d,f,c;for(let h=0;h<t.size-1;h++){o=Jt(t,0,h+1),i=Jt(t,h+1),f=fn(ir(o),e),c=fn(ir(i),e);const g=ir(Ke(o,Sp(0,o.size)));l=fn(g,ir(o));const v=mp(i.shape,o.size),b=It(Sp(0,i.size),v),w=Ke(i,b);d=fn(ir(w),ir(i));const x=en(l,d),E=en(l,d),T=Ke(f,c);a=Ke(Ke(T,x),E);const C=wy(a,r);r=$u(C,a,r),n=$u(C,Ea([h]),n)}return n}const bQ=ne({threshold_:vQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQ(t,e,n="nearest",r="constant",a=0,o){const i=V(t,"image","transform","float32"),l=V(e,"transforms","transform","float32");W(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),W(l.rank===2&&(l.shape[0]===i.shape[0]||l.shape[0]===1)&&l.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),W(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const d={image:i,transforms:l},f={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return ae.runKernel(oy,d,f)}const wQ=ne({transform_:SQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Q(t,e,n){const r=V(t,"a","bandPart");W(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[o,i]=r.shape.slice(-2);let l,d;typeof e=="number"?(W(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),W(e<=o,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`),l=V(e<0?o:e,"numLower","bandPart")):(W(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),l=$u(l_(e,0),o,Ty(e,o))),typeof n=="number"?(W(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),W(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),d=V(n<0?i:n,"numUpper","bandPart")):(W(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),d=$u(l_(n,0),i,Ty(n,i)));const f=Ae(Sp(0,o,1,"int32"),[-1,1]),c=Sp(0,i,1,"int32"),h=en(f,c),g=xy(c_(h,l),KA(h,si(d))),v=td([o,i],r.dtype);return Ae(zi(Bl(Ae(r,[-1,o,i])).map(b=>$u(g,b,v))),a)}const xQ=ne({bandPart_:_Q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EQ(t){let e;if(Array.isArray(t)){e=!1,W(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=t[0].shape[0];for(let o=1;o<t.length;++o)W(t[o].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[o].shape[0]} vs. ${a})`)}else e=!0,t=_p(t,t.shape[0],0).map(a=>da(a,[0]));W(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let a=0;a<t.length;++a)n.push(ae.tidy(()=>{let o=r[a];if(a>0)for(let i=0;i<a;++i){const l=Ke(ir(Ke(n[i],o)),n[i]);o=en(o,l)}return fn(o,Sy(o,"euclidean"))}));return e?zi(n,0):n}const CQ=ne({gramSchmidt_:EQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TQ(t,e=!1){if(W(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return NN(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((d,f)=>d*f),r=Bl(Ae(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];r.forEach(d=>{const[f,c]=NN(d,e);a.push(f),o.push(c)});const i=Ae(zi(a,0),t.shape),l=Ae(zi(o,0),t.shape);return[i,l]}}function NN(t,e=!1){return ae.tidy(()=>{W(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let a=WA(n),o=Ou(t);const i=Ll([[1]],[1,1]);let l=Ou(i);const d=n>=r?r:n;for(let f=0;f<d;++f){const c=o,h=l,g=a;[l,o,a]=ae.tidy(()=>{const v=Jt(o,[f,f],[n-f,1]),b=Sy(v),w=Jt(o,[f,f],[1,1]),x=$u(wy(w,0),Ll([[-1]]),Ll([[1]])),E=en(w,Ke(x,b)),T=fn(v,E);T.shape[0]===1?l=Ou(i):l=la([i,Jt(T,[1,0],[T.shape[0]-1,T.shape[1]])],0);const C=si(fn(Xn(x,E),b)),I=Jt(o,[f,0],[n-f,r]),D=Ke(C,l),F=v_(l);if(f===0)o=en(I,Xn(D,Xn(F,I)));else{const z=en(I,Xn(D,Xn(F,I)));o=la([Jt(o,[0,0],[f,r]),z],0)}const B=v_(D),H=Jt(a,[0,f],[n,a.shape[1]-f]);if(f===0)a=en(H,Xn(Xn(H,l),B));else{const z=en(H,Xn(Xn(H,l),B));a=la([Jt(a,[0,0],[n,f]),z],1)}return[l,o,a]}),Hr([c,h,g])}return!e&&n>r&&(a=Jt(a,[0,0],[n,r]),o=Jt(o,[0,0],[r,r])),[a,o]})}const kQ=ne({qr_:TQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var to;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(to||(to={}));function IQ(t,e,n=to.SUM_BY_NONZERO_WEIGHTS){const r=V(t,"losses","computeWeightedLoss");let a=null;e!=null&&(a=V(e,"weights","computeWeightedLoss"));const o=a==null?r:Ke(r,a);if(n===to.NONE)return o;if(n===to.SUM)return ir(o);if(n===to.MEAN){if(a==null)return Cy(o);{const i=r.size/a.size,l=fn(ir(o),ir(a));return i>1?fn(l,xn(i)):l}}if(n===to.SUM_BY_NONZERO_WEIGHTS){if(a==null)return fn(ir(o),xn(r.size));{const i=Ke(a,Fl(r.shape)),l=yr(ir(rN(i,xn(0))),"float32");return fn(ir(o),l)}}throw Error(`Unknown reduction: ${n}`)}const Ui=ne({computeWeightedLoss_:IQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQ(t,e,n,r=to.SUM_BY_NONZERO_WEIGHTS){const a=V(t,"labels","absoluteDifference"),o=V(e,"predictions","absoluteDifference");let i=null;n!=null&&(i=V(n,"weights","absoluteDifference")),So(a.shape,o.shape,"Error in absoluteDifference: ");const l=Mo(en(a,o));return Ui(l,i,r)}const AQ=ne({absoluteDifference_:RQ});function NQ(t,e,n,r,a=to.SUM_BY_NONZERO_WEIGHTS){const o=V(t,"labels","cosineDistance"),i=V(e,"predictions","cosineDistance");let l=null;r!=null&&(l=V(r,"weights","cosineDistance")),So(o.shape,i.shape,"Error in cosineDistance: ");const d=xn(1),f=en(d,ir(Ke(o,i),n,!0));return Ui(f,l,a)}const DQ=ne({cosineDistance_:NQ});function OQ(t,e,n,r=to.SUM_BY_NONZERO_WEIGHTS){let a=V(t,"labels","hingeLoss");const o=V(e,"predictions","hingeLoss");let i=null;n!=null&&(i=V(n,"weights","hingeLoss")),So(a.shape,o.shape,"Error in hingeLoss: ");const l=xn(1);a=en(Ke(xn(2),a),l);const d=$y(en(l,Ke(a,o)));return Ui(d,i,r)}const MQ=ne({hingeLoss_:OQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Q(t,e,n,r=1,a=to.SUM_BY_NONZERO_WEIGHTS){const o=V(t,"labels","huberLoss"),i=V(e,"predictions","huberLoss");let l=null;n!=null&&(l=V(n,"weights","huberLoss")),So(o.shape,i.shape,"Error in huberLoss: ");const d=xn(r),f=Mo(en(i,o)),c=Ty(f,d),h=en(f,c),g=It(Ke(xn(.5),As(c)),Ke(d,h));return Ui(g,l,a)}const FQ=ne({huberLoss_:$Q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PQ(t,e,n,r=1e-7,a=to.SUM_BY_NONZERO_WEIGHTS){const o=V(t,"labels","logLoss"),i=V(e,"predictions","logLoss");let l=null;n!=null&&(l=V(n,"weights","logLoss")),So(o.shape,i.shape,"Error in logLoss: ");const d=xn(1),f=xn(r),c=si(Ke(o,yp(It(i,f)))),h=Ke(en(d,o),yp(It(en(d,i),f))),g=en(c,h);return Ui(g,l,a)}const LQ=ne({logLoss_:PQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BQ(t,e,n,r=to.SUM_BY_NONZERO_WEIGHTS){const a=V(t,"labels","meanSquaredError"),o=V(e,"predictions","meanSquaredError");let i=null;n!=null&&(i=V(n,"weights","meanSquaredError")),So(a.shape,o.shape,"Error in meanSquaredError: ");const l=yN(a,o);return Ui(l,i,r)}const zQ=ne({meanSquaredError_:BQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UQ(t,e){const n=V(t,"labels","sigmoidCrossEntropyWithLogits"),r=V(e,"logits","sigmoidCrossEntropyWithLogits");So(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=$y(r),o=Ke(r,n),i=XA(Li(si(Mo(r))));return It(en(a,o),i)}function VQ(t,e,n,r=0,a=to.SUM_BY_NONZERO_WEIGHTS){let o=V(t,"multiClassLabels","sigmoidCrossEntropy");const i=V(e,"logits","sigmoidCrossEntropy");let l=null;if(n!=null&&(l=V(n,"weights","sigmoidCrossEntropy")),So(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const f=xn(r),c=xn(1),h=xn(.5);o=It(Ke(o,en(c,f)),Ke(h,f))}const d=UQ(o,i);return Ui(d,l,a)}const jQ=ne({sigmoidCrossEntropy_:VQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HQ(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Bi((a,o,i)=>{const d=ZA(o,[n],!0),f=en(yr(o,"float32"),d);i([a,f]);const c=si(Ke(f,a));return{value:ir(c,[n]),gradFunc:(v,b)=>{const[w,x]=b,E=ca(v.shape,[n]);return[Ke(Ae(v,E),en(yr(w,"float32"),Li(x))),Ke(Ae(v,E),en(Li(x),yr(w,"float32")))]}}})(t,e)}function WQ(t,e,n,r=0,a=to.SUM_BY_NONZERO_WEIGHTS){let o=V(t,"onehotLabels","softmaxCrossEntropy");const i=V(e,"logits","softmaxCrossEntropy");let l=null;if(n!=null&&(l=V(n,"weights","softmaxCrossEntropy")),So(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const f=xn(r),c=xn(1),h=xn(o.shape[1]);o=It(Ke(o,en(c,f)),fn(f,h))}const d=HQ(o,i);return Ui(d,l,a)}const qQ=ne({softmaxCrossEntropy_:WQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GQ(t,e,n,r){const a=V(t,"indices","sparseFillEmptyRows","int32"),o=V(e,"values","sparseFillEmptyRows"),i=V(n,"denseShape","sparseFillEmptyRows","int32"),l=V(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(l.rank!==0)throw new Error(`Default value should be a scalar but received shape ${l.shape}`);const d={indices:a,values:o,denseShape:i,defaultValue:l},f=ae.runKernel(Nw,d);return{outputIndices:f[0],outputValues:f[1],emptyRowIndicator:f[2],reverseIndexMap:f[3]}}const KQ=ne({sparseFillEmptyRows_:GQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YQ(t,e,n){const r=V(t,"inputIndices","sparseReshape","int32"),a=V(e,"inputShape","sparseReshape","int32"),o=V(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const i={inputIndices:r,inputShape:a,newShape:o},l=ae.runKernel(Qv,i);return{outputIndices:l[0],outputShape:l[1]}}const XQ=ne({sparseReshape_:YQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QQ(t,e,n){const r=V(t,"data","sparseSegmentMean"),a=V(e,"indices","sparseSegmentMean","int32"),o=V(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const i={data:r,indices:a,segmentIds:o};return ae.runKernel(Dw,i)}const ZQ=ne({sparseSegmentMean_:QQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JQ(t,e,n){const r=V(t,"data","sparseSegmentSum"),a=V(e,"indices","sparseSegmentSum","int32"),o=V(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const i={data:r,indices:a,segmentIds:o};return ae.runKernel(Ow,i)}const eZ=ne({sparseSegmentSum_:JQ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tZ(t,e,n,r,a,o,i,l){const d=V(t,"data","stringNGrams","string");if(d.dtype!=="string")throw new Error("Data must be of datatype string");if(d.shape.length!==1)throw new Error(`Data must be a vector, saw: ${d.shape}`);const f=V(e,"dataSplits","stringNGrams");if(f.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:l},h={data:d,dataSplits:f},g=ae.runKernel($w,h,c);return{nGrams:g[0],nGramsSplits:g[1]}}const nZ=ne({stringNGrams_:tZ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rZ(t,e,n=!0){const r=V(t,"input","stringSplit","string"),a=V(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const o={skipEmpty:n},i={input:r,delimiter:a},l=ae.runKernel(Fw,i,o);return{indices:l[0],values:l[1],shape:l[2]}}const aZ=ne({stringSplit_:rZ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZ(t,e){const n=V(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return ae.runKernel(Pw,a,r)}const sZ=ne({stringToHashBucketFast_:oZ});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZ(t,e,n,r=!0){const a=V(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:r};return ae.runKernel(Mw,{x:a},o)}const uZ=ne({staticRegexReplace_:iZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lZ={fft:m_,ifft:Fy,rfft:g_,irfft:vN},cZ={hammingWindow:MX,hannWindow:CN,frame:TN,stft:LX},Py={flipLeftRight:VX,grayscaleToRGB:HX,resizeNearestNeighbor:gQ,resizeBilinear:hQ,rgbToGrayscale:qX,rotateWithOffset:KX,cropAndResize:zX,nonMaxSuppression:XX,nonMaxSuppressionAsync:aQ,nonMaxSuppressionWithScore:sQ,nonMaxSuppressionWithScoreAsync:uQ,nonMaxSuppressionPadded:cQ,nonMaxSuppressionPaddedAsync:fQ,threshold:bQ,transform:wQ},dZ={bandPart:xQ,gramSchmidt:CQ,qr:kQ},fZ={absoluteDifference:AQ,computeWeightedLoss:Ui,cosineDistance:DQ,hingeLoss:MQ,huberLoss:FQ,logLoss:LQ,meanSquaredError:zQ,sigmoidCrossEntropy:jQ,softmaxCrossEntropy:qQ},pZ={sparseFillEmptyRows:KQ,sparseReshape:XQ,sparseSegmentMean:ZQ,sparseSegmentSum:eZ},hZ={stringNGrams:nZ,stringSplit:aZ,stringToHashBucketFast:sZ,staticRegexReplace:uZ};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mZ=new Map,gZ=new Map;class vZ{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class zl{constructor(){this.classNameMap={}}static getMap(){return zl.instance==null&&(zl.instance=new zl),zl.instance}static register(e){zl.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function yZ(t,e,n){W(t.className!=null,()=>"Class being registered does not have the static className property defined."),W(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),W(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,a=e+">"+r;return zl.register(t),mZ.set(a,t),gZ.set(t,a),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ul extends vZ{minimize(e,n=!1,r){const{value:a,grads:o}=this.computeGradients(e,r);if(r!=null){const i=r.map(l=>({name:l.name,tensor:o[l.name]}));this.applyGradients(i)}else this.applyGradients(o);return Hr(o),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return rG(e,n)}dispose(){this.iterations_!=null&&Hr(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:xn(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ul,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bZ extends Ul{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=ae.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=ae.registeredVariables[r],i=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:dn(()=>$o(o).variable(i))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:dn(()=>$o(o).variable(i))});const l=Array.isArray(e)?e[a].tensor:e[r];if(l==null)return;const d=this.accumulatedGrads[a].variable,f=this.accumulatedUpdates[a].variable;dn(()=>{const c=It(Ke(d,this.rho),Ke(As(l),1-this.rho)),h=Ke(fn(Pi(It(f,this.epsilon)),Pi(It(d,this.epsilon))),l),g=It(Ke(f,this.rho),Ke(As(h),1-this.rho));d.assign(c),f.assign(g);const v=It(Ke(h,-this.learningRate),o);o.assign(v)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Hr(this.accumulatedGrads.map(e=>e.variable)),Hr(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SZ extends Ul{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=ae.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:dn(()=>mp(o.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(e)?e[a].tensor:e[r];if(i==null)return;const l=this.accumulatedGrads[a].variable;dn(()=>{const d=It(l,As(i));l.assign(d);const f=It(Ke(fn(i,Pi(It(d,ae.backend.epsilon()))),-this.learningRate),o);o.assign(f)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Hr(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wZ extends Ul{static get className(){return"Adam"}constructor(e,n,r,a=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],dn(()=>{this.accBeta1=xn(n).variable(),this.accBeta2=xn(r).variable()}),a==null&&(this.epsilon=ae.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);dn(()=>{const r=en(1,this.accBeta1),a=en(1,this.accBeta2);n.forEach((o,i)=>{const l=ae.registeredVariables[o],d=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:dn(()=>$o(l).variable(d))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${o}/v`,variable:dn(()=>$o(l).variable(d))});const f=Array.isArray(e)?e[i].tensor:e[o];if(f==null)return;const c=this.accumulatedFirstMoment[i].variable,h=this.accumulatedSecondMoment[i].variable,g=It(Ke(c,this.beta1),Ke(f,1-this.beta1)),v=It(Ke(h,this.beta2),Ke(As(f),1-this.beta2)),b=fn(g,r),w=fn(v,a);c.assign(g),h.assign(v);const x=It(Ke(fn(b,It(Pi(w),this.epsilon)),-this.learningRate),l);l.assign(x)}),this.accBeta1.assign(Ke(this.accBeta1,this.beta1)),this.accBeta2.assign(Ke(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Hr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Hr(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),dn(()=>{this.accBeta1.assign(gp(this.beta1,this.iterations_+1)),this.accBeta2.assign(gp(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Z extends Ul{static get className(){return"Adamax"}constructor(e,n,r,a=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],dn(()=>{this.iteration=xn(0).variable(),this.accBeta1=xn(n).variable()}),a==null&&(this.epsilon=ae.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);dn(()=>{const r=en(1,this.accBeta1),a=fn(-this.learningRate,It(Ke(this.iteration,this.decay),1));n.forEach((o,i)=>{const l=ae.registeredVariables[o],d=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:$o(l).variable(d)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${o}/v`,variable:$o(l).variable(d)});const f=Array.isArray(e)?e[i].tensor:e[o];if(f==null)return;const c=this.accumulatedFirstMoment[i].variable,h=this.accumulatedWeightedInfNorm[i].variable,g=It(Ke(c,this.beta1),Ke(f,1-this.beta1)),v=Ke(h,this.beta2),b=Mo(f),w=nN(v,b);c.assign(g),h.assign(w);const x=It(Ke(fn(a,r),fn(g,It(w,this.epsilon))),l);l.assign(x)}),this.iteration.assign(It(this.iteration,1)),this.accBeta1.assign(Ke(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Hr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Hr(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DN extends Ul{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Array.isArray(e)?e[a].tensor:e[r];if(o==null)return;const i=ae.registeredVariables[r];dn(()=>{const l=It(Ke(this.c,o),i);i.assign(l)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=ai(xn(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xZ extends DN{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=xn(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=ae.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:dn(()=>$o(o).variable(!1))});const i=this.accumulations[a].variable,l=Array.isArray(e)?e[a].tensor:e[r];l!=null&&dn(()=>{let d;const f=It(Ke(this.m,i),l);this.useNesterov?d=It(Ke(this.c,It(l,Ke(f,this.m))),o):d=It(Ke(this.c,f),o),i.assign(f),o.assign(d)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Hr(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EZ extends Ul{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,a=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,a==null&&(this.epsilon=ae.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=ae.registeredVariables[r],i=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:dn(()=>$o(o).variable(i))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:dn(()=>$o(o).variable(i))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:dn(()=>$o(o).variable(i))});const l=Array.isArray(e)?e[a].tensor:e[r];if(l==null)return;const d=this.accumulatedMeanSquares[a].variable,f=this.accumulatedMoments[a].variable;dn(()=>{const c=It(Ke(d,this.decay),Ke(As(l),1-this.decay));if(this.centered){const h=this.accumulatedMeanGrads[a].variable,g=It(Ke(h,this.decay),Ke(l,1-this.decay)),v=fn(Ke(l,this.learningRate),Pi(en(c,It(As(g),this.epsilon)))),b=It(Ke(f,this.momentum),v);d.assign(c),h.assign(g),f.assign(b);const w=en(o,b);o.assign(w)}else{const h=It(Ke(d,this.decay),Ke(As(l),1-this.decay)),g=It(Ke(f,this.momentum),fn(Ke(l,this.learningRate),Pi(It(h,this.epsilon))));d.assign(h),f.assign(g);const v=en(o,g);o.assign(v)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Hr(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Hr(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Hr(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CZ=[bZ,SZ,wZ,_Z,xZ,EZ,DN];function TZ(){for(const t of CZ)yZ(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kZ="model",IZ=".json",RZ=".weights.bin";function ON(t){return new Promise(e=>setTimeout(e)).then(t)}class Vl{constructor(e){if(!Zt().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Vl.URL_SCHEME)&&(e=e.slice(Vl.URL_SCHEME.length)),(e==null||e.length===0)&&(e=kZ),this.modelJsonFileName=e+IZ,this.weightDataFileName=e+RZ}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=ks.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const a=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o=wA(e,a),i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),l=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(l.download=this.modelJsonFileName,l.href=i,await ON(()=>l.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const d=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;d.download=this.weightDataFileName,d.href=r,await ON(()=>d.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:dp(e)}}}}Vl.URL_SCHEME="downloads://";class AZ{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{const o=JSON.parse(a.target.result),i=o.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}const d=Jw(o,f=>this.loadWeights(f));e(d)},r.onerror=a=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const i of e)n.push(...i.weights),r.push(...i.paths);const a=this.checkManifestAndWeightFiles(e),o=r.map(i=>this.loadWeightsFile(i,a[i]));return Promise.all(o).then(i=>[n,i])}loadWeightsFile(e,n){return new Promise((r,a)=>{const o=new FileReader;o.onload=i=>{const l=i.target.result;r(l)},o.onerror=i=>a(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(o=>SA(o.name)),a={};for(const o of e)o.paths.forEach(i=>{const l=SA(i);if(n.indexOf(l)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${l}'`);if(n.push(l),r.indexOf(l)===-1)throw new Error(`Weight file with basename '${l}' is not provided.`);a[i]=this.weightsFiles[r.indexOf(l)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}const NZ=t=>Zt().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Vl.URL_SCHEME)?DZ(t.slice(Vl.URL_SCHEME.length)):null;vr.registerSaveRouter(NZ);function DZ(t="model"){return new Vl(t)}function OZ(t){return new AZ(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MN(t,e,n,r){i(t),n=n??0,r=r??1,l(n,r);let a=0;const o=d=>(d.then(f=>{const c=n+ ++a/t.length*(r-n);return e(c),f}),d);function i(d){W(d!=null&&Array.isArray(d)&&d.length>0,()=>"promises must be a none empty array")}function l(d,f){W(d>=0&&d<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${d}`),W(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${f}`),W(f>=d,()=>`startFraction must be no more than endFraction, but got startFraction ${d} and endFraction ${f}`)}return Promise.all(t.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function $N(t,e){e==null&&(e={});const n=e.fetchFunc==null?Zt().platform.fetch:e.fetchFunc,r=t.map(h=>n(h,e.requestInit,{isBinary:!0})),l=(e.onProgress==null?await Promise.all(r):await MN(r,e.onProgress,0,.5)).map(h=>h.arrayBuffer());return e.onProgress==null?await Promise.all(l):await MN(l,e.onProgress,.5,1)}async function MZ(t,e="",n,r){return FN(i=>$N(i,{requestInit:r}))(t,e,n)}function FN(t){return async(e,n="",r)=>{const a=e.map(()=>!1),o={},i=r!=null?r.map(()=>!1):[],l=[];if(e.forEach((v,b)=>{let w=0;v.weights.forEach(x=>{const E="quantization"in x?x.quantization.dtype:x.dtype,T=Qw[E]*Ce(x.shape),C=()=>{a[b]=!0,o[b]==null&&(o[b]=[]),o[b].push({manifestEntry:x,groupOffset:w,sizeBytes:T})};r!=null?r.forEach((I,D)=>{I===x.name&&(C(),i[D]=!0)}):C(),l.push(x.name),w+=T})}),!i.every(v=>v)){const v=r.filter((b,w)=>!i[w]);throw new Error(`Could not find weights in manifest with names: ${v.join(", ")}. 
Manifest JSON has weights with names: ${l.join(", ")}.`)}const d=a.reduce((v,b,w)=>(b&&v.push(w),v),[]),f=[];d.forEach(v=>{e[v].paths.forEach(b=>{const w=n+(n.endsWith("/")?"":"/")+b;f.push(w)})});const c=await t(f),h={};let g=0;return d.forEach(v=>{const b=e[v].paths.length,w=new ks(c.slice(g,g+b));o[v].forEach(E=>{const T=w.slice(E.groupOffset,E.groupOffset+E.sizeBytes),C=yA(T,[E.manifestEntry]);for(const I in C)h[I]=C[I]}),g+=b}),h}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Z="application/octet-stream",FZ="application/json";class E_{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(W(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Zt().platform.fetch,W(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&W(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=wA(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(a)],{type:FZ}),"model.json"),e.weightData!=null){const i=ks.join(e.weightData);n.body.append("model.weights.bin",new Blob([i],{type:$Z}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:dp(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return Jw(n,o=>this.loadWeights(o))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=PZ(n),o=this.weightPathPrefix||r,i=xA(e),l=[],d=[];for(const c of e)for(const h of c.paths)this.weightUrlConverter!=null?d.push(this.weightUrlConverter(h)):l.push(o+h+a);this.weightUrlConverter&&l.push(...await Promise.all(d));const f=await $N(l,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[i,f]}}E_.URL_SCHEME_REGEX=/^https?:\/\//;function PZ(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),a=n>e?t.substring(n):"";return[r+"/",a]}function C_(t){return t.match(E_.URL_SCHEME_REGEX)!=null}const PN=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>C_(r)):n=C_(t),n)return T_(t,e)}return null};vr.registerSaveRouter(PN),vr.registerLoadRouter(PN);function T_(t,e){return new E_(t,e)}function LZ(t,e){return T_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class k_{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class LN{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class BZ{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function zZ(t,e,n,r){const a=arguments;return new BZ(BN(...a))}function BN(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new k_(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new k_({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new k_({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function UZ(t){return new LN(t)}function VZ(t){return new LN(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zN=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:ks,browserFiles:OZ,browserHTTPRequest:LZ,concatenateArrayBuffers:Uj,copyModel:lH,decodeWeights:yA,encodeWeights:Pj,fromMemory:zZ,fromMemorySync:BN,getLoadHandlers:Yj,getModelArtifactsForJSON:Jw,getModelArtifactsForJSONSync:_A,getModelArtifactsInfoForJSON:dp,getSaveHandlers:Kj,getWeightSpecs:xA,http:T_,isHTTPScheme:C_,listModels:iH,loadWeights:MZ,moveModel:cH,registerLoadRouter:Gj,registerSaveRouter:qj,removeModel:uH,weightsLoaderFactory:FN,withSaveHandler:UZ,withSaveHandlerSync:VZ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let jl;function jZ(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,o=!1,i=!1,l=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)l=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Uw(KR,ae.backendName)!=null){const b={pixels:t},w={numChannels:e};return ae.runKernel(KR,b,w)}const[f,c]=a?[t.videoWidth,t.videoHeight]:[t.width,t.height];let h;if(i)h=t.getContext("2d").getImageData(0,0,f,c).data;else if(r||n)h=t.data;else if(o||a||l){if(jl==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")jl=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else jl=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});jl.canvas.width=f,jl.canvas.height=c,jl.drawImage(t,0,0,f,c),h=jl.getImageData(0,0,f,c).data}let g;if(e===4)g=new Int32Array(h);else{const b=f*c;g=new Int32Array(b*e);for(let w=0;w<b;w++)for(let x=0;x<e;++x)g[w*e+x]=h[w*4+x]}return SN(g,[c,f,e],"int32")}function HZ(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}async function WZ(t,e){let n=V(t,"img","toPixels");if(!(t instanceof Lr)){const f=n;n=yr(f,"int32"),f.dispose()}HZ(n);const[r,a]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],i=await n.data(),l=n.dtype==="float32"?255:1,d=new Uint8ClampedArray(a*r*4);for(let f=0;f<r*a;++f){const c=[0,0,0,255];for(let g=0;g<o;g++){const v=i[f*o+g];if(n.dtype==="float32"){if(v<0||v>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${v}.`)}else if(n.dtype==="int32"&&(v<0||v>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${v}.`);o===1?(c[0]=v*l,c[1]=v*l,c[2]=v*l):c[g]=v*l}const h=f*4;d[h+0]=Math.round(c[0]),d[h+1]=Math.round(c[1]),d[h+2]=Math.round(c[2]),d[h+3]=Math.round(c[3])}return n!==t&&n.dispose(),d}const qZ=ne({fromPixels_:jZ});function UN(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(Ce(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const a=e.shape,o=a[a.length-1];let i=1;for(let h=0;h<a.length-1;++h)i*=a[h];const l=t.shape,d=a.slice();d.pop();let f=1;for(let h=o;h<n;++h)f*=l[h],d.push(l[h]);const c=[...yt(t.shape).map(h=>h/f),1].slice(0,o);return[d,i,f,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I_=-2,GZ=-1;function KZ(t,e,n){const r=t.shape.length;W(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),W(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)W(e[a]+n[a]<=t.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${e[a]+n[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function VN(t,e,n){const r=[];for(let a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function jN(t,e,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function HN(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function WN(t,e,n){let r;const a=t.shape.length;typeof e=="number"?r=[e,...new Array(a-1).fill(0)]:e.length<a?r=e.concat(new Array(a-e.length).fill(0)):r=e.slice(),r.forEach(i=>{W(i!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(a).fill(-1):typeof n=="number"?o=[n,...new Array(a-1).fill(-1)]:n.length<a?o=n.concat(new Array(a-n.length).fill(-1)):o=n,o=o.map((i,l)=>i>=0?i:(W(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${l}.`),t.shape[l]-r[l])),[r,o]}function qN(t,e,n,r,a,o,i,l,d){let f;if(r==null?(f=new Array(e.length),f.fill(1)):f=r,i!=null&&(i&i-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const h={dims:f.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:f.slice(),beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:l,shrinkAxisMask:d};for(let C=0;C<h.dims;C++)c&&(1<<C&l)!==0&&h.numAddAxisAfterEllipsis++,1<<C&i&&(c=!0);c||(h.ellipsisMask|=1<<h.dims,h.dims++);const g={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};YZ(h,g);let v=!0,b=!0,w=!0;const x=[],E=[];for(let C=0;C<t.length;++C){if(g.strides[C]===0)throw Error(`strides[${C}] must be non-zero`);const I=!!(g.shrinkAxisMask&1<<C),D=t[C];if(D===-1){x.push(I?1:-1);continue}const F=[g.beginMask&1<<C,g.endMask&1<<C],B=[g.strides[C]>0?0:-1,g.strides[C]>0?D:D-1];if(I&&g.strides[C]<=0)throw Error("only stride 1 allowed on non-range indexing.");w=w&&g.strides[C]===1;const H=!!(g.beginMask&1<<C&&g.endMask&1<<C);if(g.beginValid&&g.endValid){if(I){const K=g.begin[C]<0?D+g.begin[C]:g.begin[C];if(g.begin[C]=K,g.end[C]=g.begin[C]+1,K<0||K>=D)throw Error(`slice index ${g.begin[C]} of dimension ${C} out of bounds.`)}else g.begin[C]=GN(g.begin[C],0,g.strides[C],D,F,B),g.end[C]=GN(g.end[C],1,g.strides[C],D,F,B);const O=g.strides[C]===1&&g.begin[C]===0&&g.end[C]===D;v=v&&O,b=b&&(C===0&&g.strides[C]===1||O)}else v=v&&g.strides[C]===1&&H,b=b&&(C===0&&g.strides[C]===1||H);let z,U=!1;if(g.beginValid&&g.endValid?(z=g.end[C]-g.begin[C],U=!0):I?(z=1,U=!0):H&&D>=0&&(g.strides[C]<0?z=-D:z=D,U=!0),U){let O;z===0||z<0!=g.strides[C]<0?O=0:O=Math.trunc(z/g.strides[C])+(z%g.strides[C]!==0?1:0),x.push(O)}else x.push(-1)}for(let C=0;C<g.finalShapeGatherIndices.length;++C){const I=g.finalShapeGatherIndices[C];I>=0?E.push(x[I]):I===I_&&E.push(1)}return{finalShapeSparse:E.filter((C,I)=>g.finalShapeGatherIndices[I]!==I_),finalShape:E,isIdentity:v,sliceDim0:b,isSimpleSlice:w,begin:g.begin,end:g.end,strides:g.strides}}function YZ(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const a=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<a;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(I_),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(GZ),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function GN(t,e,n,r,a,o){if(a[e])return n>0?o[e]:o[e+1&1];{const i=t<0?r+t:t;return i<o[0]?o[0]:i>o[1]?o[1]:i}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KN(t,e){const n=t[0].length;t.forEach((a,o)=>{W(a.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),W(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((a,o)=>{for(let i=0;i<n;i++)W(i===e||a[i]===r[i],()=>`Error in concat${n}D: Shape of tensors[${o}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`)})}function ad(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ii;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(ii||(ii={}));function XZ(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const o=n[a],i=r[r.length-n.length+a],l=r[i];if(o>=0)if(l>=0){if(l!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${a+t}] = ${o} but shape[${a+t}] = ${l}`)}else r[i]=o}return r}function QZ(t){const e={FIRST_DIM_SIZE:ii.FIRST_DIM_SIZE,VALUE_ROWIDS:ii.VALUE_ROWIDS,ROW_LENGTHS:ii.ROW_LENGTHS,ROW_SPLITS:ii.ROW_SPLITS,ROW_LIMITS:ii.ROW_LIMITS,ROW_STARTS:ii.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function ZZ(t){return t.length===0?0:t[0]===ii.FIRST_DIM_SIZE?t.length-1:t.length}function JZ(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const o=t[a],i=e[a+1];if(o>=0&&i>=0&&o!==1&&o!==i)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${a-t.length}] = ${o} but ragged tensor input.flatValues.shape[${a-t.length}] = ${i}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YN(t,e,n){const r=n*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ly(t,e,n,r=!0){let a=[];if(r)a=a.concat(e.slice(0)),a.push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);const o=e.length;for(let i=0;i<o;++i)a=a.concat([t[i+1]/e[i],e[i]]);a=a.concat(t.slice(o+1))}return a}function By(t,e,n=!0){const r=[];if(n){r.push(e);for(let a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{const a=[],o=[];for(let i=1;i<t;++i)i>=e*2+1||i%2===1?o.push(i):a.push(i);r.push(...a),r.push(0),r.push(...o)}return r}function zy(t,e,n,r=!0){const a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?r?a.push(e[o-1]*t[o]):a.push(t[o]/e[o-1]):a.push(t[o]);return a}function XN(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function QN(t,e,n){const r=t.slice(0,1);for(let a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eJ=1.7580993408473768,tJ=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nJ=.3275911,rJ=.254829592,aJ=-.284496736,oJ=1.421413741,sJ=-1.453152027,iJ=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function od(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function uJ(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function lJ(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=0;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function cJ(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=2;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function ZN(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function dJ(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function fJ(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){const o=(e?2:-2)*Math.PI*(a/t);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}function pJ(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),a=Math.cos(r),o=Math.sin(r);return{real:a,imag:o}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R_="->",hJ=/->/g,JN=",",eD="...";function mJ(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(hJ,"").length)/R_.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${R_}").`);const[r,a]=t.split(R_);W(r.indexOf(eD)===-1,()=>`The ellipsis notation ("${eD}") is not supported yet.`);const o=r.split(JN),i=o.length;if(e!==i)throw new Error(`Expected ${i} input tensors, received ${e}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const l=[];for(let g=0;g<a.length;++g){const v=a[g];if(!o.some(b=>b.indexOf(v)!==-1))throw new Error(`Output subscripts contain the label ${v} not present in the input subscripts.`);l.indexOf(v)===-1&&l.push(v)}for(let g=0;g<r.length;++g){const v=r[g];l.indexOf(v)===-1&&v!==JN&&l.push(v)}const d=new Array(o.length);for(let g=0;g<i;++g){if(new Set(o[g].split("")).size!==o[g].length)throw new Error(`Found duplicate axes in input component ${o[g]}. Support for duplicate axes in input is not implemented yet.`);d[g]=[];for(let v=0;v<o[g].length;++v)d[g].push(l.indexOf(o[g][v]))}const f=l.length,c=a.length,h=[];for(let g=c;g<f;++g)h.push(g);return{allDims:l,summedDims:h,idDims:d}}function gJ(t,e){let n=new Array(t);n.fill(-1);for(let a=0;a<e.length;++a)n[e[a]]=a;const r=[];for(let a=0;a<t;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function vJ(t,e,n){const r=new Array(t);for(let a=0;a<n.length;++a){const o=n[a].shape;for(let i=0;i<e[a].length;++i)r[e[a][i]]===void 0?r[e[a][i]]=o[i]:W(r[e[a][i]]===o[i],()=>`Expected dimension ${r[e[a][i]]} at axis ${i} of input shaped ${JSON.stringify(o)}, but got dimension ${o[i]}`)}}function yJ(t,e){const n=t,r=[];let a=0;t.length===0&&n.push(-1),a=t.length+1;for(let i=0;i<a;++i)r.push([]);const o=[];for(let i=0;i<n.length;++i){const l=n[i],d=SJ(e,l);for(const f of d)o.indexOf(f)===-1&&(r[i].push(f),o.push(f))}return{path:n,steps:r}}function bJ(t){return t.every((e,n)=>e===n)}function SJ(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function tD(t,e,n=0){let r=[];if(typeof e=="number")W(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const a=e.reduce((i,l)=>(l===-1&&(i+=1),i),0);W(a<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const i=e.reduce((l,d)=>d>0?l+d:l);e[o]=t.shape[n]-i}W(t.shape[n]===e.reduce((i,l)=>i+l),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nD(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function rD(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function aD(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oD(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function sD(t,e){return`size ${t} must be non-negative, not ${e}`}function iD(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function uD(t,e){const n=Ce(t),r=Ce(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function lD(t,e){const n=Ce(t),r=Ce(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uy(){return"segment ids must be >= 0"}function cD(){return"segment ids are not increasing"}function dD(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function fD(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pD(t,e,n,r){const a=e.shape.length,o=t.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let h=0;h<r;++h)if(t.shape[h]!==e.shape[h])throw new Error(`x.shape[${h}]: ${t.shape[h]} should be equal to indices.shape[${h}]: ${e.shape[h]}.`);const i=t.shape[n],l=[];let d=1,f=1,c=1;for(let h=0;h<r;++h)l.push(t.shape[h]),d*=t.shape[h];for(let h=r;h<n;h++)l.push(t.shape[h]),f*=t.shape[h];for(let h=r;h<a;h++)l.push(e.shape[h]);for(let h=n+1;h<o;h++)l.push(t.shape[h]),c*=t.shape[h];return{batchSize:d,sliceSize:c,outerSize:f,dimSize:i,outputShape:l}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xp(t){try{return t.map(e=>sp(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function hD(t){return t.map(e=>Al(e))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */TZ();var A_={},mD;function wJ(){return mD||(mD=1,(function(){var t;function e(S){var R=0;return function(){return R<S.length?{done:!1,value:S[R++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,R,M){return S==Array.prototype||S==Object.prototype||(S[R]=M.value),S};function r(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var R=0;R<S.length;++R){var M=S[R];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var a=r(this);function o(S,R){if(R)e:{var M=a;S=S.split(".");for(var L=0;L<S.length-1;L++){var Y=S[L];if(!(Y in M))break e;M=M[Y]}S=S[S.length-1],L=M[S],R=R(L),R!=L&&R!=null&&n(M,S,{configurable:!0,writable:!0,value:R})}}o("Symbol",function(S){function R(re){if(this instanceof R)throw new TypeError("Symbol is not a constructor");return new M(L+(re||"")+"_"+Y++,re)}function M(re,Q){this.g=re,n(this,"description",{configurable:!0,writable:!0,value:Q})}if(S)return S;M.prototype.toString=function(){return this.g};var L="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",Y=0;return R}),o("Symbol.iterator",function(S){if(S)return S;S=Symbol("Symbol.iterator");for(var R="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),M=0;M<R.length;M++){var L=a[R[M]];typeof L=="function"&&typeof L.prototype[S]!="function"&&n(L.prototype,S,{configurable:!0,writable:!0,value:function(){return i(e(this))}})}return S});function i(S){return S={next:S},S[Symbol.iterator]=function(){return this},S}function l(S){var R=typeof Symbol<"u"&&Symbol.iterator&&S[Symbol.iterator];return R?R.call(S):{next:e(S)}}function d(S){if(!(S instanceof Array)){S=l(S);for(var R,M=[];!(R=S.next()).done;)M.push(R.value);S=M}return S}var f=typeof Object.create=="function"?Object.create:function(S){function R(){}return R.prototype=S,new R},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var h;e:{var g={a:!0},v={};try{v.__proto__=g,h=v.a;break e}catch{}h=!1}c=h?function(S,R){if(S.__proto__=R,S.__proto__!==R)throw new TypeError(S+" is not extensible");return S}:null}var b=c;function w(S,R){if(S.prototype=f(R.prototype),S.prototype.constructor=S,b)b(S,R);else for(var M in R)if(M!="prototype")if(Object.defineProperties){var L=Object.getOwnPropertyDescriptor(R,M);L&&Object.defineProperty(S,M,L)}else S[M]=R[M];S.na=R.prototype}function x(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function E(S){if(S.l)throw new TypeError("Generator is already running");S.l=!0}x.prototype.s=function(S){this.h=S};function T(S,R){S.j={da:R,ea:!0},S.g=S.o||S.u}x.prototype.return=function(S){this.j={return:S},this.g=this.u};function C(S,R,M){return S.g=M,{value:R}}function I(S){this.g=new x,this.h=S}function D(S,R){E(S.g);var M=S.g.i;return M?F(S,"return"in M?M.return:function(L){return{value:L,done:!0}},R,S.g.return):(S.g.return(R),B(S))}function F(S,R,M,L){try{var Y=R.call(S.g.i,M);if(!(Y instanceof Object))throw new TypeError("Iterator result "+Y+" is not an object");if(!Y.done)return S.g.l=!1,Y;var re=Y.value}catch(Q){return S.g.i=null,T(S.g,Q),B(S)}return S.g.i=null,L.call(S.g,re),B(S)}function B(S){for(;S.g.g;)try{var R=S.h(S.g);if(R)return S.g.l=!1,{value:R.value,done:!1}}catch(M){S.g.h=void 0,T(S.g,M)}if(S.g.l=!1,S.g.j){if(R=S.g.j,S.g.j=null,R.ea)throw R.da;return{value:R.return,done:!0}}return{value:void 0,done:!0}}function H(S){this.next=function(R){return E(S.g),S.g.i?R=F(S,S.g.i.next,R,S.g.s):(S.g.s(R),R=B(S)),R},this.throw=function(R){return E(S.g),S.g.i?R=F(S,S.g.i.throw,R,S.g.s):(T(S.g,R),R=B(S)),R},this.return=function(R){return D(S,R)},this[Symbol.iterator]=function(){return this}}function z(S){function R(L){return S.next(L)}function M(L){return S.throw(L)}return new Promise(function(L,Y){function re(Q){Q.done?L(Q.value):Promise.resolve(Q.value).then(R,M).then(re,Y)}re(S.next())})}function U(S){return z(new H(new I(S)))}o("Promise",function(S){function R(Q){this.h=0,this.i=void 0,this.g=[],this.s=!1;var fe=this.j();try{Q(fe.resolve,fe.reject)}catch(ge){fe.reject(ge)}}function M(){this.g=null}function L(Q){return Q instanceof R?Q:new R(function(fe){fe(Q)})}if(S)return S;M.prototype.h=function(Q){if(this.g==null){this.g=[];var fe=this;this.i(function(){fe.l()})}this.g.push(Q)};var Y=a.setTimeout;M.prototype.i=function(Q){Y(Q,0)},M.prototype.l=function(){for(;this.g&&this.g.length;){var Q=this.g;this.g=[];for(var fe=0;fe<Q.length;++fe){var ge=Q[fe];Q[fe]=null;try{ge()}catch(Re){this.j(Re)}}}this.g=null},M.prototype.j=function(Q){this.i(function(){throw Q})},R.prototype.j=function(){function Q(Re){return function(qe){ge||(ge=!0,Re.call(fe,qe))}}var fe=this,ge=!1;return{resolve:Q(this.D),reject:Q(this.l)}},R.prototype.D=function(Q){if(Q===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(Q instanceof R)this.H(Q);else{e:switch(typeof Q){case"object":var fe=Q!=null;break e;case"function":fe=!0;break e;default:fe=!1}fe?this.A(Q):this.o(Q)}},R.prototype.A=function(Q){var fe=void 0;try{fe=Q.then}catch(ge){this.l(ge);return}typeof fe=="function"?this.I(fe,Q):this.o(Q)},R.prototype.l=function(Q){this.u(2,Q)},R.prototype.o=function(Q){this.u(1,Q)},R.prototype.u=function(Q,fe){if(this.h!=0)throw Error("Cannot settle("+Q+", "+fe+"): Promise already settled in state"+this.h);this.h=Q,this.i=fe,this.h===2&&this.G(),this.B()},R.prototype.G=function(){var Q=this;Y(function(){if(Q.C()){var fe=a.console;typeof fe<"u"&&fe.error(Q.i)}},1)},R.prototype.C=function(){if(this.s)return!1;var Q=a.CustomEvent,fe=a.Event,ge=a.dispatchEvent;return typeof ge>"u"?!0:(typeof Q=="function"?Q=new Q("unhandledrejection",{cancelable:!0}):typeof fe=="function"?Q=new fe("unhandledrejection",{cancelable:!0}):(Q=a.document.createEvent("CustomEvent"),Q.initCustomEvent("unhandledrejection",!1,!0,Q)),Q.promise=this,Q.reason=this.i,ge(Q))},R.prototype.B=function(){if(this.g!=null){for(var Q=0;Q<this.g.length;++Q)re.h(this.g[Q]);this.g=null}};var re=new M;return R.prototype.H=function(Q){var fe=this.j();Q.M(fe.resolve,fe.reject)},R.prototype.I=function(Q,fe){var ge=this.j();try{Q.call(fe,ge.resolve,ge.reject)}catch(Re){ge.reject(Re)}},R.prototype.then=function(Q,fe){function ge(Rt,vt){return typeof Rt=="function"?function(Ot){try{Re(Rt(Ot))}catch(un){qe(un)}}:vt}var Re,qe,ft=new R(function(Rt,vt){Re=Rt,qe=vt});return this.M(ge(Q,Re),ge(fe,qe)),ft},R.prototype.catch=function(Q){return this.then(void 0,Q)},R.prototype.M=function(Q,fe){function ge(){switch(Re.h){case 1:Q(Re.i);break;case 2:fe(Re.i);break;default:throw Error("Unexpected state: "+Re.h)}}var Re=this;this.g==null?re.h(ge):this.g.push(ge),this.s=!0},R.resolve=L,R.reject=function(Q){return new R(function(fe,ge){ge(Q)})},R.race=function(Q){return new R(function(fe,ge){for(var Re=l(Q),qe=Re.next();!qe.done;qe=Re.next())L(qe.value).M(fe,ge)})},R.all=function(Q){var fe=l(Q),ge=fe.next();return ge.done?L([]):new R(function(Re,qe){function ft(Ot){return function(un){Rt[Ot]=un,vt--,vt==0&&Re(Rt)}}var Rt=[],vt=0;do Rt.push(void 0),vt++,L(ge.value).M(ft(Rt.length-1),qe),ge=fe.next();while(!ge.done)})},R});function O(S,R){S instanceof String&&(S+="");var M=0,L=!1,Y={next:function(){if(!L&&M<S.length){var re=M++;return{value:R(re,S[re]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}var K=typeof Object.assign=="function"?Object.assign:function(S,R){for(var M=1;M<arguments.length;M++){var L=arguments[M];if(L)for(var Y in L)Object.prototype.hasOwnProperty.call(L,Y)&&(S[Y]=L[Y])}return S};o("Object.assign",function(S){return S||K}),o("Object.is",function(S){return S||function(R,M){return R===M?R!==0||1/R===1/M:R!==R&&M!==M}}),o("Array.prototype.includes",function(S){return S||function(R,M){var L=this;L instanceof String&&(L=String(L));var Y=L.length;for(M=M||0,0>M&&(M=Math.max(M+Y,0));M<Y;M++){var re=L[M];if(re===R||Object.is(re,R))return!0}return!1}}),o("String.prototype.includes",function(S){return S||function(R,M){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(R instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(R,M||0)!==-1}}),o("Array.prototype.keys",function(S){return S||function(){return O(this,function(R){return R})}});var G=this||self;function Z(S,R){S=S.split(".");var M=G;S[0]in M||typeof M.execScript>"u"||M.execScript("var "+S[0]);for(var L;S.length&&(L=S.shift());)S.length||R===void 0?M[L]&&M[L]!==Object.prototype[L]?M=M[L]:M=M[L]={}:M[L]=R}function J(){throw Error("Invalid UTF8")}function se(S,R){return R=String.fromCharCode.apply(null,R),S==null?R:S+R}var oe,le=typeof TextDecoder<"u",pe,ye=typeof TextEncoder<"u",ve={},Ee=null;function _e(S){var R;R===void 0&&(R=0),ze(),R=ve[R];for(var M=Array(Math.floor(S.length/3)),L=R[64]||"",Y=0,re=0;Y<S.length-2;Y+=3){var Q=S[Y],fe=S[Y+1],ge=S[Y+2],Re=R[Q>>2];Q=R[(Q&3)<<4|fe>>4],fe=R[(fe&15)<<2|ge>>6],ge=R[ge&63],M[re++]=Re+Q+fe+ge}switch(Re=0,ge=L,S.length-Y){case 2:Re=S[Y+1],ge=R[(Re&15)<<2]||L;case 1:S=S[Y],M[re]=R[S>>2]+R[(S&3)<<4|Re>>4]+ge+L}return M.join("")}function Ie(S){var R=S.length,M=3*R/4;M%3?M=Math.floor(M):"=.".indexOf(S[R-1])!=-1&&(M="=.".indexOf(S[R-2])!=-1?M-2:M-1);var L=new Uint8Array(M),Y=0;return De(S,function(re){L[Y++]=re}),Y!==M?L.subarray(0,Y):L}function De(S,R){function M(ge){for(;L<S.length;){var Re=S.charAt(L++),qe=Ee[Re];if(qe!=null)return qe;if(!/^[\s\xa0]*$/.test(Re))throw Error("Unknown base64 encoding at char: "+Re)}return ge}ze();for(var L=0;;){var Y=M(-1),re=M(0),Q=M(64),fe=M(64);if(fe===64&&Y===-1)break;R(Y<<2|re>>4),Q!=64&&(R(re<<4&240|Q>>2),fe!=64&&R(Q<<6&192|fe))}}function ze(){if(!Ee){Ee={};for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),R=["+/=","+/","-_=","-_.","-_"],M=0;5>M;M++){var L=S.concat(R[M].split(""));ve[M]=L;for(var Y=0;Y<L.length;Y++){var re=L[Y];Ee[re]===void 0&&(Ee[re]=Y)}}}}var Ve=typeof Uint8Array=="function";function Le(S){return Ve&&S!=null&&S instanceof Uint8Array}var je;function Ue(S){if(this.L=S,S!==null&&S.length===0)throw Error("ByteString should be constructed with non-empty values")}var Ze=typeof Uint8Array.prototype.slice=="function",it=0,Je=0;function bt(S,R){if(S.constructor===Uint8Array)return S;if(S.constructor===ArrayBuffer)return new Uint8Array(S);if(S.constructor===Array)return new Uint8Array(S);if(S.constructor===String)return Ie(S);if(S.constructor===Ue)return!R&&(R=S.L)&&R.constructor===Uint8Array?R:(R=S.L,R=R==null||Le(R)?R:typeof R=="string"?Ie(R):null,(S=S.L=R)?new Uint8Array(S):je||(je=new Uint8Array(0)));if(S instanceof Uint8Array)return new Uint8Array(S.buffer,S.byteOffset,S.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function pt(S,R){return Error("Invalid wire type: "+S+" (at position "+R+")")}function et(){return Error("Failed to read varint, encoding is invalid.")}function Lt(S,R){R=R===void 0?{}:R,R=R.v===void 0?!1:R.v,this.h=null,this.g=this.i=this.j=0,this.v=R,S&&Ht(this,S)}function Ht(S,R){S.h=bt(R,S.v),S.j=0,S.i=S.h.length,S.g=S.j}Lt.prototype.reset=function(){this.g=this.j};function Gt(S){if(S.g>S.i)throw Error("Tried to read past the end of the data "+S.g+" > "+S.i)}function Vt(S){var R=S.h,M=R[S.g],L=M&127;if(128>M)return S.g+=1,Gt(S),L;if(M=R[S.g+1],L|=(M&127)<<7,128>M)return S.g+=2,Gt(S),L;if(M=R[S.g+2],L|=(M&127)<<14,128>M)return S.g+=3,Gt(S),L;if(M=R[S.g+3],L|=(M&127)<<21,128>M)return S.g+=4,Gt(S),L;if(M=R[S.g+4],S.g+=5,L|=(M&15)<<28,128>M)return Gt(S),L;if(128<=R[S.g++]&&128<=R[S.g++]&&128<=R[S.g++]&&128<=R[S.g++]&&128<=R[S.g++])throw et();return Gt(S),L}var En=[];function tn(){this.g=[]}tn.prototype.length=function(){return this.g.length},tn.prototype.end=function(){var S=this.g;return this.g=[],S};function mn(S,R){for(;127<R;)S.g.push(R&127|128),R>>>=7;S.g.push(R)}function Hn(S){var R={},M=R.W===void 0?!1:R.W;this.l={v:R.v===void 0?!1:R.v},this.W=M,R=this.l,En.length?(M=En.pop(),R&&(M.v=R.v),S&&Ht(M,S),S=M):S=new Lt(S,R),this.g=S,this.j=this.g.g,this.h=this.i=-1}Hn.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Sn(S){var R=S.g;if(R.g==R.i)return!1;S.j=S.g.g;var M=Vt(S.g)>>>0;if(R=M>>>3,M&=7,!(0<=M&&5>=M))throw pt(M,S.j);if(1>R)throw Error("Invalid field number: "+R+" (at position "+S.j+")");return S.i=R,S.h=M,!0}function Dn(S){switch(S.h){case 0:if(S.h!=0)Dn(S);else e:{S=S.g;for(var R=S.g,M=R+10;R<M;)if((S.h[R++]&128)===0){S.g=R,Gt(S);break e}throw et()}break;case 1:S=S.g,S.g+=8,Gt(S);break;case 2:S.h!=2?Dn(S):(R=Vt(S.g)>>>0,S=S.g,S.g+=R,Gt(S));break;case 5:S=S.g,S.g+=4,Gt(S);break;case 3:R=S.i;do{if(!Sn(S))throw Error("Unmatched start-group tag: stream EOF");if(S.h==4){if(S.i!=R)throw Error("Unmatched end-group tag");break}Dn(S)}while(!0);break;default:throw pt(S.h,S.j)}}var Cn=[];function or(){this.i=[],this.h=0,this.g=new tn}function ur(S,R){R.length!==0&&(S.i.push(R),S.h+=R.length)}function We(S,R){if(R=R.ba){ur(S,S.g.end());for(var M=0;M<R.length;M++)ur(S,R[M])}}var at=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function $t(S,R){Object.isFrozen(S)||(at?S[at]|=R:S.N!==void 0?S.N|=R:Object.defineProperties(S,{N:{value:R,configurable:!0,writable:!0,enumerable:!1}}))}function Kt(S){var R;return at?R=S[at]:R=S.N,R??0}function rn(S){return $t(S,1),S}function Bt(S){return Array.isArray(S)?!!(Kt(S)&2):!1}function Ln(S){if(!Array.isArray(S))throw Error("cannot mark non-array as immutable");$t(S,2)}function br(S){return S!==null&&typeof S=="object"&&!Array.isArray(S)&&S.constructor===Object}var kn=Object.freeze(rn([]));function In(S){if(Bt(S.m))throw Error("Cannot mutate an immutable Message")}var an=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function ha(S){return{value:S,configurable:!1,writable:!1,enumerable:!1}}function er(S,R,M){return R===-1?null:R>=S.i?S.g?S.g[R]:void 0:M!==void 0&&M&&S.g&&(M=S.g[R],M!=null)?M:S.m[R+S.h]}function on(S,R,M,L){L=L===void 0?!1:L,In(S),R<S.i&&!L?S.m[R+S.h]=M:(S.g||(S.g=S.m[S.i+S.h]={}))[R]=M}function Jr(S,R,M,L){M=M===void 0?!0:M,L=L===void 0?!1:L;var Y=er(S,R,L);return Y==null&&(Y=kn),Bt(S.m)?M&&(Ln(Y),Object.freeze(Y)):(Y===kn||Bt(Y))&&(Y=rn(Y.slice()),on(S,R,Y,L)),Y}function Rr(S,R,M){return S=er(S,R),S=S==null?S:+S,S??(M===void 0?0:M)}function xe(S,R,M,L){S.j||(S.j={});var Y=Bt(S.m),re=S.j[M];if(!re){L=Jr(S,M,!0,L===void 0?!1:L),re=[],Y=Y||Bt(L);for(var Q=0;Q<L.length;Q++)re[Q]=new R(L[Q]),Y&&Ln(re[Q].m);Y&&(Ln(re),Object.freeze(re)),S.j[M]=re}return re}function Pe(S,R,M,L,Y){var re=re===void 0?!1:re;return In(S),re=xe(S,M,R,re),M=L||new M,S=Jr(S,R),Y!=null?(re.splice(Y,0,M),S.splice(Y,0,M.m)):(re.push(M),S.push(M.m)),M}function gt(S,R){return S=er(S,R),S??0}function Ge(S,R){return S=er(S,R),S??""}function nn(S){switch(typeof S){case"number":return isFinite(S)?S:String(S);case"object":if(S&&!Array.isArray(S)){if(Le(S))return _e(S);if(S instanceof Ue){var R=S.L;return R=R==null||typeof R=="string"?R:Ve&&R instanceof Uint8Array?_e(R):null,(S.L=R)||""}}}return S}function Yt(S){var R=zn;return R=R===void 0?Er:R,Et(S,R)}function Tt(S,R){if(S!=null){if(Array.isArray(S))S=Et(S,R);else if(br(S)){var M={},L;for(L in S)M[L]=Tt(S[L],R);S=M}else S=R(S);return S}}function Et(S,R){for(var M=S.slice(),L=0;L<M.length;L++)M[L]=Tt(M[L],R);return Array.isArray(S)&&Kt(S)&1&&rn(M),M}function zn(S){return S&&typeof S=="object"&&S.toJSON?S.toJSON():(S=nn(S),Array.isArray(S)?Yt(S):S)}function Er(S){return Le(S)?new Uint8Array(S):S}function ee(S,R,M){S||(S=Me),Me=null;var L=this.constructor.h;S||(S=L?[L]:[]),this.h=(L?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=S;e:{if(L=this.m.length,S=L-1,L&&(L=this.m[S],br(L))){this.i=S-this.h,this.g=L;break e}R!==void 0&&-1<R?(this.i=Math.max(R,S+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(M)for(R=0;R<M.length;R++)if(S=M[R],S<this.i)S+=this.h,(L=this.m[S])?Array.isArray(L)&&rn(L):this.m[S]=kn;else{L=this.g||(this.g=this.m[this.i+this.h]={});var Y=L[S];Y?Array.isArray(Y)&&rn(Y):L[S]=kn}}ee.prototype.toJSON=function(){return Yt(this.m)},ee.prototype.toString=function(){return this.m.toString()};var Me;function He(){ee.apply(this,arguments)}if(w(He,ee),an){var St={};Object.defineProperties(He,(St[Symbol.hasInstance]=ha(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),St))}function ot(S,R,M){if(M){var L={},Y;for(Y in M){var re=M[Y],Q=re.ha;Q||(L.F=re.la||re.fa.P,re.aa?(L.U=ea(re.aa),Q=function(fe){return function(ge,Re,qe){return fe.F(ge,Re,qe,fe.U)}}(L)):re.ca?(L.T=ls(re.X.g,re.ca),Q=function(fe){return function(ge,Re,qe){return fe.F(ge,Re,qe,fe.T)}}(L)):Q=L.F,re.ha=Q),Q(R,S,re.X),L={F:L.F,U:L.U,T:L.T}}}We(R,S)}var Ft=Symbol();function _t(S,R,M){return S[Ft]||(S[Ft]=function(L,Y){return R(L,Y,M)})}function Wt(S){var R=S[Ft];if(!R){var M=fi(S);R=function(L,Y){return Qi(L,Y,M)},S[Ft]=R}return R}function hr(S){var R=S.aa;if(R)return Wt(R);if(R=S.ka)return _t(S.X.g,R,S.ca)}function Wn(S){var R=hr(S),M=S.X,L=S.fa.O;return R?function(Y,re){return L(Y,re,M,R)}:function(Y,re){return L(Y,re,M)}}function Qn(S,R,M,L,Y,re){S=S();var Q=0;for(S.length&&typeof S[0]!="number"&&(M(R,S[0]),Q++);Q<S.length;){M=S[Q++];for(var fe=Q+1;fe<S.length&&typeof S[fe]!="number";)fe++;var ge=S[Q++];switch(fe-=Q,fe){case 0:L(R,M,ge);break;case 1:L(R,M,ge,S[Q++]);break;case 2:Y(R,M,ge,S[Q++],S[Q++]);break;case 3:fe=S[Q++];var Re=S[Q++],qe=S[Q++];Array.isArray(qe)?Y(R,M,ge,fe,Re,qe):re(R,M,ge,fe,Re,qe);break;case 4:re(R,M,ge,S[Q++],S[Q++],S[Q++],S[Q++]);break;default:throw Error("unexpected number of binary field arguments: "+fe)}}return R}var Cr=Symbol();function ea(S){var R=S[Cr];if(!R){var M=Ki(S);R=function(L,Y){return cs(L,Y,M)},S[Cr]=R}return R}function ls(S,R){var M=S[Cr];return M||(M=function(L,Y){return ot(L,Y,R)},S[Cr]=M),M}var ma=Symbol();function xo(S,R){S.push(R)}function Xt(S,R,M){S.push(R,M.P)}function Lo(S,R,M,L,Y){var re=ea(Y),Q=M.P;S.push(R,function(fe,ge,Re){return Q(fe,ge,Re,L,re)})}function Zu(S,R,M,L,Y,re){var Q=ls(L,re),fe=M.P;S.push(R,function(ge,Re,qe){return fe(ge,Re,qe,L,Q)})}function Ki(S){var R=S[ma];return R||Qn(S,S[ma]=[],xo,Xt,Lo,Zu)}var Bo=Symbol();function Eo(S,R){S[0]=R}function Ms(S,R,M,L){var Y=M.O;S[R]=L?function(re,Q,fe){return Y(re,Q,fe,L)}:Y}function Yi(S,R,M,L,Y,re){var Q=M.O,fe=Wt(Y);S[R]=function(ge,Re,qe){return Q(ge,Re,qe,L,fe,re)}}function Xi(S,R,M,L,Y,re,Q){var fe=M.O,ge=_t(L,Y,re);S[R]=function(Re,qe,ft){return fe(Re,qe,ft,L,ge,Q)}}function fi(S){var R=S[Bo];return R||Qn(S,S[Bo]={},Eo,Ms,Yi,Xi)}function Qi(S,R,M){for(;Sn(R)&&R.h!=4;){var L=R.i,Y=M[L];if(!Y){var re=M[0];re&&(re=re[L])&&(Y=M[L]=Wn(re))}if((!Y||!Y(R,S,L))&&(Y=R,L=S,re=Y.j,Dn(Y),!Y.W)){var Q=Y.g.h;Y=Y.g.g,Y=re===Y?je||(je=new Uint8Array(0)):Ze?Q.slice(re,Y):new Uint8Array(Q.subarray(re,Y)),(re=L.ba)?re.push(Y):L.ba=[Y]}}return S}function $s(S,R,M){if(Cn.length){var L=Cn.pop();S&&(Ht(L.g,S),L.i=-1,L.h=-1),S=L}else S=new Hn(S);try{return Qi(new R,S,fi(M))}finally{R=S.g,R.h=null,R.j=0,R.i=0,R.g=0,R.v=!1,S.i=-1,S.h=-1,100>Cn.length&&Cn.push(S)}}function cs(S,R,M){for(var L=M.length,Y=L%2==1,re=Y?1:0;re<L;re+=2)(0,M[re+1])(R,S,M[re]);ot(S,R,Y?M[0]:void 0)}function Fs(S,R){var M=new or;cs(S,M,Ki(R)),ur(M,M.g.end()),S=new Uint8Array(M.h),R=M.i;for(var L=R.length,Y=0,re=0;re<L;re++){var Q=R[re];S.set(Q,Y),Y+=Q.length}return M.i=[S],S}function ga(S,R){return{O:S,P:R}}var Ar=ga(function(S,R,M){if(S.h!==5)return!1;S=S.g;var L=S.h[S.g],Y=S.h[S.g+1],re=S.h[S.g+2],Q=S.h[S.g+3];return S.g+=4,Gt(S),Y=(L<<0|Y<<8|re<<16|Q<<24)>>>0,S=2*(Y>>31)+1,L=Y>>>23&255,Y&=8388607,on(R,M,L==255?Y?NaN:1/0*S:L==0?S*Math.pow(2,-149)*Y:S*Math.pow(2,L-150)*(Y+Math.pow(2,23))),!0},function(S,R,M){if(R=er(R,M),R!=null){mn(S.g,8*M+5),S=S.g;var L=R;L=(M=0>L?1:0)?-L:L,L===0?0<1/L?it=Je=0:(Je=0,it=2147483648):isNaN(L)?(Je=0,it=2147483647):34028234663852886e22<L?(Je=0,it=(M<<31|2139095040)>>>0):11754943508222875e-54>L?(L=Math.round(L/Math.pow(2,-149)),Je=0,it=(M<<31|L)>>>0):(R=Math.floor(Math.log(L)/Math.LN2),L*=Math.pow(2,-R),L=Math.round(8388608*L),16777216<=L&&++R,Je=0,it=(M<<31|R+127<<23|L&8388607)>>>0),M=it,S.g.push(M>>>0&255),S.g.push(M>>>8&255),S.g.push(M>>>16&255),S.g.push(M>>>24&255)}}),zo=ga(function(S,R,M){if(S.h!==0)return!1;for(var L=S.g,Y=128,re=0,Q=S=0;4>Q&&128<=Y;Q++)Y=L.h[L.g++],Gt(L),re|=(Y&127)<<7*Q;if(128<=Y&&(Y=L.h[L.g++],Gt(L),re|=(Y&127)<<28,S|=(Y&127)>>4),128<=Y)for(Q=0;5>Q&&128<=Y;Q++)Y=L.h[L.g++],Gt(L),S|=(Y&127)<<7*Q+3;if(128>Y)L=re>>>0,Y=S>>>0,(S=Y&2147483648)&&(L=~L+1>>>0,Y=~Y>>>0,L==0&&(Y=Y+1>>>0)),L=4294967296*Y+(L>>>0);else throw et();return on(R,M,S?-L:L),!0},function(S,R,M){if(R=er(R,M),R!=null&&R!=null){mn(S.g,8*M),S=S.g;var L=R;for(M=0>L,L=Math.abs(L),R=L>>>0,L=Math.floor((L-R)/4294967296),L>>>=0,M&&(L=~L>>>0,R=(~R>>>0)+1,4294967295<R&&(R=0,L++,4294967295<L&&(L=0))),it=R,Je=L,M=it,R=Je;0<R||127<M;)S.g.push(M&127|128),M=(M>>>7|R<<25)>>>0,R>>>=7;S.g.push(M)}}),pi=ga(function(S,R,M){return S.h!==0?!1:(on(R,M,Vt(S.g)),!0)},function(S,R,M){if(R=er(R,M),R!=null&&R!=null)if(mn(S.g,8*M),S=S.g,M=R,0<=M)mn(S,M);else{for(R=0;9>R;R++)S.g.push(M&127|128),M>>=7;S.g.push(1)}}),ds=ga(function(S,R,M){if(S.h!==2)return!1;var L=Vt(S.g)>>>0;S=S.g;var Y=S.g;S.g+=L,Gt(S),S=S.h;var re;if(le)(re=oe)||(re=oe=new TextDecoder("utf-8",{fatal:!0})),re=re.decode(S.subarray(Y,Y+L));else{L=Y+L;for(var Q=[],fe=null,ge,Re,qe;Y<L;)ge=S[Y++],128>ge?Q.push(ge):224>ge?Y>=L?J():(Re=S[Y++],194>ge||(Re&192)!==128?(Y--,J()):Q.push((ge&31)<<6|Re&63)):240>ge?Y>=L-1?J():(Re=S[Y++],(Re&192)!==128||ge===224&&160>Re||ge===237&&160<=Re||((re=S[Y++])&192)!==128?(Y--,J()):Q.push((ge&15)<<12|(Re&63)<<6|re&63)):244>=ge?Y>=L-2?J():(Re=S[Y++],(Re&192)!==128||(ge<<28)+(Re-144)>>30!==0||((re=S[Y++])&192)!==128||((qe=S[Y++])&192)!==128?(Y--,J()):(ge=(ge&7)<<18|(Re&63)<<12|(re&63)<<6|qe&63,ge-=65536,Q.push((ge>>10&1023)+55296,(ge&1023)+56320))):J(),8192<=Q.length&&(fe=se(fe,Q),Q.length=0);re=se(fe,Q)}return on(R,M,re),!0},function(S,R,M){if(R=er(R,M),R!=null){var L=!1;if(L=L===void 0?!1:L,ye){if(L&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(R))throw Error("Found an unpaired surrogate");R=(pe||(pe=new TextEncoder)).encode(R)}else{for(var Y=0,re=new Uint8Array(3*R.length),Q=0;Q<R.length;Q++){var fe=R.charCodeAt(Q);if(128>fe)re[Y++]=fe;else{if(2048>fe)re[Y++]=fe>>6|192;else{if(55296<=fe&&57343>=fe){if(56319>=fe&&Q<R.length){var ge=R.charCodeAt(++Q);if(56320<=ge&&57343>=ge){fe=1024*(fe-55296)+ge-56320+65536,re[Y++]=fe>>18|240,re[Y++]=fe>>12&63|128,re[Y++]=fe>>6&63|128,re[Y++]=fe&63|128;continue}else Q--}if(L)throw Error("Found an unpaired surrogate");fe=65533}re[Y++]=fe>>12|224,re[Y++]=fe>>6&63|128}re[Y++]=fe&63|128}}R=re.subarray(0,Y)}mn(S.g,8*M+2),mn(S.g,R.length),ur(S,S.g.end()),ur(S,R)}}),Ps=ga(function(S,R,M,L,Y){if(S.h!==2)return!1;R=Pe(R,M,L),M=S.g.i,L=Vt(S.g)>>>0;var re=S.g.g+L,Q=re-M;if(0>=Q&&(S.g.i=re,Y(R,S),Q=re-S.g.g),Q)throw Error("Message parsing ended unexpectedly. Expected to read "+(L+" bytes, instead read "+(L-Q)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return S.g.g=re,S.g.i=M,!0},function(S,R,M,L,Y){if(R=xe(R,L,M),R!=null)for(L=0;L<R.length;L++){var re=S;mn(re.g,8*M+2);var Q=re.g.end();ur(re,Q),Q.push(re.h),re=Q,Y(R[L],S),Q=S;var fe=re.pop();for(fe=Q.h+Q.g.length()-fe;127<fe;)re.push(fe&127|128),fe>>>=7,Q.h++;re.push(fe),Q.h++}});function qr(){He.apply(this,arguments)}if(w(qr,He),an){var hi={};Object.defineProperties(qr,(hi[Symbol.hasInstance]=ha(Object[Symbol.hasInstance]),hi))}function ja(S){qr.call(this,S)}w(ja,qr);function Zi(){return[1,pi,2,Ar,3,ds,4,ds]}function Co(S){qr.call(this,S,-1,Ls)}w(Co,qr),Co.prototype.addClassification=function(S,R){return Pe(this,1,ja,S,R),this};function Ji(){return[1,Ps,ja,Zi]}var Ls=[1];function sn(S){qr.call(this,S)}w(sn,qr);function eu(){return[1,Ar,2,Ar,3,Ar,4,Ar,5,Ar]}function Ha(S){qr.call(this,S,-1,fs)}w(Ha,qr);function At(){return[1,Ps,sn,eu]}var fs=[1];function Sr(S){qr.call(this,S)}w(Sr,qr);function Uo(){return[1,Ar,2,Ar,3,Ar,4,Ar,5,Ar,6,zo]}var Wa=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Bs=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Tr=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],X=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],de=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],$e=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],ct=[].concat(d(Wa),d(Bs),d(Tr),d(X),d(de),d($e));function xt(S,R,M){if(M=S.createShader(M===0?S.VERTEX_SHADER:S.FRAGMENT_SHADER),S.shaderSource(M,R),S.compileShader(M),!S.getShaderParameter(M,S.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+S.getShaderInfoLog(M));return M}function Pt(S){return xe(S,ja,1).map(function(R){return{index:gt(R,1),ga:Rr(R,2),label:er(R,3)!=null?Ge(R,3):void 0,displayName:er(R,4)!=null?Ge(R,4):void 0}})}function Qe(S){return{x:Rr(S,1),y:Rr(S,2),z:Rr(S,3),visibility:er(S,4)!=null?Rr(S,4):void 0}}function dt(S,R){this.h=S,this.g=R,this.l=0}function On(S,R,M){return Nr(S,R),typeof S.g.canvas.transferToImageBitmap=="function"?Promise.resolve(S.g.canvas.transferToImageBitmap()):M?Promise.resolve(S.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(S.g.canvas):(S.i===void 0&&(S.i=document.createElement("canvas")),new Promise(function(L){S.i.height=S.g.canvas.height,S.i.width=S.g.canvas.width,S.i.getContext("2d",{}).drawImage(S.g.canvas,0,0,S.g.canvas.width,S.g.canvas.height),L(S.i)}))}function Nr(S,R){var M=S.g;if(S.o===void 0){var L=xt(M,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),Y=xt(M,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),re=M.createProgram();if(M.attachShader(re,L),M.attachShader(re,Y),M.linkProgram(re),!M.getProgramParameter(re,M.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+M.getProgramInfoLog(re));L=S.o=re,M.useProgram(L),Y=M.getUniformLocation(L,"sampler0"),S.j={K:M.getAttribLocation(L,"aVertex"),J:M.getAttribLocation(L,"aTex"),ma:Y},S.u=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,S.u),M.enableVertexAttribArray(S.j.K),M.vertexAttribPointer(S.j.K,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),S.s=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,S.s),M.enableVertexAttribArray(S.j.J),M.vertexAttribPointer(S.j.J,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),M.uniform1i(Y,0)}L=S.j,M.useProgram(S.o),M.canvas.width=R.width,M.canvas.height=R.height,M.viewport(0,0,R.width,R.height),M.activeTexture(M.TEXTURE0),S.h.bindTexture2d(R.glName),M.enableVertexAttribArray(L.K),M.bindBuffer(M.ARRAY_BUFFER,S.u),M.vertexAttribPointer(L.K,2,M.FLOAT,!1,0,0),M.enableVertexAttribArray(L.J),M.bindBuffer(M.ARRAY_BUFFER,S.s),M.vertexAttribPointer(L.J,2,M.FLOAT,!1,0,0),M.bindFramebuffer(M.DRAW_FRAMEBUFFER?M.DRAW_FRAMEBUFFER:M.FRAMEBUFFER,null),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.colorMask(!0,!0,!0,!0),M.drawArrays(M.TRIANGLE_FAN,0,4),M.disableVertexAttribArray(L.K),M.disableVertexAttribArray(L.J),M.bindBuffer(M.ARRAY_BUFFER,null),S.h.bindTexture2d(0)}function uo(S){this.g=S}var Vo=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function jo(S,R){return R+S}function tu(S,R){window[S]=R}function lr(S){var R=document.createElement("script");return R.setAttribute("src",S),R.setAttribute("crossorigin","anonymous"),new Promise(function(M){R.addEventListener("load",function(){M()},!1),R.addEventListener("error",function(){M()},!1),document.body.appendChild(R)})}function lo(){return U(function(S){switch(S.g){case 1:return S.o=2,C(S,WebAssembly.instantiate(Vo),4);case 4:S.g=3,S.o=0;break;case 2:return S.o=0,S.j=null,S.return(!1);case 3:return S.return(!0)}})}function Ho(S){if(this.g=S,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=S&&S.locateFile||jo,typeof window=="object")var R=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")R=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=R,S.options){R=l(Object.keys(S.options));for(var M=R.next();!M.done;M=R.next()){M=M.value;var L=S.options[M].default;L!==void 0&&(this.j[M]=typeof L=="function"?L():L)}}}t=Ho.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Ju(S){var R,M,L,Y,re,Q,fe,ge,Re,qe,ft;return U(function(Rt){switch(Rt.g){case 1:return S.Z?(R=S.g.files===void 0?[]:typeof S.g.files=="function"?S.g.files(S.j):S.g.files,C(Rt,lo(),2)):Rt.return();case 2:if(M=Rt.h,typeof window=="object")return tu("createMediapipeSolutionsWasm",{locateFile:S.locateFile}),tu("createMediapipeSolutionsPackedAssets",{locateFile:S.locateFile}),Q=R.filter(function(vt){return vt.data!==void 0}),fe=R.filter(function(vt){return vt.data===void 0}),ge=Promise.all(Q.map(function(vt){var Ot=mi(S,vt.url);if(vt.path!==void 0){var un=vt.path;Ot=Ot.then(function(Un){return S.overrideFile(un,Un),Promise.resolve(Un)})}return Ot})),Re=Promise.all(fe.map(function(vt){return vt.simd===void 0||vt.simd&&M||!vt.simd&&!M?lr(S.locateFile(vt.url,S.$)):Promise.resolve()})).then(function(){var vt,Ot,un;return U(function(Un){if(Un.g==1)return vt=window.createMediapipeSolutionsWasm,Ot=window.createMediapipeSolutionsPackedAssets,un=S,C(Un,vt(Ot),2);un.h=Un.h,Un.g=0})}),qe=function(){return U(function(vt){return S.g.graph&&S.g.graph.url?vt=C(vt,mi(S,S.g.graph.url),0):(vt.g=0,vt=void 0),vt})}(),C(Rt,Promise.all([Re,ge,qe]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return L=R.filter(function(vt){return vt.simd===void 0||vt.simd&&M||!vt.simd&&!M}).map(function(vt){return S.locateFile(vt.url,S.$)}),importScripts.apply(null,d(L)),Y=S,C(Rt,createMediapipeSolutionsWasm(Module),6);case 6:Y.h=Rt.h,S.l=new OffscreenCanvas(1,1),S.h.canvas=S.l,re=S.h.GL.createContext(S.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),S.h.GL.makeContextCurrent(re),Rt.g=4;break;case 7:if(S.l=document.createElement("canvas"),ft=S.l.getContext("webgl2",{}),!ft&&(ft=S.l.getContext("webgl",{}),!ft))return alert("Failed to create WebGL canvas context when passing video frame."),Rt.return();S.G=ft,S.h.canvas=S.l,S.h.createContext(S.l,!0,!0,{});case 4:S.i=new S.h.SolutionWasm,S.Z=!1,Rt.g=0}})}function gd(S){var R,M,L,Y,re,Q,fe,ge;return U(function(Re){if(Re.g==1){if(S.g.graph&&S.g.graph.url&&S.Y===S.g.graph.url)return Re.return();if(S.s=!0,!S.g.graph||!S.g.graph.url){Re.g=2;return}return S.Y=S.g.graph.url,C(Re,mi(S,S.g.graph.url),3)}for(Re.g!=2&&(R=Re.h,S.i.loadGraph(R)),M=l(Object.keys(S.C)),L=M.next();!L.done;L=M.next())Y=L.value,S.i.overrideFile(Y,S.C[Y]);if(S.C={},S.g.listeners)for(re=l(S.g.listeners),Q=re.next();!Q.done;Q=re.next())fe=Q.value,te(S,fe);ge=S.j,S.j={},S.setOptions(ge),Re.g=0})}t.reset=function(){var S=this;return U(function(R){S.i&&(S.i.reset(),S.o={},S.u={}),R.g=0})},t.setOptions=function(S,R){var M=this;if(R=R||this.g.options){for(var L=[],Y=[],re={},Q=l(Object.keys(S)),fe=Q.next();!fe.done;re={R:re.R,S:re.S},fe=Q.next()){var ge=fe.value;ge in this.j&&this.j[ge]===S[ge]||(this.j[ge]=S[ge],fe=R[ge],fe!==void 0&&(fe.onChange&&(re.R=fe.onChange,re.S=S[ge],L.push(function(Re){return function(){var qe;return U(function(ft){if(ft.g==1)return C(ft,Re.R(Re.S),2);qe=ft.h,qe===!0&&(M.s=!0),ft.g=0})}}(re))),fe.graphOptionXref&&(ge={valueNumber:fe.type===1?S[ge]:0,valueBoolean:fe.type===0?S[ge]:!1,valueString:fe.type===2?S[ge]:""},fe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),fe.graphOptionXref),ge),Y.push(fe))))}(L.length!==0||Y.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Y),this.A=(this.A===void 0?[]:this.A).concat(L))}};function vd(S){var R,M,L,Y,re,Q,fe;return U(function(ge){switch(ge.g){case 1:if(!S.s)return ge.return();if(!S.A){ge.g=2;break}R=l(S.A),M=R.next();case 3:if(M.done){ge.g=5;break}return L=M.value,C(ge,L(),4);case 4:M=R.next(),ge.g=3;break;case 5:S.A=void 0;case 2:if(S.B){for(Y=new S.h.GraphOptionChangeRequestList,re=l(S.B),Q=re.next();!Q.done;Q=re.next())fe=Q.value,Y.push_back(fe);S.i.changeOptions(Y),Y.delete(),S.B=void 0}S.s=!1,ge.g=0}})}t.initialize=function(){var S=this;return U(function(R){return R.g==1?C(R,Ju(S),2):R.g!=3?C(R,gd(S),3):C(R,vd(S),0)})};function mi(S,R){var M,L;return U(function(Y){return R in S.H?Y.return(S.H[R]):(M=S.locateFile(R,""),L=fetch(M).then(function(re){return re.arrayBuffer()}),S.H[R]=L,Y.return(L))})}t.overrideFile=function(S,R){this.i?this.i.overrideFile(S,R):this.C[S]=R},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(S,R){var M=this,L,Y,re,Q,fe,ge,Re,qe,ft;return U(function(Rt){switch(Rt.g){case 1:return M.g.inputs?(L=1e3*(R??performance.now()),C(Rt,M.D,2)):Rt.return();case 2:return C(Rt,M.initialize(),3);case 3:for(Y=new M.h.PacketDataList,re=l(Object.keys(S)),Q=re.next();!Q.done;Q=re.next())if(fe=Q.value,ge=M.g.inputs[fe]){e:{var vt=S[fe];switch(ge.type){case"video":var Ot=M.o[ge.stream];if(Ot||(Ot=new dt(M.h,M.G),M.o[ge.stream]=Ot),Ot.l===0&&(Ot.l=Ot.h.createTexture()),typeof HTMLVideoElement<"u"&&vt instanceof HTMLVideoElement)var un=vt.videoWidth,Un=vt.videoHeight;else typeof HTMLImageElement<"u"&&vt instanceof HTMLImageElement?(un=vt.naturalWidth,Un=vt.naturalHeight):(un=vt.width,Un=vt.height);Un={glName:Ot.l,width:un,height:Un},un=Ot.g,un.canvas.width=Un.width,un.canvas.height=Un.height,un.activeTexture(un.TEXTURE0),Ot.h.bindTexture2d(Ot.l),un.texImage2D(un.TEXTURE_2D,0,un.RGBA,un.RGBA,un.UNSIGNED_BYTE,vt),Ot.h.bindTexture2d(0),Ot=Un;break e;case"detections":for(Ot=M.o[ge.stream],Ot||(Ot=new uo(M.h),M.o[ge.stream]=Ot),Ot.data||(Ot.data=new Ot.g.DetectionListData),Ot.data.reset(vt.length),Un=0;Un<vt.length;++Un){un=vt[Un];var qn=Ot.data,Dr=qn.setBoundingBox,qa=Un,Ta=un.boundingBox,wn=new Sr;if(on(wn,1,Ta.xCenter),on(wn,2,Ta.yCenter),on(wn,3,Ta.height),on(wn,4,Ta.width),on(wn,5,Ta.rotation),on(wn,6,Ta.rectId),Ta=Fs(wn,Uo),Dr.call(qn,qa,Ta),un.landmarks)for(qn=0;qn<un.landmarks.length;++qn){wn=un.landmarks[qn];var Or=!!wn.visibility;Dr=Ot.data,qa=Dr.addNormalizedLandmark,Ta=Un,wn=Object.assign(Object.assign({},wn),{visibility:Or?wn.visibility:0}),Or=new sn,on(Or,1,wn.x),on(Or,2,wn.y),on(Or,3,wn.z),wn.visibility&&on(Or,4,wn.visibility),wn=Fs(Or,eu),qa.call(Dr,Ta,wn)}if(un.V)for(qn=0;qn<un.V.length;++qn)Dr=Ot.data,qa=Dr.addClassification,Ta=Un,wn=un.V[qn],Or=new ja,on(Or,2,wn.ga),wn.index&&on(Or,1,wn.index),wn.label&&on(Or,3,wn.label),wn.displayName&&on(Or,4,wn.displayName),wn=Fs(Or,Zi),qa.call(Dr,Ta,wn)}Ot=Ot.data;break e;default:Ot={}}}switch(Re=Ot,qe=ge.stream,ge.type){case"video":Y.pushTexture2d(Object.assign(Object.assign({},Re),{stream:qe,timestamp:L}));break;case"detections":ft=Re,ft.stream=qe,ft.timestamp=L,Y.pushDetectionList(ft);break;default:throw Error("Unknown input config type: '"+ge.type+"'")}}return M.i.send(Y),C(Rt,M.D,4);case 4:Y.delete(),Rt.g=0}})};function yd(S,R,M){var L,Y,re,Q,fe,ge,Re,qe,ft,Rt,vt,Ot,un,Un;return U(function(qn){switch(qn.g){case 1:if(!M)return qn.return(R);for(L={},Y=0,re=l(Object.keys(M)),Q=re.next();!Q.done;Q=re.next())fe=Q.value,ge=M[fe],typeof ge!="string"&&ge.type==="texture"&&R[ge.stream]!==void 0&&++Y;1<Y&&(S.I=!1),Re=l(Object.keys(M)),Q=Re.next();case 2:if(Q.done){qn.g=4;break}if(qe=Q.value,ft=M[qe],typeof ft=="string")return un=L,Un=qe,C(qn,P(S,qe,R[ft]),14);if(Rt=R[ft.stream],ft.type==="detection_list"){if(Rt){for(var Dr=Rt.getRectList(),qa=Rt.getLandmarksList(),Ta=Rt.getClassificationsList(),wn=[],Or=0;Or<Dr.size();++Or){var zs=$s(Dr.get(Or),Sr,Uo);zs={boundingBox:{xCenter:Rr(zs,1),yCenter:Rr(zs,2),height:Rr(zs,3),width:Rr(zs,4),rotation:Rr(zs,5,0),rectId:gt(zs,6)},landmarks:xe($s(qa.get(Or),Ha,At),sn,1).map(Qe),V:Pt($s(Ta.get(Or),Co,Ji))},wn.push(zs)}Dr=wn}else Dr=[];L[qe]=Dr,qn.g=7;break}if(ft.type==="proto_list"){if(Rt){for(Dr=Array(Rt.size()),qa=0;qa<Rt.size();qa++)Dr[qa]=Rt.get(qa);Rt.delete()}else Dr=[];L[qe]=Dr,qn.g=7;break}if(Rt===void 0){qn.g=3;break}if(ft.type==="float_list"){L[qe]=Rt,qn.g=7;break}if(ft.type==="proto"){L[qe]=Rt,qn.g=7;break}if(ft.type!=="texture")throw Error("Unknown output config type: '"+ft.type+"'");return vt=S.u[qe],vt||(vt=new dt(S.h,S.G),S.u[qe]=vt),C(qn,On(vt,Rt,S.I),13);case 13:Ot=qn.h,L[qe]=Ot;case 7:ft.transform&&L[qe]&&(L[qe]=ft.transform(L[qe])),qn.g=3;break;case 14:un[Un]=qn.h;case 3:Q=Re.next(),qn.g=2;break;case 4:return qn.return(L)}})}function P(S,R,M){var L;return U(function(Y){return typeof M=="number"||M instanceof Uint8Array||M instanceof S.h.Uint8BlobList?Y.return(M):M instanceof S.h.Texture2dDataOut?(L=S.u[R],L||(L=new dt(S.h,S.G),S.u[R]=L),Y.return(On(L,M,S.I))):Y.return(void 0)})}function te(S,R){for(var M=R.name||"$",L=[].concat(d(R.wants)),Y=new S.h.StringList,re=l(R.wants),Q=re.next();!Q.done;Q=re.next())Y.push_back(Q.value);re=S.h.PacketListener.implement({onResults:function(fe){for(var ge={},Re=0;Re<R.wants.length;++Re)ge[L[Re]]=fe.get(Re);var qe=S.listeners[M];qe&&(S.D=yd(S,ge,R.outs).then(function(ft){ft=qe(ft);for(var Rt=0;Rt<R.wants.length;++Rt){var vt=ge[L[Rt]];typeof vt=="object"&&vt.hasOwnProperty&&vt.hasOwnProperty("delete")&&vt.delete()}ft&&(S.D=ft)}))}}),S.i.attachMultiListener(Y,re),Y.delete()}t.onResults=function(S,R){this.listeners[R||"$"]=S},Z("Solution",Ho),Z("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Se(S){var R=this;S=S||{};var M={url:"face_detection_short.binarypb"},L={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Ho({locateFile:S.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:M,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(Y){var re,Q,fe,ge,Re,qe;return U(function(ft){switch(ft.g){case 1:re=Y==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],Q=l(re),fe=Q.next();case 2:if(fe.done){ft.g=4;break}return ge=fe.value,Re="third_party/mediapipe/modules/face_detection/"+ge,C(ft,mi(R.g,ge),5);case 5:qe=ft.h,R.g.overrideFile(Re,qe),fe=Q.next(),ft.g=2;break;case 4:return M.url=Y==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",L.graphOptionXref.calculatorName=Y==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",ft.return(!0)}})}},minDetectionConfidence:L}})}t=Se.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(S){this.g.onResults(S)},t.initialize=function(){var S=this;return U(function(R){return C(R,S.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(S){var R=this;return U(function(M){return C(M,R.g.send(S),0)})},t.setOptions=function(S){this.g.setOptions(S)},Z("FaceDetection",Se),Z("FACEDETECTION_LIPS",Wa),Z("FACEDETECTION_LEFT_EYE",Bs),Z("FACEDETECTION_LEFT_EYEBROW",Tr),Z("FACEDETECTION_RIGHT_EYE",X),Z("FACEDETECTION_RIGHT_EYEBROW",de),Z("FACEDETECTION_FACE_OVAL",$e),Z("FACEDETECTION_CONTOURS",ct),Z("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),Z("VERSION","0.4.1646425229")}).call(A_)),A_}var _J=wJ();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Zt().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var os;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(os||(os={}));var gD;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(gD||(gD={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xJ={};function vD(t){return xJ[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A(t,e,n,r,a){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const l=o.inputIndexStart,d=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?l+1:o.inputIndexEnd,f=l<0?e.inputNames.length+l:l;if(o.type==="tensor")return fa(e.inputNames[f],n,r,a);if(o.type==="tensors"){const g=e.inputs.slice(l,d);return e.inputNames.slice(l,d).filter((b,w)=>{var x;return((x=g[w])===null||x===void 0?void 0:x.op)!=="NoOp"}).map(b=>fa(b,n,r,a))}const c=fa(e.inputNames[f],n,r,a),h=c.dataSync();return o.type==="number"?h[0]:ns(c.shape,h)}const i=e.attrParams[t];return i&&i.value}function fa(t,e,n,r){const[a,o]=wo(t,n);if(r!=null){const l=r.getHashTableHandleByName(a);if(l!=null)return l}const i=n.currentContextIds.find(l=>!!e[Vy(a,l)]);return i!==void 0?e[Vy(a,i)][o]:void 0}function yD(t,e,n){return e[Vy(t,n.currentContextId)]}function Vi(t,e){const[n,r,a]=wo(t,e);return[Vy(n,e&&e.currentContextId),r,a]}function Vy(t,e){return e?`${t}-${e}`:t}function wo(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const o=e.parseNodeNameCache.get(t);if(o!=null)return o}const r=t.split(":");let a;if(r.length===1)a=[t,0,void 0];else{const o=r[0],i=r.length===3?r[1]:void 0,l=Number(r[r.length-1]);a=[o,l,i]}return n&&e.parseNodeNameCache.set(t,a),a}function jy(t,e,n){let r=A("pad",t,e,n);if(r==="explicit"){r=A("explicitPaddings",t,e,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)a[o][0]=r[o*2],a[o][1]=r[o*2+1];return a}return r}function ji(t){return t.kept?t:Ou(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $J=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VJ=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bD{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[EJ,CJ,TJ,kJ,IJ,RJ,AJ,NJ,DJ,OJ,MJ,$J,FJ,PJ,LJ,BJ,zJ,UJ,VJ],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,a)=>(r[a.tfOpName]=a,r),{})}transformGraph(e,n={}){const r=e.node,a=[],o=[],i=[],l=r.reduce((w,x)=>(w[x.name]=this.mapNode(x),x.op.startsWith("Placeholder")?a.push(w[x.name]):x.op==="Const"?o.push(w[x.name]):(x.input==null||x.input.length===0)&&i.push(w[x.name]),w),{});let d=[];const f=[];let c={},h={};n!=null&&(c=this.mapSignatureEntries(n.inputs),h=this.mapSignatureEntries(n.outputs));const g=Object.keys(l);g.forEach(w=>{const x=l[w];x.inputNames.forEach((E,T)=>{const[C,,I]=Vi(E),D=l[C];if(D.outputs!=null){const F=D.outputs.indexOf(I);if(F!==-1){const B=`${C}:${F}`;x.inputNames[T]=B}}x.inputs.push(D),D.children.push(x)})}),Object.keys(h).length===0?g.forEach(w=>{const x=l[w];x.children.length===0&&f.push(x)}):Object.keys(h).forEach(w=>{const[x]=Vi(w),E=l[x];E!=null&&(E.signatureKey=h[w],f.push(E))}),Object.keys(c).length>0?Object.keys(c).forEach(w=>{const[x]=Vi(w),E=l[x];E&&(E.signatureKey=c[w],d.push(E))}):d=a;let v={};e.library!=null&&e.library.function!=null&&(v=e.library.function.reduce((w,x)=>(w[x.signature.name]=this.mapFunction(x),w),{}));const b={nodes:l,inputs:d,outputs:f,weights:o,placeholders:a,signature:n,functions:v};return i.length>0&&(b.initNodes=i),b}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=vD(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(a=>a.startsWith("^")?a.slice(1):a),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((a,o)=>(a[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},a),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((a,o)=>{const i=o.type;let l;switch(o.type){case"string":l=N_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=N_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":l=B_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=B_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":l=O_(e.attr,o.tfName,o.defaultValue||0),l===void 0&&o.tfDeprecatedName&&(l=O_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":l=L_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=L_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":l=D_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=D_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":l=U_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=U_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":l=P_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=P_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":l=z_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=z_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":l=$_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=$_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":l=F_(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=F_(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":l=wD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=wD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${e.op}`)}return a[o.name]={value:l,type:i},a},{})),r}mapFunction(e){const n=e.nodeDef,r=[],a=[];let o={};n!=null&&(o=n.reduce((h,g)=>(h[g.name]=this.mapNode(g),g.op==="Const"&&a.push(h[g.name]),h),{}));const i=[],l=[];e.signature.inputArg.forEach(h=>{const[g]=Vi(h.name),v={name:g,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:M_(h.type),type:"dtype"}},children:[]};v.signatureKey=h.name,i.push(v),o[g]=v}),Object.keys(o).forEach(h=>{const g=o[h];g.inputNames.forEach((v,b)=>{const[w,,x]=Vi(v),E=o[w];if(E.outputs!=null){const T=E.outputs.indexOf(x);if(T!==-1){const C=`${w}:${T}`;g.inputNames[b]=C}}g.inputs.push(E),E.children.push(g)})});const f=e.ret;e.signature.outputArg.forEach(h=>{const[g,v]=Vi(f[h.name]),b=o[g];b!=null&&(b.defaultOutput=v,l.push(b))});const c=this.mapArgsToSignature(e);return{nodes:o,inputs:i,outputs:l,weights:a,placeholders:r,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function jJ(t){const e=Zt().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function SD(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):jJ(t);return e?n:n.toLowerCase()}function N_(t,e,n,r=!1){const a=t[e];return a!=null?SD(a.s,r):n}function D_(t,e,n){const r=t[e];return r?r.b:n}function O_(t,e,n){const r=t[e]||{},a=r.i!=null?r.i:r.f!=null?r.f:n;return typeof a=="number"?a:parseInt(a,10)}function M_(t){switch(typeof t=="string"&&(t=os[t]),t){case os.DT_FLOAT:case os.DT_HALF:return"float32";case os.DT_INT32:case os.DT_INT64:case os.DT_INT8:case os.DT_UINT8:return"int32";case os.DT_BOOL:return"bool";case os.DT_DOUBLE:return"float32";case os.DT_STRING:return"string";default:return null}}function wD(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function $_(t,e,n){const r=t[e];return r&&r.type?M_(r.type):n}function F_(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(a=>M_(a)):n}function _D(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function P_(t,e,n){const r=t[e];return r&&r.shape?_D(r.shape):n}function L_(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function B_(t,e,n,r=!1){const a=t[e];return a&&a.list&&a.list.s?a.list.s.map(o=>SD(o,r)):n}function z_(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(a=>_D(a)):n}function U_(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HJ{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(a=>this.getInput(a)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((a,o)=>(a[o]=this.getAttr(o),a),{}))}getInput(e){return fa(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return fa(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return O_(this.node.rawAttrs,e,n);if(r.s!=null)return N_(this.node.rawAttrs,e,n);if(r.b!=null)return D_(this.node.rawAttrs,e,n);if(r.shape!=null)return P_(this.node.rawAttrs,e,n);if(r.type!=null)return $_(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return L_(this.node.rawAttrs,e,n);if(r.list.s!=null)return B_(this.node.rawAttrs,e,n);if(r.list.shape!=null)return z_(this.node.rawAttrs,e,n);if(r.list.b!=null)return U_(this.node.rawAttrs,e,n);if(r.list.type!=null)return F_(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pa=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:vA,abs:Mo,acos:xH,acosh:CH,add:It,addN:kH,all:RH,any:NH,argMax:OH,argMin:$H,asin:PH,asinh:BH,atan:UH,atan2:jH,atanh:WH,avgPool:FA,avgPool3d:JH,basicLSTMCell:sW,batchNorm:gy,batchNorm2d:dW,batchNorm3d:pW,batchNorm4d:mW,batchToSpaceND:PA,bincount:LA,bitwiseAnd:yW,booleanMaskAsync:aX,broadcastArgs:SW,broadcastTo:hp,buffer:cn,cast:yr,ceil:xW,clipByValue:BA,clone:Ou,complex:Au,concat:la,concat1d:TW,concat2d:IW,concat3d:AW,concat4d:DW,conv1d:$W,conv2d:vy,conv2dTranspose:LW,conv3d:zW,conv3dTranspose:HW,cos:qW,cosh:KW,cosineWindow:y_,cumprod:XW,cumsum:ZW,denseBincount:eq,depthToSpace:nq,depthwiseConv2d:i_,diag:oq,dilation2d:iq,div:fn,divNoNan:pq,dot:mq,dropout:vX,einsum:Jc,elu:VA,enclosingPowerOfTwo:EN,ensureShape:bq,equal:UA,erf:wq,euclideanNorm:Nq,exp:Li,expandDims:oi,expm1:$q,eye:WA,fft:m_,fill:mp,floor:qA,floorDiv:MA,fused:DX,gather:GA,gatherND:hX,greater:wy,greaterEqual:KA,ifft:Fy,imag:_y,image:Py,inTopKAsync:bX,irfft:vN,isFinite:Hq,isInf:qq,isNaN:Kq,leakyRelu:YA,less:l_,lessEqual:c_,linalg:dZ,linspace:Zq,localResponseNormalization:eG,log:yp,log1p:XA,logSigmoid:iG,logSoftmax:cG,logSumExp:ZA,logicalAnd:xy,logicalNot:JA,logicalOr:eN,logicalXor:gG,losses:fZ,lowerBound:yG,matMul:Xn,max:ed,maxPool:tN,maxPool3d:wG,maxPoolWithArgmax:xG,maximum:nN,mean:Cy,meshgrid:TG,min:u_,minimum:Ty,mirrorPad:RG,mod:NG,moments:OG,movingAverage:iX,mul:Ke,multiRNNCell:$G,multinomial:PG,neg:si,norm:Sy,notEqual:rN,oneHot:zG,ones:Fl,onesLike:VG,op:ne,outerProduct:HG,pad:bp,pad1d:GG,pad2d:YG,pad3d:QG,pad4d:JG,pool:aK,pow:gp,prelu:oN,print:NA,prod:iK,raggedGather:lK,raggedRange:dK,raggedTensorToTensor:pK,rand:mK,randomGamma:MK,randomNormal:hN,randomStandardNormal:PK,randomUniform:h_,randomUniformInt:zK,range:Sp,real:wp,reciprocal:jK,relu:$y,relu6:mN,reshape:Ae,reverse:Pl,reverse1d:KK,reverse2d:XK,reverse3d:ZK,reverse4d:eY,rfft:g_,round:gN,rsqrt:rY,scalar:xn,scatterND:lX,searchSorted:d_,selu:oY,separableConv2d:iY,setdiff1dAsync:lY,sigmoid:$l,sign:dY,signal:cZ,sin:pY,sinh:mY,slice:Jt,slice1d:vY,slice2d:bY,slice3d:wY,slice4d:xY,softmax:CY,softplus:QA,spaceToBatchND:aN,sparse:pZ,sparseToDense:fX,spectral:lZ,split:_p,sqrt:Pi,square:As,squaredDifference:yN,squeeze:da,stack:zi,step:bN,stridedSlice:FY,string:hZ,sub:en,sum:ir,tan:LY,tanh:s_,tensor:Ts,tensor1d:Ea,tensor2d:Ll,tensor3d:SN,tensor4d:BY,tensor5d:zY,tensor6d:UY,tensorScatterUpdate:HY,tile:vp,topk:qY,transpose:v_,truncatedNormal:KY,unique:XY,unsortedSegmentSum:ZY,unstack:Bl,upperBound:eX,variable:tX,where:$u,whereAsync:xN,zeros:td,zerosLike:$o},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WJ=(t,e,n,r=pa)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(A("a",t,e,n),A("b",t,e,n))];case"AddN":return[r.addN(A("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(A("a",t,e,n),A("b",t,e,n))];case"Mul":return[r.mul(A("a",t,e,n),A("b",t,e,n))];case"RealDiv":case"Div":return[r.div(A("a",t,e,n),A("b",t,e,n))];case"DivNoNan":return[r.divNoNan(A("a",t,e,n),A("b",t,e,n))];case"FloorDiv":return[r.floorDiv(A("a",t,e,n),A("b",t,e,n))];case"Sub":return[r.sub(A("a",t,e,n),A("b",t,e,n))];case"Minimum":return[r.minimum(A("a",t,e,n),A("b",t,e,n))];case"Maximum":return[r.maximum(A("a",t,e,n),A("b",t,e,n))];case"Pow":return[r.pow(A("a",t,e,n),A("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qJ=(t,e,n,r=pa)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(A("x",t,e,n))];case"Acos":return[r.acos(A("x",t,e,n))];case"Acosh":return[r.acosh(A("x",t,e,n))];case"Asin":return[r.asin(A("x",t,e,n))];case"Asinh":return[r.asinh(A("x",t,e,n))];case"Atan":return[r.atan(A("x",t,e,n))];case"Atan2":return[r.atan2(A("x",t,e,n),A("y",t,e,n))];case"Atanh":return[r.atanh(A("x",t,e,n))];case"Ceil":return[r.ceil(A("x",t,e,n))];case"Complex":return[r.complex(A("real",t,e,n),A("imag",t,e,n))];case"Cos":return[r.cos(A("x",t,e,n))];case"Cosh":return[r.cosh(A("x",t,e,n))];case"Elu":return[r.elu(A("x",t,e,n))];case"Erf":return[r.erf(A("x",t,e,n))];case"Exp":return[r.exp(A("x",t,e,n))];case"Expm1":return[r.expm1(A("x",t,e,n))];case"Floor":return[r.floor(A("x",t,e,n))];case"Log":return[r.log(A("x",t,e,n))];case"Log1p":return[r.log1p(A("x",t,e,n))];case"Imag":return[r.imag(A("x",t,e,n))];case"Neg":return[r.neg(A("x",t,e,n))];case"Reciprocal":return[r.reciprocal(A("x",t,e,n))];case"Real":return[r.real(A("x",t,e,n))];case"Relu":return[r.relu(A("x",t,e,n))];case"Round":return[r.round(A("x",t,e,n))];case"Selu":return[r.selu(A("x",t,e,n))];case"Sigmoid":return[r.sigmoid(A("x",t,e,n))];case"Sin":return[r.sin(A("x",t,e,n))];case"Sign":return[r.sign(A("x",t,e,n))];case"Sinh":return[r.sinh(A("x",t,e,n))];case"Softplus":return[r.softplus(A("x",t,e,n))];case"Sqrt":return[r.sqrt(A("x",t,e,n))];case"Square":return[r.square(A("x",t,e,n))];case"Tanh":return[r.tanh(A("x",t,e,n))];case"Tan":return[r.tan(A("x",t,e,n))];case"ClipByValue":return[r.clipByValue(A("x",t,e,n),A("clipValueMin",t,e,n),A("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(A("x",t,e,n))];case"Rsqrt":return[r.rsqrt(fa(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(A("x",t,e,n),A("alpha",t,e,n))];case"Prelu":return[r.prelu(A("x",t,e,n),A("alpha",t,e,n))];case"IsNan":return[r.isNaN(fa(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(fa(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(fa(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ss(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){W(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const a=t[r],o=e[r];W(a<0||o<0||a===o,()=>n+` Shapes ${t} and ${e} must match`)}}}function xD(t){return!(typeof t=="number"||t.some(e=>e<0))}function Ep(t,e,n){let r=V_(t,n);const a=!xD(r);if(a&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&e.forEach(o=>{r=V_(o.shape,r)}),!xD(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function V_(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const a=t[r],o=e[r];if(a>=0&&o>=0&&a!==o)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=a>=0?a:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GJ{constructor(e,n,r,a,o,i,l){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=l,this.tensors=[],this.closed_=!1,this.idTensor=xn(0),ai(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),ss(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,ai(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,a)=>this.write(r,n[a]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let a=0;a<this.size();a++)e.push(a)}if(e.length===0)return Ts([],[0].concat(this.elementShape));const r=this.readMany(e);return ss(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),zi(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Ts([],[0].concat(this.elementShape));const n=[];for(let a=0;a<this.size();a++)n.push(a);const r=this.readMany(n);return ss(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),la(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Bl(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const a=e.map(d=>(r+=d,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=r===0?0:n.size/r,i=[];dn(()=>{n=Ae(n,[1,r,o]);for(let d=0;d<e.length;++d){const c=[0,d===0?0:a[d-1],0],h=[1,e[d],o];i[d]=Ae(Jt(n,c,h),this.elementShape)}return i});const l=[];for(let d=0;d<e.length;d++)l[d]=d;this.writeMany(l,i)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hl{get id(){return this.idTensor.id}constructor(e,n,r,a=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(o=>{if(r!==o.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${o.dtype}`);ss(n,o.shape,"TensorList shape mismatch: "),ai(o)}),this.idTensor=xn(0),this.maxNumElements=a,ai(this.idTensor)}copy(){return new Hl([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);ss(e,this.elementShape,"TensorList shape mismatch: ");const a=Ep(this.elementShape,this.tensors,e);return dn(()=>{const o=this.tensors.map(i=>Ae(i,a));return zi(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Ep(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,ss(a.shape,e,"TensorList shape mismatch: "),Ae(a,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(ss(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");ai(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Hl([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);ss(this.tensors[e].shape,n,"TensorList shape mismatch: ");const a=Ep(this.elementShape,this.tensors,n);return Ae(this.tensors[e],a)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);ss(this.elementShape,n.shape,"TensorList shape mismatch: "),ai(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);ss(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=Ep(this.elementShape,this.tensors,r);return e.length===0?Ts([],[0].concat(a)):dn(()=>{const o=e.map(i=>Ae(this.tensors[i],a));return zi(o,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);ss(this.elementShape,n,"TensorList shape mismatch: ");const r=Ep(this.elementShape,this.tensors,n);return this.size()===0?Ts([],[0].concat(r)):dn(()=>{const a=this.tensors.map(o=>Ae(o,r));return la(a,0)})}}function KJ(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const a=t.shape.slice(1);ss(a,e,"TensorList shape mismatch: ");const o=Bl(t);return new Hl(o,e,r)}function YJ(t,e,n,r){return new Hl([],t,e,r)}function XJ(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const a=Math.max(...e);if(r!=null&&r!==-1&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const o=new Hl([],n,t.dtype,r),i=Bl(t,0);return e.forEach((l,d)=>{o.setItem(l,i[d])}),o}function QJ(t,e,n){let r=0;const a=e.map(c=>(r+=c,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const o=t.shape.slice(1),i=V_(o,n),l=r===0?0:t.size/r,d=dn(()=>{const c=[];t=Ae(t,[1,r,l]);for(let h=0;h<e.length;++h){const v=[0,h===0?0:a[h-1],0],b=[1,e[h],l];c[h]=Ae(Jt(t,v,b),i)}return t.dispose(),c}),f=new Hl([],n,t.dtype,e.length);for(let c=0;c<d.length;c++)f.setItem(c,d[c]);return f}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZJ=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=A("thenBranch",t,e,n),a=A("elseBranch",t,e,n),o=A("cond",t,e,n),i=A("args",t,e,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=A("body",t,e,n),a=A("cond",t,e,n),o=A("args",t,e,n),i=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),l=o.map(c=>c.id);let d=await i[0].data();i.forEach(c=>{!c.kept&&l.indexOf(c.id)===-1&&c.dispose()});let f=o;for(;d[0];){const c=f;f=await n.functionMap[r].executeFunctionAsync(f,n.tensorArrayMap,n.tensorListMap);const h=f.map(v=>v.id);c.forEach(v=>{!v.kept&&l.indexOf(v.id)===-1&&h.indexOf(v.id)===-1&&v.dispose()});const g=await n.functionMap[a].executeFunctionAsync(f,n.tensorArrayMap,n.tensorListMap);d=await g[0].data(),g.forEach(v=>{!v.kept&&l.indexOf(v.id)===-1&&h.indexOf(v.id)===-1&&v.dispose()})}return f}case"LoopCond":{const r=A("pred",t,e,n);return[ji(r)]}case"Switch":{const r=A("pred",t,e,n);let a=A("data",t,e,n);return a.kept||(a=ji(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>fa(a,e,n)!==void 0);if(r){const a=fa(r,e,n);return[ji(a)]}return}case"Enter":{const r=A("frameName",t,e,n),a=A("tensor",t,e,n);return n.enterFrame(r),[ji(a)]}case"Exit":{const r=A("tensor",t,e,n);return n.exitFrame(),[ji(r)]}case"NextIteration":{const r=A("tensor",t,e,n);return n.nextIteration(),[ji(r)]}case"TensorArrayV3":{const r=A("size",t,e,n),a=A("dtype",t,e,n),o=A("elementShape",t,e,n),i=A("dynamicSize",t,e,n),l=A("clearAfterRead",t,e,n),d=A("identicalElementShapes",t,e,n),f=A("name",t,e,n),c=new GJ(f,a,r,o,d,i,l);return n.addTensorArray(c),[c.idTensor,xn(1)]}case"TensorArrayWriteV3":{const r=A("tensorArrayId",t,e,n),a=A("index",t,e,n),o=A("tensor",t,e,n),i=n.getTensorArray(r.id);return i.write(a,o),[i.idTensor]}case"TensorArrayReadV3":{const r=A("tensorArrayId",t,e,n),a=A("index",t,e,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=A("tensorArrayId",t,e,n),a=A("indices",t,e,n),o=A("dtype",t,e,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=A("tensorArrayId",t,e,n),a=A("indices",t,e,n),o=A("tensor",t,e,n),i=n.getTensorArray(r.id);return i.scatter(a,o),[i.idTensor]}case"TensorArrayConcatV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id),o=A("dtype",t,e,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=A("tensorArrayId",t,e,n),a=A("tensor",t,e,n),o=A("lengths",t,e,n),i=n.getTensorArray(r.id);return i.split(o,a),[i.idTensor]}case"TensorArraySizeV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return[xn(a.size(),"int32")]}case"TensorArrayCloseV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=A("tensorListId",t,e,n),a=A("index",t,e,n),o=A("tensor",t,e,n),i=n.getTensorList(r.id);return i.setItem(a,o),[i.idTensor]}case"TensorListGetItem":{const r=A("tensorListId",t,e,n),a=A("index",t,e,n),o=A("elementShape",t,e,n),i=A("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(a,o,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=A("indices",t,e,n),a=A("tensor",t,e,n),o=A("elementShape",t,e,n),i=A("numElements",t,e,n),l=XJ(a,r,o,i);return n.addTensorList(l),[l.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=A("elementShape",t,e,n),a=A("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const i=A(o,t,e,n),l=t.op==="TensorListReserve"?-1:i,d=YJ(r,a,i,l);return n.addTensorList(d),[d.idTensor]}case"TensorListGather":{const r=A("tensorListId",t,e,n),a=A("indices",t,e,n),o=A("elementShape",t,e,n),i=A("elementDType",t,e,n);return[n.getTensorList(r.id).gather(a,i,o)]}case"TensorListStack":{const r=A("tensorListId",t,e,n),a=A("elementShape",t,e,n),o=A("elementDType",t,e,n),i=A("numElements",t,e,n);return[n.getTensorList(r.id).stack(a,o,i)]}case"TensorListFromTensor":{const r=A("tensor",t,e,n),a=A("elementShape",t,e,n),o=A("elementDType",t,e,n),i=KJ(r,a,o);return n.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=A("tensorListId",t,e,n),a=n.getTensorList(r.id),o=A("dtype",t,e,n),i=A("elementShape",t,e,n);return[a.concat(o,i)]}case"TensorListPushBack":{const r=A("tensorListId",t,e,n),a=A("tensor",t,e,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=A("tensorListId",t,e,n),a=A("elementShape",t,e,n),o=A("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=A("tensor",t,e,n),a=A("elementShape",t,e,n),o=A("lengths",t,e,n),i=QJ(r,o,a);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=A("tensorListId",t,e,n),a=n.getTensorList(r.id);return[xn(a.size(),"int32")]}case"TensorListResize":{const r=A("tensorListId",t,e,n),a=A("size",t,e,n),i=n.getTensorList(r.id).resize(a);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ED(t,e,n){const[r,a]=A("fusedOps",t,e,n),o=r==="biasadd",i=!o,l=a==="prelu",d=r==="fusedbatchnorm",f=A("numArgs",t,e,n);if(o){if(l&&f!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&o&&f!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(d)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=A("strides",t,e,n),h=jy(t,e,n),g=A("dataFormat",t,e,n).toUpperCase(),v=A("dilations",t,e,n);let[b,w]=A("args",t,e,n);i&&(w=b,b=void 0);const x=A("leakyreluAlpha",t,e,n);return{stride:c,pad:h,dataFormat:g,dilations:v,biasArg:b,preluArg:w,activationFunc:a,leakyreluAlpha:x}}const JJ=(t,e,n,r=pa)=>{switch(t.op){case"Conv1D":{const a=A("stride",t,e,n),o=A("pad",t,e,n),i=A("dataFormat",t,e,n).toUpperCase(),l=A("dilation",t,e,n);return[r.conv1d(A("x",t,e,n),A("filter",t,e,n),a,o,i,l)]}case"Conv2D":{const a=A("strides",t,e,n),o=jy(t,e,n),i=A("dataFormat",t,e,n).toUpperCase(),l=A("dilations",t,e,n);return[r.conv2d(A("x",t,e,n),A("filter",t,e,n),[a[1],a[2]],o,i,[l[1],l[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:i,dilations:l,biasArg:d,preluArg:f,activationFunc:c,leakyreluAlpha:h}=ED(t,e,n);return[r.fused.conv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[a[1],a[2]],pad:o,dataFormat:i,dilations:[l[1],l[2]],bias:d,activation:c,preluActivationWeights:f,leakyreluAlpha:h})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:i,dilations:l,biasArg:d,preluArg:f,activationFunc:c,leakyreluAlpha:h}=ED(t,e,n);return[r.fused.depthwiseConv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[a[1],a[2]],pad:o,dataFormat:i,dilations:[l[1],l[2]],bias:d,activation:c,preluActivationWeights:f,leakyreluAlpha:h})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=A("outputShape",t,e,n),o=A("strides",t,e,n),i=jy(t,e,n);return[r.conv2dTranspose(A("x",t,e,n),A("filter",t,e,n),a,[o[1],o[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=A("strides",t,e,n),o=jy(t,e,n),i=A("dilations",t,e,n),l=A("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(A("input",t,e,n),A("filter",t,e,n),[a[1],a[2]],o,l,[i[1],i[2]])]}case"Conv3D":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("dataFormat",t,e,n).toUpperCase(),l=A("dilations",t,e,n);return[r.conv3d(A("x",t,e,n),A("filter",t,e,n),[a[1],a[2],a[3]],o,i,[l[1],l[2],l[3]])]}case"AvgPool":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("kernelSize",t,e,n);return[r.avgPool(A("x",t,e,n),[i[1],i[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("kernelSize",t,e,n);return[r.maxPool(A("x",t,e,n),[i[1],i[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("kernelSize",t,e,n),l=A("includeBatchInIndex",t,e,n),{result:d,indexes:f}=r.maxPoolWithArgmax(A("x",t,e,n),[i[1],i[2]],[a[1],a[2]],o,l);return[d,f]}case"AvgPool3D":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("kernelSize",t,e,n);return[r.avgPool3d(A("x",t,e,n),[i[1],i[2],i[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("kernelSize",t,e,n);return[r.maxPool3d(A("x",t,e,n),[i[1],i[2],i[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=A("strides",t,e,n),o=A("pad",t,e,n),i=A("dilations",t,e,n),l=a[1],d=a[2],f=i[1],c=i[2];return[r.dilation2d(A("x",t,e,n),A("filter",t,e,n),[l,d],o,[f,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eee=(t,e,n,r=pa)=>{switch(t.op){case"Fill":{const a=A("shape",t,e,n),o=A("dtype",t,e,n),i=A("value",t,e,n);return[r.fill(a,i,o)]}case"LinSpace":{const a=A("start",t,e,n),o=A("stop",t,e,n),i=A("num",t,e,n);return[r.linspace(a,o,i)]}case"Multinomial":{const a=A("logits",t,e,n),o=A("numSamples",t,e,n),i=A("seed",t,e,n);return[r.multinomial(a,o,i)]}case"OneHot":{const a=A("indices",t,e,n),o=A("depth",t,e,n),i=A("onValue",t,e,n),l=A("offValue",t,e,n),d=A("dtype",t,e,n);return[r.oneHot(a,o,i,l,d)]}case"Ones":return[r.ones(A("shape",t,e,n),A("dtype",t,e,n))];case"OnesLike":return[r.onesLike(A("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(A("shape",t,e,n),A("dtype",t,e,n),A("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("seed",t,e,n))];case"Range":{const a=A("start",t,e,n),o=A("stop",t,e,n),i=A("step",t,e,n);return[r.range(a,o,i,A("dtype",t,e,n))]}case"TruncatedNormal":{const a=A("shape",t,e,n),o=A("mean",t,e,n),i=A("stdDev",t,e,n),l=A("seed",t,e,n);return[r.truncatedNormal(a,o,i,A("dtype",t,e,n),l)]}case"Zeros":return[r.zeros(A("shape",t,e,n),A("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j_(t,e,n){const r=A("boxes",t,e,n),a=A("scores",t,e,n),o=A("maxOutputSize",t,e,n),i=A("iouThreshold",t,e,n),l=A("scoreThreshold",t,e,n),d=A("softNmsSigma",t,e,n);return{boxes:r,scores:a,maxOutputSize:o,iouThreshold:i,scoreThreshold:l,softNmsSigma:d}}const tee=async(t,e,n,r,a=pa)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:i,maxOutputSize:l,iouThreshold:d,scoreThreshold:f,softNmsSigma:c}=j_(t,e,n),h=await a.image.nonMaxSuppressionWithScoreAsync(o,i,l,d,f,c);return[h.selectedIndices,h.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:i,maxOutputSize:l,iouThreshold:d,scoreThreshold:f}=j_(t,e,n),c=A("padToMaxOutputSize",t,e,n),h=await a.image.nonMaxSuppressionPaddedAsync(o,i,l,d,f,c);return[h.selectedIndices,h.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:i,maxOutputSize:l,iouThreshold:d,scoreThreshold:f}=j_(t,e,n);return[await a.image.nonMaxSuppressionAsync(o,i,l,d,f)]}case"Where":{const o=a.cast(A("condition",t,e,n),"bool"),i=[await a.whereAsync(o)];return o.dispose(),i}case"ListDiff":return a.setdiff1dAsync(A("x",t,e,n),A("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nee=(t,e,n,r=pa)=>{switch(t.op){case"LowerBound":{const a=A("sortedSequence",t,e,n),o=A("values",t,e,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=A("x",t,e,n),o=A("k",t,e,n),i=A("sorted",t,e,n),l=r.topk(a,o,i);return[l.values,l.indices]}case"UpperBound":{const a=A("sortedSequence",t,e,n),o=A("values",t,e,n);return[r.upperBound(a,o)]}case"Unique":{const a=A("x",t,e,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=A("x",t,e,n),o=A("axis",t,e,n),i=r.unique(a,o);return[i.values,i.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ree=(t,e,n,r=pa)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const a=A("default",t,e,n);return[fa(t.name,e,n)||a];case"Placeholder":return[fa(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=A("x",t,e,n);return[ji(c)]}case"IdentityN":return A("x",t,e,n).map(c=>ji(c));case"Snapshot":const o=A("x",t,e,n);return[ji(o)];case"Shape":return[r.tensor1d(A("x",t,e,n).shape,"int32")];case"ShapeN":return A("x",t,e,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(A("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(A("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=A("x",t,e,n),l=A("data",t,e,n),d=A("message",t,e,n),f=A("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(d);for(let c=0;c<l.length;c++)console.log(Array.prototype.slice.call(l[c].dataSync()).slice(0,f));return[i];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aee{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=xn(0),this.tensorMap=new Map,ai(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return xn(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(a=>a.dispose()),this.tensorMap.clear(),dn(()=>{const a=Bl(n),o=r.length,i=a.length;W(o===i,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${i} elements.`);for(let l=0;l<o;l++){const d=r[l],f=a[l];ai(f),this.tensorMap.set(d,f)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return dn(()=>{const a=[];for(let o=0;o<r.length;o++){const i=r[o],l=this.findWithDefault(i,n);a.push(l)}return zi(a)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oee=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(a!=null)return[a];{const o=A("keyDType",t,e,n),i=A("valueDType",t,e,n),l=new aee(o,i);return r.addHashTable(t.name,l),[l.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=A("tableHandle",t,e,n,r),o=A("keys",t,e,n),i=A("values",t,e,n);return[await r.getHashTableById(a.id).import(o,i)]}case"LookupTableFind":case"LookupTableFindV2":{const a=A("tableHandle",t,e,n,r),o=A("keys",t,e,n),i=A("defaultValue",t,e,n);return[await r.getHashTableById(a.id).find(o,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=A("tableHandle",t,e,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const see=(t,e,n,r=pa)=>{switch(t.op){case"ResizeBilinear":{const a=A("images",t,e,n),o=A("size",t,e,n),i=A("alignCorners",t,e,n),l=A("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(a,[o[0],o[1]],i,l)]}case"ResizeNearestNeighbor":{const a=A("images",t,e,n),o=A("size",t,e,n),i=A("alignCorners",t,e,n),l=A("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],i,l)]}case"CropAndResize":{const a=A("image",t,e,n),o=A("boxes",t,e,n),i=A("boxInd",t,e,n),l=A("cropSize",t,e,n),d=A("method",t,e,n),f=A("extrapolationValue",t,e,n);return[r.image.cropAndResize(a,o,i,l,d,f)]}case"ImageProjectiveTransformV3":{const a=A("images",t,e,n),o=A("transforms",t,e,n),i=A("outputShape",t,e,n),l=A("fillValue",t,e,n),d=A("interpolation",t,e,n),f=A("fillMode",t,e,n);return[r.image.transform(a,o,d.toLowerCase(),f.toLowerCase(),l,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iee=(t,e,n,r=pa)=>{switch(t.op){case"Equal":return[r.equal(A("a",t,e,n),A("b",t,e,n))];case"NotEqual":return[r.notEqual(A("a",t,e,n),A("b",t,e,n))];case"Greater":return[r.greater(A("a",t,e,n),A("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(A("a",t,e,n),A("b",t,e,n))];case"Less":return[r.less(A("a",t,e,n),A("b",t,e,n))];case"LessEqual":return[r.lessEqual(A("a",t,e,n),A("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(A("a",t,e,n),A("b",t,e,n))];case"LogicalNot":return[r.logicalNot(A("a",t,e,n))];case"LogicalOr":return[r.logicalOr(A("a",t,e,n),A("b",t,e,n))];case"Select":case"SelectV2":return[r.where(A("condition",t,e,n),A("a",t,e,n),A("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uee=(t,e,n,r=pa)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(A("a",t,e,n),A("b",t,e,n),A("transposeA",t,e,n),A("transposeB",t,e,n))];case"Einsum":return[r.einsum(A("equation",t,e,n),...A("tensors",t,e,n))];case"Transpose":return[r.transpose(A("x",t,e,n),A("perm",t,e,n))];case"_FusedMatMul":const[a,o]=A("fusedOps",t,e,n),i=a==="biasadd",l=o==="prelu",d=A("numArgs",t,e,n),f=A("leakyreluAlpha",t,e,n);if(i){if(l&&d!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&d!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,h]=A("args",t,e,n);return[r.fused.matMul({a:A("a",t,e,n),b:A("b",t,e,n),transposeA:A("transposeA",t,e,n),transposeB:A("transposeB",t,e,n),bias:c,activation:o,preluActivationWeights:h,leakyreluAlpha:f})];case"MatrixBandPart":return[r.linalg.bandPart(A("a",t,e,n),A("numLower",t,e,n),A("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lee=(t,e,n,r=pa)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(A("x",t,e,n),A("axis",t,e,n),A("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(A("x",t,e,n),A("radius",t,e,n),A("bias",t,e,n),A("alpha",t,e,n),A("beta",t,e,n))];case"Softmax":return[r.softmax(A("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cee=(t,e,n,r=pa)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(A("paramsNestedSplits",t,e,n),A("paramsDenseValues",t,e,n),A("indices",t,e,n),A("outputRaggedRank",t,e,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(A("starts",t,e,n),A("limits",t,e,n),A("splits",t,e,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(A("shape",t,e,n),A("values",t,e,n),A("defaultValue",t,e,n),A("rowPartitionTensors",t,e,n),A("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dee=(t,e,n,r=pa)=>{switch(t.op){case"Max":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.max(A("x",t,e,n),l,d)]}case"Mean":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.mean(A("x",t,e,n),l,d)]}case"Min":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.min(A("x",t,e,n),l,d)]}case"Sum":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.sum(A("x",t,e,n),l,d)]}case"All":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.all(A("x",t,e,n),l,d)]}case"Any":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.any(A("x",t,e,n),l,d)]}case"ArgMax":{const l=A("axis",t,e,n);return[r.argMax(A("x",t,e,n),l)]}case"ArgMin":{const l=A("axis",t,e,n);return[r.argMin(A("x",t,e,n),l)]}case"Prod":{const l=A("axis",t,e,n),d=A("keepDims",t,e,n);return[r.prod(A("x",t,e,n),l,d)]}case"Cumprod":{const l=A("axis",t,e,n),d=A("exclusive",t,e,n),f=A("reverse",t,e,n);return[r.cumprod(A("x",t,e,n),l,d,f)]}case"Cumsum":{const l=A("axis",t,e,n),d=A("exclusive",t,e,n),f=A("reverse",t,e,n);return[r.cumsum(A("x",t,e,n),l,d,f)]}case"Bincount":const a=A("x",t,e,n),o=A("weights",t,e,n),i=A("size",t,e,n);return[r.bincount(a,o,i)];case"DenseBincount":{const l=A("x",t,e,n),d=A("weights",t,e,n),f=A("size",t,e,n),c=A("binaryOutput",t,e,n);return[r.denseBincount(l,d,f,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fee=(t,e,n,r=pa)=>{switch(t.op){case"ConcatV2":case"Concat":{const a=A("n",t,e,n),o=A("axis",t,e,n);let i=A("tensors",t,e,n);return i=i.slice(0,a),[r.concat(i,o)]}case"Gather":{const a=A("x",t,e,n),o=A("indices",t,e,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=A("axis",t,e,n),o=A("batchDims",t,e,n),i=A("x",t,e,n),l=A("indices",t,e,n);return[r.gather(i,r.cast(l,"int32"),a,o)]}case"Reverse":{const a=A("dims",t,e,n),o=[];for(let l=0;l<a.length;l++)a[l]&&o.push(l);const i=A("x",t,e,n);return[r.reverse(i,o)]}case"ReverseV2":{const a=A("axis",t,e,n),o=A("x",t,e,n);return[r.reverse(o,a)]}case"Slice":{const a=A("begin",t,e,n),o=A("size",t,e,n);return[r.slice(A("x",t,e,n),a,o)]}case"StridedSlice":{const a=A("begin",t,e,n),o=A("end",t,e,n),i=A("strides",t,e,n),l=A("beginMask",t,e,n),d=A("endMask",t,e,n),f=A("ellipsisMask",t,e,n),c=A("newAxisMask",t,e,n),h=A("shrinkAxisMask",t,e,n),g=A("x",t,e,n);return[r.stridedSlice(g,a,o,i,l,d,f,c,h)]}case"Pack":return dn(()=>{const a=A("axis",t,e,n),o=A("tensors",t,e,n),i=o[0].shape,l=r.squeeze(o[0]).shape,d=o.map(f=>{const c=ts(f.shape,i);if(!c&&!ts(r.squeeze(f).shape,l))throw new Error("the input tensors shape does not match");return c?f:r.reshape(f,i)});return[r.stack(d,a)]});case"Unpack":{const a=A("axis",t,e,n),o=A("tensor",t,e,n);return r.unstack(o,a)}case"Tile":{const a=A("reps",t,e,n);return[r.tile(A("x",t,e,n),a)]}case"Split":case"SplitV":{const a=A("axis",t,e,n),o=A("numOrSizeSplits",t,e,n),i=A("x",t,e,n);return r.split(i,o,a)}case"ScatterNd":{const a=A("indices",t,e,n),o=A("values",t,e,n),i=A("shape",t,e,n);return[r.scatterND(a,o,i)]}case"GatherNd":{const a=A("x",t,e,n),o=A("indices",t,e,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=A("sparseIndices",t,e,n),o=A("outputShape",t,e,n),i=A("sparseValues",t,e,n),l=A("defaultValue",t,e,n);return[r.sparseToDense(a,i,o,i.dtype===l.dtype?l:r.cast(l,i.dtype))]}case"TensorScatterUpdate":{const a=A("indices",t,e,n),o=A("values",t,e,n),i=A("tensor",t,e,n);return[r.tensorScatterUpdate(i,a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pee=(t,e,n,r=pa)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:i,reverseIndexMap:l}=r.sparse.sparseFillEmptyRows(A("indices",t,e,n),A("values",t,e,n),A("denseShape",t,e,n),A("defaultValue",t,e,n));return[a,o,i,l]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(A("inputIndices",t,e,n),A("inputShape",t,e,n),A("newShape",t,e,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hee=(t,e,n,r=pa)=>{switch(t.op){case"FFT":return[r.fft(A("x",t,e,n))];case"IFFT":return[r.ifft(A("x",t,e,n))];case"RFFT":return[r.rfft(A("x",t,e,n))];case"IRFFT":return[r.irfft(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mee=(t,e,n,r=pa)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(A("input",t,e,n),A("pattern",t,e,n),A("rewrite",t,e,n),A("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(A("data",t,e,n),A("dataSplits",t,e,n),A("separator",t,e,n),A("nGramWidths",t,e,n),A("leftPad",t,e,n),A("rightPad",t,e,n),A("padWidth",t,e,n),A("preserveShortSequences",t,e,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:i}=r.string.stringSplit(A("input",t,e,n),A("delimiter",t,e,n),A("skipEmpty",t,e,n));return[a,o,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(A("input",t,e,n),A("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gee=(t,e,n,r=pa)=>{switch(t.op){case"Cast":return[r.cast(A("x",t,e,n),A("dtype",t,e,n))];case"ExpandDims":{const a=A("axis",t,e,n);return[r.expandDims(A("x",t,e,n),a)]}case"Squeeze":{const a=A("axis",t,e,n);return[r.squeeze(A("x",t,e,n),a)]}case"Reshape":return[r.reshape(A("x",t,e,n),A("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(A("x",t,e,n),A("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(A("x",t,e,n),A("padding",t,e,n),A("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(A("x",t,e,n),A("padding",t,e,n),A("constantValue",t,e,n))];case"SpaceToBatchND":{const a=A("blockShape",t,e,n),o=A("paddings",t,e,n);return[r.spaceToBatchND(A("x",t,e,n),a,o)]}case"BatchToSpaceND":{const a=A("blockShape",t,e,n),o=A("crops",t,e,n);return[r.batchToSpaceND(A("x",t,e,n),a,o)]}case"DepthToSpace":{const a=A("blockSize",t,e,n),o=A("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(A("x",t,e,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(A("x",t,e,n),A("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(A("s0",t,e,n),A("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CD(t,e,n,r,a=dn){const o=((i,l,d)=>{switch(i.category){case"arithmetic":return a(()=>WJ(i,l,d));case"basic_math":return a(()=>qJ(i,l,d));case"control":return ZJ(i,l,d);case"convolution":return a(()=>JJ(i,l,d));case"creation":return a(()=>eee(i,l,d));case"dynamic":return tee(i,l,d);case"evaluation":return a(()=>nee(i,l,d));case"image":return a(()=>see(i,l,d));case"graph":return a(()=>ree(i,l,d));case"logical":return a(()=>iee(i,l,d));case"matrices":return a(()=>uee(i,l,d));case"normalization":return a(()=>lee(i,l,d));case"ragged":return a(()=>cee(i,l,d));case"reduction":return a(()=>dee(i,l,d));case"slice_join":return a(()=>fee(i,l,d));case"sparse":return a(()=>pee(i,l,d));case"spectral":return a(()=>hee(i,l,d));case"string":return a(()=>mee(i,l,d));case"transformation":return a(()=>gee(i,l,d));case"hash_table":return oee(i,l,d,r);case"custom":const f=vD(i.op);if(f&&f.customExecutor)return f.customExecutor(new HJ(i,l,d));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Cl(o)?o.then(i=>[].concat(i)):[].concat(o)}class TD{constructor(e={},n={},r={},a={},o){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kD(t,e,n,r){const a=new Set,o=[];let i=null,l=null;const d=new Set,f=new Set(Object.keys(t).map(g=>wo(g)[0]));r=r||[];const c=new Set(r.map(g=>wo(g.name)[0])),h=[...e];for(;h.length>0;){const g=h.pop();if((Wl(g)||Eee(g)||Cee(g))&&i==null&&(i=g,l=i.children.map(v=>v.name).filter(v=>a.has(v))),a.add(g.name),n[g.name]==null&&!f.has(g.name)&&!c.has(g.name)){if(g.inputs.length===0){o.push(g.name);continue}g.inputs.forEach(v=>{d.has(v.name)||(d.add(v.name),h.push(v))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:l}}function vee(t,e){const{usedNodes:n,inputs:r}=e,a=Object.keys(r).map(x=>wo(x)[0]).map(x=>t.nodes[x]),o=t.initNodes||[],i=x=>n.has(typeof x=="string"?x:x.name);function l(x){return[...new Map(x.map(E=>[E.name,E])).values()]}const d=l([...a,...t.weights,...o]).filter(i),f=l([...d,...Object.values(t.nodes)]).filter(i),c=new Map(f.map(x=>[x.name,x])),h={};for(const x of f){h[x.name]=h[x.name]||0;for(const E of x.children)i(E)||(h[E.name]=Number.POSITIVE_INFINITY),h[E.name]=(h[E.name]||0)+1}const g=Object.entries(h).filter(([,x])=>x===0).map(([x])=>x),v=[...g];for(;g.length>0;){const x=g.pop(),E=c.get(x);for(const T of E.children.filter(i))--h[T.name]===0&&(v.push(T.name),g.push(T.name))}const b=v.map(x=>c.get(x)),w=yee(b,d);return bee(w,d),w}function yee(t,e){const n=new Map(t.map(i=>[i.name,i])),r=e.map(i=>i.name),a=new Set(r);for(;r.length>0;){const i=r.pop(),l=n.get(i);for(const d of l.children)!n.has(d.name)||a.has(d.name)||(a.add(d.name),r.push(d.name))}return t.filter(i=>a.has(i.name))}class Hy extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function bee(t,e){const n=new Map(t.map((l,d)=>[l.name,d])),r=new Set(e.map(l=>l.name)),a=l=>r.has(typeof l=="string"?l:l.name),o=new Set(t.map(l=>l.name)),i=l=>o.has(typeof l=="string"?l:l.name);for(const l of t){for(const d of l.children.filter(i)){if(!n.has(d.name))throw new Hy(`Child ${d.name} of node ${l.name} is unreachable.`);if(n.get(l.name)>n.get(d.name))throw new Hy(`Node ${l.name} is scheduled to run after its child ${d.name}.`)}if(!a(l))for(const d of l.inputs){if(!n.has(d.name))throw new Hy(`Input ${d.name} of node ${l.name} is unreachable.`);if(n.get(d.name)>n.get(l.name))throw new Hy(`Node ${l.name} is scheduled to run before its input ${d.name}.`)}}}function See(t){const e=new Map(t.map((l,d)=>[l.name,d])),n=Number.MAX_SAFE_INTEGER,r=t.map((l,d)=>Wl(l)?n:d),a=l=>{const d=r[e.get(l.name)];return d??-1},o=t.map((l,d)=>l.children.map(a).reduce((f,c)=>Math.max(f,c),r[d])),i=new Map;for(let l=0;l<t.length;++l){const d=o[l];if(d===n)continue;const f=t[l],c=t[d];i.has(c.name)||i.set(c.name,[]),i.get(c.name).push(f)}return i}const wee=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),_ee=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),xee=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Wl(t){return wee.has(t.op)}function Eee(t){return _ee.has(t.op)}function Cee(t){return xee.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wy{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new Wy(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(o=>o.name).sort(),a=n.map(o=>o.name).sort();return r.join(this.SEPARATOR)+"--"+a.join(this.SEPARATOR)}compile(e,n){const r=kD(e,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:o,syncInputs:i}=r;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(a.length>0){const f=n.map(h=>h.name),c=Object.keys(e);throw new Error(`Cannot compute the outputs [${f}] from the provided inputs [${c}]. Missing the following inputs: [${a}]`)}const l=vee(this.graph,r),d=See(l);return{orderedNodes:l,nodeLiveUntilMap:d}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return ai(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const a=r.map(g=>this.graph.nodes[wo(g)[0]]),o=n.map(g=>wo(g)[0]),i=new Set(o);let l=o.map(g=>this.graph.nodes[g]);l.length===0&&(l=this._outputs);const d=this.getCompilationKey(a,l);let f=this.compiledMap.get(d);f==null&&(f=this.compile(e,l),this.compiledMap.set(d,f));try{this.keepIntermediateTensors=Zt().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(g){this.keepIntermediateTensors=!1,console.warn(g.message)}const c={},h={};return dn(()=>{const g=new TD(this.weightMap,c,h,this.functionExecutorMap,this.parseNodeNameCache),v=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(E=>{const[T,C]=wo(E,g),I=[];I[C]=e[E],v[T]=I,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(I))});const b=this.getFrozenTensorIds(v),{orderedNodes:w,nodeLiveUntilMap:x}=f;for(const E of w){if(v[E.name])continue;const T=CD(E,v,g,this._resourceManager);if(Cl(T))throw new Error(`The execution of the op '${E.op}' returned a promise. Please use model.executeAsync() instead.`);v[E.name]=T,this.keepIntermediateTensors&&(this.clonedTensorsMap[E.name]=this.cloneTensorList(T)),this.checkTensorForDisposalWithNodeLiveUntilInfo(E,v,g,b,i,x.get(E.name))}return this.parent==null&&g.dispose(b),n.map(E=>fa(E,v,g))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(e,n,r,a,o,i,l){if(!(Wl(n)||i.has(e))){for(const d of r[e])d!=null&&(l[d.id]=(l[d.id]||0)+n.children.length);for(const d of n.inputs){if(Wl(d))continue;const f=yD(d.name,r,a);if(f!=null)for(const c of f){if(!c||c.kept||o.has(c.id))continue;const h=l[c.id];h===1?(c.dispose(),delete l[c.id]):h!=null&&l[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,a,o,i){function l(d){return Wl(d)||o.has(d.name)}if(!(Wl(e)||i==null))for(const d of i){if(l(d))continue;const f=yD(d.name,n,r);for(const c of f)!c||c.kept||a.has(c.id)||c.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,a={},o={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Zt().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(g){this.keepIntermediateTensors=!1,console.warn(g.message)}const i=new TD(this.weightMap,a,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const l=await this.executeWithControlFlow(e,i,n,r),d=n.map(g=>fa(g,l,i)),f=d.map(g=>g.id),c=Object.keys(e).map(g=>e[g].id),h=new Set([...f,...c,...this.weightIds]);return Object.values(l).forEach(g=>{g.forEach(v=>{v&&!v.isDisposed&&!h.has(v.id)&&v.dispose()})}),this.parent==null&&i.dispose(h),d}async executeFunctionAsync(e,n,r){const a=e.reduce((o,i,l)=>(o[this.inputs[l].name]=i,o),{});return this._executeAsync(a,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,a){const o=Object.keys(e),i=o.map(I=>this.graph.nodes[wo(I)[0]]),l=r.map(I=>wo(I)[0]),d=new Set(l);let f=l.map(I=>this.graph.nodes[I]);f.length===0&&(f=this._outputs);const{usedNodes:c,missingInputs:h,dynamicNode:g,syncInputs:v}=kD(e,f,this.weightMap,this._initNodes),b=[...i,...this.graph.weights,...this._initNodes||[]].map(I=>({node:I,contexts:n.currentContext})),w=Object.assign({},this.weightMap);Object.keys(e).forEach(I=>{const[D,F]=wo(I),B=[];B[F]=e[I],w[D]=B});const x={},E=this.getFrozenTensorIds(w),T={};for(;b.length>0;){const I=this.processStack(i,b,n,w,T,E,d,x,c);await Promise.all(I)}g==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const C=f.filter(I=>!Wl(I)&&!fa(I.name,w,n)).map(I=>I.name);if(C.length>0){let I="";throw g!=null&&(I=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${v}]`),new Error(`Cannot compute the outputs [${C}] from the provided inputs [${o}]. Consider providing the following inputs: [${h}]. ${I}`)}return w}processStack(e,n,r,a,o,i,l,d,f){const c=[];for(;n.length>0;){const h=n.pop();r.currentContext=h.contexts;let g="";if(h.node.op==="Enter"&&A("isConstant",h.node,a,r)&&([g]=Vi(h.node.name,r)),a[h.node.name]==null){const v=CD(h.node,a,r,this._resourceManager);g||([g]=Vi(h.node.name,r));const b=r.currentContext;Cl(v)?c.push(v.then(w=>(a[g]=w,this.keepIntermediateTensors&&(this.clonedTensorsMap[g]=this.cloneTensorList(w)),r.currentContext=b,this.checkTensorForDisposal(g,h.node,a,r,i,l,d),this.processChildNodes(h.node,n,r,a,o,f),w))):(a[g]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[g]=this.cloneTensorList(v)),this.checkTensorForDisposal(g,h.node,a,r,i,l,d),this.processChildNodes(h.node,n,r,a,o,f))}else this.processChildNodes(h.node,n,r,a,o,f)}return c}processChildNodes(e,n,r,a,o,i){e.children.forEach(l=>{const[d]=Vi(l.name,r);o[d]||!i.has(l.name)||(l.op==="Merge"?l.inputNames.some(f=>!!fa(f,a,r))&&(o[d]=!0,n.push({contexts:r.currentContext,node:l})):l.inputNames.every(f=>!!fa(f,a,r))&&(o[d]=!0,n.push({contexts:r.currentContext,node:l})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[a]=wo(n),o=this.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){const i=o.attrParams.shape.value,l=i.length===r.shape.length&&r.shape.every((d,f)=>i[f]===-1||i[f]===d);W(l,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${i}], but was [${r.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&W(r.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const a={};for(const o in e){const i=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[o];i!=null?a[i.name]=e[o]:a[o]=e[o]}return a}checkInputs(e){const n=Object.keys(e).filter(r=>{const[a]=wo(r);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,a;const o=(a=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||a===void 0?void 0:a[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=wo(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class Tee{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kee="?tfjs-format=file",Iee="model.json";class Ree{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=zN){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new Tee}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Cl(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(r=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Wy(bD.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=bD.Instance.transformGraph(e.modelInitializer);this.initializer=new Wy(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Lr?[e]:e,r={};return n.forEach((a,o)=>r[this.structuredOutputKeys[o]]=a),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof Lr)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const i in o){const l=o[i];l.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[l.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let a=0;return this.inputNodes.reduce((o,i)=>{var l,d,f;const c=(f=(d=(l=this.signature)===null||l===void 0?void 0:l.inputs)===null||d===void 0?void 0:d[i])===null||f===void 0?void 0:f.resourceId;return c!=null?o[i]=this.resourceIdToCapturedInput[c]:o[i]=e[a++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let a=0;a<r.length;a++){const o=r[a],i=n[o];this.resourceIdToCapturedInput[i.resourceId]=e[a]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Hr(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Aee(t,e={},n=zN){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Nee(t));const r=new Ree(t,e,n);return await r.load(),r}function Nee(t){return t.endsWith("/")||(t=t+"/"),`${t}${Iee}${kee}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var Pu=function(){return Pu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Pu.apply(this,arguments)};function Hi(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(f){try{d(r.next(f))}catch(c){o(c)}}function l(f){try{d(r.throw(f))}catch(c){o(c)}}function d(f){var c;f.done?a(f.value):(c=f.value,c instanceof n?c:new n(function(h){h(c)})).then(i,l)}d((r=r.apply(t,[])).next())})}function Wi(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!((a=a.length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(c[0]===6&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(h){c=[6,h],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([d,f])}}}var ID=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],H_={modelType:"short",runtime:"mediapipe",maxFaces:1},Dee=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new _J.FaceDetection({locateFile:function(r,a){if(e.solutionPath){var o=e.solutionPath.replace(/\/+$/,"");return"".concat(o,"/").concat(r)}return"".concat(a,"/").concat(r)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var a=0,o=r.detections;a<o.length;a++){var i=o[a];n.faces.push(n.normalizedToAbsolute(i.landmarks,(l=i.boundingBox,d=void 0,f=void 0,c=void 0,d=l.xCenter-l.width/2,f=d+l.width,c=l.yCenter-l.height/2,{xMin:d,xMax:f,yMin:c,yMax:c+l.height,width:l.width,height:l.height})))}var l,d,f,c})}return t.prototype.normalizedToAbsolute=function(e,n){var r=this;return{keypoints:e.map(function(a,o){return{x:a.x*r.width,y:a.y*r.height,name:ID[o]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return Hi(this,void 0,void 0,function(){var r,a;return Wi(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Lr?(a=ImageData.bind,[4,WZ(e)]):[3,2];case 1:return r=new(a.apply(ImageData,[void 0,o.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,o.label=3;case 3:return e=r,[4,this.faceDetectorSolution.send({image:e})];case 4:return o.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t}();function Oee(t){return Hi(this,void 0,void 0,function(){var e,n;return Wi(this,function(r){switch(r.label){case 0:return e=function(a){if(a==null)return Pu({},H_);var o=Pu({},a);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=H_.modelType),o.maxFaces==null&&(o.maxFaces=H_.maxFaces),o}(t),[4,(n=new Dee(e)).initialize()];case 1:return r.sent(),[2,n]}})})}function Mee(t,e,n,r){var a=t.width,o=t.height,i=1,l=Math.cos(t.rotation),d=Math.sin(t.rotation),f=t.xCenter,c=t.yCenter,h=1/e,g=1/n,v=new Array(16);return v[0]=a*l*i*h,v[1]=-o*d*h,v[2]=0,v[3]=(-.5*a*l*i+.5*o*d+f)*h,v[4]=a*d*i*g,v[5]=o*l*g,v[6]=0,v[7]=(-.5*o*l-.5*a*d*i+c)*g,v[8]=0,v[9]=0,v[10]=a*h,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,function(b){if(b.length!==16)throw new Error("Array length must be 16 but got ".concat(b.length));return[[b[0],b[1],b[2],b[3]],[b[4],b[5],b[6],b[7]],[b[8],b[9],b[10],b[11]],[b[12],b[13],b[14],b[15]]]}(v)}function RD(t){return t instanceof Lr?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function AD(t){return t instanceof Lr?t:qZ(t)}function W_(t,e){W(t.width!==0,function(){return"".concat(e," width cannot be 0.")}),W(t.height!==0,function(){return"".concat(e," height cannot be 0.")})}function $ee(t,e){var n=function(r,a,o,i){var l=a-r,d=i-o,f=d/l;return{scale:f,offset:o-r*f}}(0,255,e[0],e[1]);return dn(function(){return It(Ke(t,n.scale),n.offset)})}function Fee(t,e,n){var r=e.outputTensorSize,a=e.keepAspectRatio,o=e.borderMode,i=e.outputTensorFloatRange,l=RD(t),d=function(g,v){return{xCenter:.5*g.width,yCenter:.5*g.height,width:g.width,height:g.height,rotation:0}}(l),f=function(g,v,b){if(b===void 0&&(b=!1),!b)return{top:0,left:0,right:0,bottom:0};var w=v.height,x=v.width;W_(v,"targetSize"),W_(g,"roi");var E,T,C=w/x,I=g.height/g.width,D=0,F=0;return C>I?(E=g.width,T=g.width*C,F=(1-I/C)/2):(E=g.height/C,T=g.height,D=(1-C/I)/2),g.width=E,g.height=T,{top:F,left:D,right:D,bottom:F}}(d,r,a),c=Mee(d,l.width,l.height),h=dn(function(){var g=AD(t),v=Ll(function(x,E,T){return W_(T,"inputResolution"),[1/T.width*x[0][0]*E.width,1/T.height*x[0][1]*E.width,x[0][3]*E.width,1/T.width*x[1][0]*E.height,1/T.height*x[1][1]*E.height,x[1][3]*E.height,0,0]}(c,l,r),[1,8]),b=o==="zero"?"constant":"nearest",w=Py.transform(oi(yr(g,"float32")),v,"bilinear",b,0,[r.height,r.width]);return i!=null?$ee(w,i):w});return{imageTensor:h,padding:f,transformationMatrix:c}}function ND(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var r=[],a=[],o=[],i=[],l=n;l<t.strides.length&&t.strides[l]===t.strides[n];){var d=DD(t.minScale,t.maxScale,l,t.strides.length);if(l===0&&t.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(d),i.push(d);else{for(var f=0;f<t.aspectRatios.length;++f)o.push(t.aspectRatios[f]),i.push(d);if(t.interpolatedScaleAspectRatio>0){var c=l===t.strides.length-1?1:DD(t.minScale,t.maxScale,l+1,t.strides.length);i.push(Math.sqrt(d*c)),o.push(t.interpolatedScaleAspectRatio)}}l++}for(var h=0;h<o.length;++h){var g=Math.sqrt(o[h]);r.push(i[h]/g),a.push(i[h]*g)}var v=0,b=0;if(t.featureMapHeight.length>0)v=t.featureMapHeight[n],b=t.featureMapWidth[n];else{var w=t.strides[n];v=Math.ceil(t.inputSizeHeight/w),b=Math.ceil(t.inputSizeWidth/w)}for(var x=0;x<v;++x)for(var E=0;E<b;++E)for(var T=0;T<r.length;++T){var C={xCenter:(E+t.anchorOffsetX)/b,yCenter:(x+t.anchorOffsetY)/v,width:0,height:0};t.fixedAnchorSize?(C.width=1,C.height=1):(C.width=a[T],C.height=r[T]),e.push(C)}n=l}return e}function DD(t,e,n,r){return r===1?.5*(t+e):t+(e-t)*n/(r-1)}function OD(t,e){var n=e[0],r=e[1];return[n*t[0]+r*t[1]+t[3],n*t[4]+r*t[5]+t[7]]}function Pee(t){return dn(function(){var e=function(a){return dn(function(){return[Jt(a,[0,0,0],[1,-1,1]),Jt(a,[0,0,1],[1,-1,-1])]})}(t),n=e[0],r=e[1];return{boxes:da(r),logits:da(n)}})}function Lee(t,e,n,r){return Hi(this,void 0,void 0,function(){var a,o,i,l,d;return Wi(this,function(f){switch(f.label){case 0:return t.sort(function(c,h){return Math.max.apply(Math,h.score)-Math.max.apply(Math,c.score)}),a=Ll(t.map(function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]})),o=Ea(t.map(function(c){return c.score[0]})),[4,Py.nonMaxSuppressionAsync(a,o,e,n)];case 1:return[4,(i=f.sent()).array()];case 2:return l=f.sent(),d=t.filter(function(c,h){return l.indexOf(h)>-1}),Hr([a,o,i]),[2,d]}})})}function Bee(t,e,n){return Hi(this,void 0,void 0,function(){var r,a,o,i,l;return Wi(this,function(d){switch(d.label){case 0:return r=t[0],a=t[1],o=function(f,c,h){return dn(function(){var g,v,b,w;h.reverseOutputOrder?(v=da(Jt(f,[0,h.boxCoordOffset+0],[-1,1])),g=da(Jt(f,[0,h.boxCoordOffset+1],[-1,1])),w=da(Jt(f,[0,h.boxCoordOffset+2],[-1,1])),b=da(Jt(f,[0,h.boxCoordOffset+3],[-1,1]))):(g=da(Jt(f,[0,h.boxCoordOffset+0],[-1,1])),v=da(Jt(f,[0,h.boxCoordOffset+1],[-1,1])),b=da(Jt(f,[0,h.boxCoordOffset+2],[-1,1])),w=da(Jt(f,[0,h.boxCoordOffset+3],[-1,1]))),v=It(Ke(fn(v,h.xScale),c.w),c.x),g=It(Ke(fn(g,h.yScale),c.h),c.y),h.applyExponentialOnBoxSize?(b=Ke(Li(fn(b,h.hScale)),c.h),w=Ke(Li(fn(w,h.wScale)),c.w)):(b=Ke(fn(b,h.hScale),c.h),w=Ke(fn(w,h.wScale),c.h));var x=en(g,fn(b,2)),E=en(v,fn(w,2)),T=It(g,fn(b,2)),C=It(v,fn(w,2)),I=la([Ae(x,[h.numBoxes,1]),Ae(E,[h.numBoxes,1]),Ae(T,[h.numBoxes,1]),Ae(C,[h.numBoxes,1])],1);if(h.numKeypoints)for(var D=0;D<h.numKeypoints;++D){var F=h.keypointCoordOffset+D*h.numValuesPerKeypoint,B=void 0,H=void 0;h.reverseOutputOrder?(B=da(Jt(f,[0,F],[-1,1])),H=da(Jt(f,[0,F+1],[-1,1]))):(H=da(Jt(f,[0,F],[-1,1])),B=da(Jt(f,[0,F+1],[-1,1])));var z=It(Ke(fn(B,h.xScale),c.w),c.x),U=It(Ke(fn(H,h.yScale),c.h),c.y);I=la([I,Ae(z,[h.numBoxes,1]),Ae(U,[h.numBoxes,1])],1)}return I})}(a,e,n),i=dn(function(){var f=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(f=BA(r,-n.scoreClippingThresh,n.scoreClippingThresh)),f=$l(f)):f}),[4,zee(o,i,n)];case 1:return l=d.sent(),Hr([o,i]),[2,l]}})})}function zee(t,e,n){return Hi(this,void 0,void 0,function(){var r,a,o,i,l,d,f,c,h,g,v,b;return Wi(this,function(w){switch(w.label){case 0:return r=[],[4,t.data()];case 1:return a=w.sent(),[4,e.data()];case 2:for(o=w.sent(),i=0;i<n.numBoxes;++i)if(!(n.minScoreThresh!=null&&o[i]<n.minScoreThresh||(l=i*n.numCoords,d=Uee(a[l+0],a[l+1],a[l+2],a[l+3],o[i],n.flipVertically,i),(f=d.locationData.relativeBoundingBox).width<0||f.height<0))){if(n.numKeypoints>0)for((c=d.locationData).relativeKeypoints=[],h=n.numKeypoints*n.numValuesPerKeypoint,g=0;g<h;g+=n.numValuesPerKeypoint)v=l+n.keypointCoordOffset+g,b={x:a[v+0],y:n.flipVertically?1-a[v+1]:a[v+1]},c.relativeKeypoints.push(b);r.push(d)}return[2,r]}})})}function Uee(t,e,n,r,a,o,i){return{score:[a],ind:i,locationData:{relativeBoundingBox:{xMin:e,yMin:o?1-n:t,xMax:r,yMax:o?1-t:n,width:r-e,height:n-t}}}}var Vee={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},jee={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},q_={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Hee={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Wee={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},qee=.3,Gee={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Kee={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},qy,Yee=function(){function t(e,n,r){this.detectorModel=n,this.maxFaces=r,e==="full"?(this.imageToTensorConfig=Kee,this.tensorsToDetectionConfig=Wee,this.anchors=ND(jee)):(this.imageToTensorConfig=Gee,this.tensorsToDetectionConfig=Hee,this.anchors=ND(Vee));var a=Ea(this.anchors.map(function(d){return d.width})),o=Ea(this.anchors.map(function(d){return d.height})),i=Ea(this.anchors.map(function(d){return d.xCenter})),l=Ea(this.anchors.map(function(d){return d.yCenter}));this.anchorTensor={x:i,y:l,w:a,h:o}}return t.prototype.dispose=function(){this.detectorModel.dispose(),Hr([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),Hi(this,void 0,void 0,function(){var r,a,o,i,l,d,f,c,h,g,v;return Wi(this,function(b){switch(b.label){case 0:return e==null?(this.reset(),[2,[]]):(r=dn(function(){var w=yr(AD(e),"float32");return n&&(w=da(Py.flipLeftRight(oi(w,0)),[0])),w}),a=Fee(r,this.imageToTensorConfig),o=a.imageTensor,i=a.transformationMatrix,l=this.detectorModel.execute(o,"Identity:0"),d=Pee(l),f=d.boxes,[4,Bee([c=d.logits,f],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(h=b.sent()).length===0?(Hr([r,o,l,c,f]),[2,h]):[4,Lee(h,this.maxFaces,qee)];case 2:return g=b.sent(),v=function(w,x){w===void 0&&(w=[]);var E,T=(E=x,[].concat.apply([],E));return w.forEach(function(C){var I=C.locationData;I.relativeKeypoints.forEach(function(U){var O=OD(T,[U.x,U.y]),K=O[0],G=O[1];U.x=K,U.y=G});var D=I.relativeBoundingBox,F=Number.MAX_VALUE,B=Number.MAX_VALUE,H=Number.MIN_VALUE,z=Number.MIN_VALUE;[[D.xMin,D.yMin],[D.xMin+D.width,D.yMin],[D.xMin+D.width,D.yMin+D.height],[D.xMin,D.yMin+D.height]].forEach(function(U){var O=OD(T,U),K=O[0],G=O[1];F=Math.min(F,K),H=Math.max(H,K),B=Math.min(B,G),z=Math.max(z,G)}),I.relativeBoundingBox={xMin:F,xMax:H,yMin:B,yMax:z,width:H-F,height:z-B}}),w}(g,i),Hr([r,o,l,c,f]),[2,v]}})})},t.prototype.estimateFaces=function(e,n){return Hi(this,void 0,void 0,function(){var r,a;return Wi(this,function(o){return r=RD(e),a=!!n&&n.flipHorizontal,[2,this.detectFaces(e,a).then(function(i){return i.map(function(l){for(var d=l.locationData.relativeKeypoints.map(function(b,w){return Pu(Pu({},b),{x:b.x*r.width,y:b.y*r.height,name:ID[w]})}),f=l.locationData.relativeBoundingBox,c=0,h=["width","xMax","xMin"];c<h.length;c++)f[h[c]]*=r.width;for(var g=0,v=["height","yMax","yMin"];g<v.length;g++)f[v[g]]*=r.height;return{keypoints:d,box:f}})})]})})},t}();function Xee(t){return Hi(this,void 0,void 0,function(){var e,n,r;return Wi(this,function(a){switch(a.label){case 0:return e=function(o){if(o==null)return Pu({},q_);var i=Pu({},o);return i.modelType==null&&(i.modelType=q_.modelType),i.maxFaces==null&&(i.maxFaces=q_.maxFaces),i.detectorModelUrl==null&&(i.modelType==="full"?i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),i}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,Aee(e.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new Yee(e.modelType,r,e.maxFaces)]}})})}function Qee(t,e){return Hi(this,void 0,void 0,function(){var n,r;return Wi(this,function(a){if(t===qy.MediaPipeFaceDetector){if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,Xee(n)];if(n.runtime==="mediapipe")return[2,Oee(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(t," is not a supported model name."))})})}(function(t){t.MediaPipeFaceDetector="MediaPipeFaceDetector"})(qy||(qy={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Tn;(function(t){t[t.float32=0]="float32",t[t.int32=1]="int32",t[t.bool=2]="bool",t[t.string=3]="string",t[t.complex64=4]="complex64"})(Tn||(Tn={}));var Cp;(function(t){t[t.linear=0]="linear",t[t.relu=1]="relu",t[t.relu6=2]="relu6",t[t.prelu=3]="prelu",t[t.leakyrelu=4]="leakyrelu",t[t.sigmoid=5]="sigmoid",t[t.elu=6]="elu"})(Cp||(Cp={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MD;function Zee(t){MD=t.wasm.cwrap(rp,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])}function Jee(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o,bias:i,preluActivationWeights:l}=e;if(a.dtype!=="float32"||o.dtype!=="float32")throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:d,transposeB:f,activation:c,leakyreluAlpha:h}=r,g=n.dataIdMap.get(a.dataId).id,v=n.dataIdMap.get(o.dataId).id;let b=0;if(i!=null){const H=n.dataIdMap.get(i.dataId);if(H.shape.length!==1)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${H.shape.length}.`);b=H.id}const w=l==null?0:n.dataIdMap.get(l.dataId).id,x=Cp[c];if(x==null)throw new Error(`${c} activation not yet supported for FusedConv2D in the wasm backend.`);const E=d?a.shape[2]:a.shape[1],T=f?o.shape[1]:o.shape[2],C=nr(a.shape.slice(0,-2),o.shape.slice(0,-2)),I=n.makeOutput([...C,E,T],a.dtype),D=n.dataIdMap.get(I.dataId).id,F=new Uint8Array(new Int32Array(a.shape).buffer),B=new Uint8Array(new Int32Array(o.shape).buffer);return MD(g,F,a.shape.length,v,B,o.shape.length,d,f,x,b,w,h||0,D),I}const ete={kernelName:rp,backendName:"wasm",setupFunc:Zee,kernelFunc:Jee};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bn(t,e){let n;function r(o){n=o.wasm.cwrap(t,null,["number","number","number"])}function a(o){const{backend:i,inputs:{x:l}}=o,d=i.dataIdMap.get(l.dataId).id,f=i.makeOutput(l.shape,e||l.dtype),c=i.dataIdMap.get(f.dataId).id;return Ce(f.shape)===0||n(d,Tn[l.dtype],c),f}return{kernelName:t,backendName:"wasm",setupFunc:r,kernelFunc:a}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tte=bn(rw);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nte=bn(lg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rte=bn(cg);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Br(t,e,n){let r;function a(i){r=i.wasm.cwrap(t,null,["number","array","number","number","array","number","number","number"])}function o(i){const{backend:l,inputs:d}=i,{a:f,b:c}=d,h=l.dataIdMap.get(f.dataId).id,g=l.dataIdMap.get(c.dataId).id,v=n??f.dtype,b=nr(f.shape,c.shape),w=l.makeOutput(b,v);if(Ce(b)===0)return w;const x=new Uint8Array(new Int32Array(f.shape).buffer),E=new Uint8Array(new Int32Array(c.shape).buffer),T=l.dataIdMap.get(w.dataId).id;return r(h,x,f.shape.length,g,E,c.shape.length,Tn[f.dtype],T),w}return{kernelName:t,backendName:"wasm",setupFunc:a,kernelFunc:o}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ate=Br(Jf);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let $D;function ote(t){$D=t.wasm.cwrap(dg,null,["array","number","number","number"])}function ste(t){const{inputs:e,backend:n}=t,r=n.makeOutput(e[0].shape,e[0].dtype);if(Ce(r.shape)===0)return r;const a=e.map(l=>n.dataIdMap.get(l.dataId).id),o=new Uint8Array(new Int32Array(a).buffer),i=n.dataIdMap.get(r.dataId).id;return $D(o,a.length,Tn[r.dtype],i),r}const ite={kernelName:dg,backendName:"wasm",setupFunc:ote,kernelFunc:ste};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gy(t){const{inputs:{x:e},backend:n}=t;if(e.dtype==="string")return Ts(n.readSync(e.dataId),e.shape,e.dtype);const r=n.makeOutput(e.shape,e.dtype),a=n.typedArrayFromHeap(e);return n.typedArrayFromHeap(r).set(a),r}const ute={kernelName:Zg,backendName:"wasm",kernelFunc:Gy};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FD;function lte(t){FD=t.wasm.cwrap(jc,null,["number","array","number","number","number","array","number"])}function Lu(t){const{inputs:e,backend:n,attrs:r}=t,[a,o]=dte(e.x.shape,r.perm);let i=!0;for(let b=0;b<o.length;b++)o[b]!==b&&(i=!1);const l=cte(e.x.shape,r.perm),d={dataId:e.x.dataId,shape:a,dtype:e.x.dtype};if(i){const b=Gy({inputs:e,backend:n});return b.shape=l,b}const f=n.makeOutput(l,d.dtype),c=n.dataIdMap.get(d.dataId).id,h=n.dataIdMap.get(f.dataId).id,g=new Uint8Array(new Int32Array(o).buffer),v=new Uint8Array(new Int32Array(d.shape).buffer);return FD(c,v,d.shape.length,Tn[d.dtype],h,g,o.length),f}function cte(t,e){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t[e[r]];return n}function dte(t,e){const n=[],r=[];for(let a=0;a<t.length;++a)t[a]!==1&&n.push(t[a]),t[e[a]]!==1&&r.push(e[a]);for(let a=0;a<r.length;++a){let o=-1;for(let i=0;i<r.length;++i)r[i]>=a&&(o===-1||r[o]>r[i])&&(o=i);r[o]=a}return[n,r]}const fte={kernelName:jc,backendName:"wasm",kernelFunc:Lu,setupFunc:lte};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bu(t,e,n){const r=t.shape,a=t.shape.length,o=gr(e,r);let i=o;const l=Fo(i,a);let d=null,f=!1;if(l!=null){const c=new Array(a);for(let v=0;v<c.length;v++)c[v]=r[l[v]];i=Ua(i.length,a),d=Lu({inputs:{x:t},attrs:{perm:l},backend:n});const h=n.dataIdMap.get(t.dataId).id;n.dataIdMap.get(d.dataId).id!==h&&(f=!0)}return{transposed:d,originalAxes:o,axes:i,inputWasTransposed:f}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PD;function pte(t){PD=t.wasm.cwrap(fg,null,["number, number, number"])}function hte(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n;let d=e.dataIdMap.get(i.dataId).id,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);if(v){const C=e.dataIdMap.get(c.dataId).id;f=c,d=C}const b=f.shape.length;za("all",h,b);const[w,x]=Ba(f.shape,h),E=Ce(x),T=e.makeOutput(w,i.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;PD(d,E,C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const mte={kernelName:fg,backendName:"wasm",setupFunc:pte,kernelFunc:hte};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LD;function gte(t){LD=t.wasm.cwrap(pg,null,["number, number, number"])}function vte(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n;let d=e.dataIdMap.get(i.dataId).id,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);if(v){const C=e.dataIdMap.get(c.dataId).id;f=c,d=C}const b=f.shape.length;za("any",h,b);const[w,x]=Ba(f.shape,h),E=Ce(x),T=e.makeOutput(w,i.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;LD(d,E,C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const yte={kernelName:pg,backendName:"wasm",setupFunc:gte,kernelFunc:vte};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BD(t){let e;function n(a){e=a.wasm.cwrap(t,null,["number","number","number","number","number"])}function r(a){const{backend:o,inputs:i,attrs:l}=a,{axis:d}=l,{x:f}=i,c=o.dataIdMap.get(f.dataId).id;let h=c,g=f;const{transposed:v,axes:b,inputWasTransposed:w}=Bu(f,d,o);if(w){const D=o.dataIdMap.get(v.dataId).id;D!==c&&(g=v,h=D)}const x=g.shape.slice(0,-1),E=o.makeOutput(x,"int32"),T=o.dataIdMap.get(E.dataId).id,C=Ce(E.shape),I=g.shape[b[0]];return e(h,Tn[g.dtype],C,I,T),w&&o.disposeData(v.dataId),E}return{kernelName:t,backendName:"wasm",setupFunc:n,kernelFunc:r}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bte=BD(aw);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ste=BD(ow);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wte=bn(hg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _te=bn(mg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xte=bn(gg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ete=Br(yg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cte=bn(vg);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zD;function Tte(t){zD=t.wasm.cwrap(bg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function kte(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=n,c=Is(a.shape,i,l,1,d,f),h=c.filterHeight,g=c.filterWidth,v=c.padInfo.top,b=c.padInfo.right,w=c.padInfo.bottom,x=c.padInfo.left,E=c.strideHeight,T=c.strideWidth,C=c.inChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(c.dilationWidth!==1||c.dilationHeight!==1)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);const I=r.makeOutput(c.outShape,"float32"),D=r.dataIdMap.get(I.dataId).id;return zD(o,a.shape[0],a.shape[1],a.shape[2],h,g,v,b,w,x,E,T,C,D),I}const Ite={kernelName:bg,backendName:"wasm",setupFunc:Tte,kernelFunc:kte};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UD;function Rte(t){UD=t.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Ate(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:d,dataFormat:f}=r,c=Mu(a.shape,o,i,1,l,d,f),h=n.makeOutput(c.outShape,a.dtype);return UD(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),h}const Nte={kernelName:sw,backendName:"wasm",setupFunc:Rte,kernelFunc:Ate};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let VD;function Dte(t){VD=t.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Ote(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=r,c=Mu(o.shape,i,l,1,d,f),h=n.makeOutput(o.shape,o.dtype);return VD(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),h}const Mte={kernelName:AR,backendName:"wasm",setupFunc:Dte,kernelFunc:Ote};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let jD;function $te(t){jD=t.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Fte(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d}=r,f=Is(o.shape,i,l,1,d),c=n.makeOutput(o.shape,o.dtype);return jD(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,f.batchSize,f.inChannels,f.inHeight,f.inWidth,f.outHeight,f.outWidth,f.strideHeight,f.strideWidth,f.dilationHeight,f.dilationWidth,f.effectiveFilterHeight,f.effectiveFilterWidth,f.padInfo.top,f.padInfo.left,f.filterHeight,f.filterWidth),c}const Pte={kernelName:RR,backendName:"wasm",setupFunc:$te,kernelFunc:Fte};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function no(t){const{inputs:e,attrs:n}=t,{x:r}=e,{shape:a}=n,o=Ce(r.shape),i=xR(a,o);return W(o===Ce(i),()=>`new shape: ${i}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`),t.backend.incRef(r.dataId),{dataId:r.dataId,shape:i,dtype:r.dtype}}const Lte={kernelName:Ew,backendName:"wasm",kernelFunc:no};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let HD;function Bte(t){HD=t.wasm.cwrap(Sg,null,["number","array","number","number","array","number","number","number","number"])}function zte(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o}=e,{transposeA:i,transposeB:l}=r;if(a.dtype!=="float32"||o.dtype!=="float32")throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const d=a.shape.length,f=o.shape.length,c=i?a.shape[d-2]:a.shape[d-1],h=l?o.shape[f-1]:o.shape[f-2],g=i?a.shape[d-1]:a.shape[d-2],v=l?o.shape[f-2]:o.shape[f-1],b=a.shape.slice(0,-2),w=o.shape.slice(0,-2),x=Ce(b),E=Ce(w),C=nr(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([g,v]);W(c===h,()=>`Error in matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${i} and transposeB=${l} must match.`);const I=i?[x,c,g]:[x,g,c],D=l?[E,v,h]:[E,h,v],F=no({inputs:{x:a},backend:n,attrs:{shape:I}}),B=no({inputs:{x:o},backend:n,attrs:{shape:D}}),H=n.dataIdMap.get(F.dataId).id,z=n.dataIdMap.get(B.dataId).id,U=i?F.shape[2]:F.shape[1],O=l?B.shape[1]:B.shape[2],K=Math.max(x,E),G=n.makeOutput([K,U,O],F.dtype),Z=n.dataIdMap.get(G.dataId).id,J=new Uint8Array(new Int32Array(F.shape).buffer),se=new Uint8Array(new Int32Array(B.shape).buffer);return HD(H,J,F.shape.length,z,se,B.shape.length,i,l,Z),n.disposeData(F.dataId),n.disposeData(B.dataId),G.shape=C,G}const Ute={kernelName:Sg,backendName:"wasm",setupFunc:Bte,kernelFunc:zte};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&W(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vte(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const jte={kernelName:rw,backendName:"cpu",kernelFunc:t=>{const{x:e}=t.inputs,n=t.backend;mt(e,"abs");let r=new Float32Array(Ce(e.shape));const a=n.data.get(e.dataId).values;return r=Vte(a),n.makeOutput(r,e.shape,e.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ir(t){return(e,n,r,a,o)=>{const i=nr(e,n),l=i.length,d=yt(i),f=Ce(i),c=Fa(o,f),h=e.length,g=n.length,v=yt(e),b=yt(n),w=yy(e,i),x=yy(n,i);if(w.length+x.length===0)for(let E=0;E<c.length;++E)c[E]=t(r[E%r.length],a[E%a.length]);else for(let E=0;E<c.length;++E){const T=Vc(E,l,d),C=T.slice(-h);w.forEach(B=>C[B]=0);const I=ri(C,h,v),D=T.slice(-g);x.forEach(B=>D[B]=0);const F=ri(D,g,b);c[E]=t(r[I],a[F])}return[c,i]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _o(t){const{inputs:e,backend:n}=t,{real:r,imag:a}=e,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.makeTensorInfo(r.shape,"complex64"),d=n.data.get(l.dataId);return d.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",i)},l}const Hte={kernelName:NR,backendName:"cpu",kernelFunc:_o};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ky(t,e,n="float32"){if(n==="complex64"){const a=Ky(t,e,"float32"),o=Ky(t,e,"float32");return _o({inputs:{real:a,imag:o},backend:t})}const r=xa(Ce(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ui(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Wte={kernelName:Zg,backendName:"cpu",kernelFunc:ui};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ql(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const qte={kernelName:WR,backendName:"cpu",kernelFunc:ql};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gte(t,e,n,r){if(r==="int32"){const a=Int32Array.from(t);return[e,"int32",a]}if(r==="bool"){const a=Rl([0],n),[o,i]=Ir((l,d)=>l!==d?1:0)(e,[],t,a,"bool");return[i,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function zu(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dtype:o}=r;if(o==="complex64"){if(a.dtype==="complex64")return ui({inputs:{x:a},backend:n});const c=Ky(n,a.shape,a.dtype),h=zu({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),g=_o({inputs:{real:h,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),g}if(a.dtype==="complex64"){const c=ql({inputs:{input:a},backend:n}),h=zu({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),h}if(!XV(a.dtype,o)){const c=ui({inputs:{x:a},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:o}}const i=n.data.get(a.dataId).values,[l,d,f]=Gte(i,a.shape,a.dtype,o);return n.makeTensorInfo(l,d,f)}const Kte={kernelName:xg,backendName:"cpu",kernelFunc:zu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wr(t,e,n,r){return n==null?({inputs:a,backend:o})=>{const{a:i,b:l}=a,d=o;mt([i,l],t);const f=d.data.get(i.dataId).values,c=d.data.get(l.dataId).values,h=i.dtype==="string"?xp(f):f,g=i.dtype==="string"?xp(c):c,v=r||i.dtype,[b,w]=e(i.shape,l.shape,h,g,v);return d.makeTensorInfo(w,v,b)}:({inputs:a,backend:o})=>{const{a:i,b:l}=a,d=o;if(i.dtype==="complex64"||l.dtype==="complex64"){const f=zu({inputs:{x:i},backend:d,attrs:{dtype:"complex64"}}),c=d.data.get(f.dataId),h=c.complexTensorInfos.real,g=c.complexTensorInfos.imag,v=d.data.get(h.dataId).values,b=d.data.get(g.dataId).values,w=zu({inputs:{x:l},backend:d,attrs:{dtype:"complex64"}}),x=d.data.get(w.dataId),E=x.complexTensorInfos.real,T=x.complexTensorInfos.imag,C=d.data.get(E.dataId).values,I=d.data.get(T.dataId).values,[D,F,B]=n(i.shape,l.shape,v,b,C,I),H=d.makeTensorInfo(B,"float32",D),z=d.makeTensorInfo(B,"float32",F),U=_o({inputs:{real:H,imag:z},backend:d});return d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(w),d.disposeIntermediateTensorInfo(H),d.disposeIntermediateTensorInfo(z),U}else{const f=d.data.get(i.dataId).values,c=d.data.get(l.dataId).values,h=r||i.dtype,[g,v]=e(i.shape,l.shape,f,c,h);return d.makeTensorInfo(v,h,g)}}}function G_(t){return(e,n,r,a,o,i)=>{const l=nr(e,n),d=Ce(l),f=l.length,c=yt(l),h=Fa("float32",d),g=Fa("float32",d),v=yy(e,l),b=yy(n,l),w=od(r,a),x=od(o,i),E=e.length,T=yt(e),C=n.length,I=yt(n);if(v.length+b.length===0)for(let D=0;D<h.length;D++){const F=D%w.length,B=D%x.length,H=t(w[F*2],w[F*2+1],x[B*2],x[B*2+1]);h[D]=H.real,g[D]=H.imag}else for(let D=0;D<h.length;D++){const F=Vc(D,f,c),B=F.slice(-E);v.forEach(K=>B[K]=0);const H=ri(B,E,T),z=F.slice(-C);b.forEach(K=>z[K]=0);const U=ri(z,C,I),O=t(w[H*2],w[H*2+1],x[U*2],x[U*2+1]);h[D]=O.real,g[D]=O.imag}return[h,g,l]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yte=Ir((t,e)=>t+e),Xte=G_((t,e,n,r)=>({real:t+n,imag:e+r})),sd=Wr(Jf,Yte,Xte),Qte={kernelName:Jf,backendName:"cpu",kernelFunc:sd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WD(t,e,n,r,a){const o=Ce(r),i=xa(a,n);for(let l=0;l<t.length;l++){const d=t[l];if(d<0)throw new Error("Input x must be non-negative!");d>=a||(o>0?i[d]+=e[l]:i[d]+=1)}return i}function Zte(t,e,n,r=!1){const a=t.shape[0],o=t.shape[1],i=cn([a,n],e.dtype);for(let l=0;l<a;l++)for(let d=0;d<o;d++){const f=t.get(l,d);if(f<0)throw new Error("Input x must be non-negative!");f>=n||(r?i.set(1,l,f):e.size>0?i.set(i.get(l,f)+e.get(l,d),l,f):i.set(i.get(l,f)+1,l,f))}return i}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jte=Ir((t,e)=>t&e),ene=Wr(_g,Jte),tne={kernelName:_g,backendName:"cpu",kernelFunc:ene};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uu(t){return(e,n,r)=>{const a=Pr(n,e.length);for(let o=0;o<e.length;++o)a[o]=t(e[o],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jn(t,e,n){const r=Uu(e);return Vu(t,r,n)}function Vu(t,e,n){return({inputs:r,attrs:a,backend:o})=>{const{x:i}=r;mt(i,t);const l=o,d=l.data.get(i.dataId).values;let f;if(i.dtype==="string"){if(!Array.isArray(d))throw new Error("String tensor's value was not an instance of Array");f=xp(d)}else f=d;const c=n||i.dtype,h=e(f,c,a);return l.makeTensorInfo(i.shape,c,h)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nne=Uu(t=>Math.ceil(t)),rne=Vu(Eg,nne),ane={kernelName:Eg,backendName:"cpu",kernelFunc:rne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qD(t,e,n,r){const a=Pr(n,Ce(e));if(r&&n!=="string"){let o=0;t.forEach(i=>{const l=Ce(i.shape);a.set(i.vals,o),o+=l})}else{let o=0;t.forEach(i=>{const l=n==="string"?xp(i.vals):i.vals;let d=0;for(let f=0;f<i.shape[0];++f){const c=f*e[1]+o;for(let h=0;h<i.shape[1];++h)a[c+h]=l[d++]}o+=i.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const one=Ir((t,e)=>t===e?1:0),GD=Wr(Vg,one,null,"bool"),sne={kernelName:Vg,backendName:"cpu",kernelFunc:GD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ine=Uu(t=>Math.exp(t)),KD=Vu(jg,ine,"float32"),une={kernelName:jg,backendName:"cpu",kernelFunc:KD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lne=Uu(t=>Math.expm1(t)),cne=Vu(Hg,lne),dne={kernelName:Hg,backendName:"cpu",kernelFunc:cne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fne=Uu(t=>Math.floor(t)),pne=Vu(qg,fne),hne={kernelName:qg,backendName:"cpu",kernelFunc:pne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mne=Ir((t,e)=>Math.floor(t/e)),gne=Wr(Gg,mne,null,"int32"),vne={kernelName:Gg,backendName:"cpu",kernelFunc:gne};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yne(t,e,n,r,a,o,i,l,d){const f=cn([r,o],n);for(let c=0;c<r;c++){const h=[];let g=0;for(let v=0;v<a;v++){const b=t[c*a+v];g+=b*i[v],h.push(b)}if(g<0||g>=d/o)throw new Error(`Invalid indices: ${h} does not index into ${l}`);for(let v=0;v<o;v++)f.values[c*o+v]=e.get(...e.indexToLoc(g*o+v))}return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bne(t,e,n){const r=cn(n,t.dtype);for(let a=0;a<r.size;++a){const i=r.indexToLoc(a).slice(),l=i[0],d=i[2],f=e.locToIndex([l,d]);i[2]=e.values[f];const c=t.locToIndex(i);0<=c&&c<t.values.length&&(r.values[a]=t.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sne=Ir((t,e)=>t>e?1:0),wne=Wr(Xg,Sne,null,"bool"),_ne={kernelName:Xg,backendName:"cpu",kernelFunc:wne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xne=Ir((t,e)=>t>=e?1:0),Ene=Wr(Qg,xne,null,"bool"),Cne={kernelName:Qg,backendName:"cpu",kernelFunc:Ene};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tne=Ir((t,e)=>t<e?1:0),kne=Wr(rv,Tne,null,"bool"),Ine={kernelName:rv,backendName:"cpu",kernelFunc:kne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rne=Ir((t,e)=>t<=e?1:0),Ane=Wr(av,Rne,null,"bool"),Nne={kernelName:av,backendName:"cpu",kernelFunc:Ane};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dne(t,e,n){const r=(e-t)/(n-1),a=xa(n,"float32");a[0]=t;for(let o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const One=Uu(t=>Math.log(t)),Mne=Vu(sv,One),$ne={kernelName:sv,backendName:"cpu",kernelFunc:Mne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fne(t,e,n,r){const a=Fa(r,Ce(n));for(let o=0;o<a.length;++o){const i=o*e;let l=t[i];for(let d=0;d<e;++d){const f=t[i+d];(Number.isNaN(f)||f>l)&&(l=f)}a[o]=l}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pne=Ir((t,e)=>Math.max(t,e)),Lne=Wr(pv,Pne),Bne={kernelName:pv,backendName:"cpu",kernelFunc:Lne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zne=Ir((t,e)=>Math.min(t,e)),Une=Wr(vv,zne),Vne={kernelName:vv,backendName:"cpu",kernelFunc:Une};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YD=Ir((t,e)=>t*e),jne=G_((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),Yy=Wr(wv,YD,jne),Hne={kernelName:wv,backendName:"cpu",kernelFunc:Yy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wne(t,e,n){const r=Hw(-1,n);return YD([],e,r,t,n)}function qne(t){const{inputs:e,backend:n}=t,{x:r}=e;mt(r,"neg");const a=n.data.get(r.dataId).values,[o,i]=Wne(a,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,o)}const Gne={kernelName:Sw,backendName:"cpu",kernelFunc:qne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kne=Ir((t,e)=>t!==e?1:0),Yne=Wr(_v,Kne,null,"bool"),Xne={kernelName:_v,backendName:"cpu",kernelFunc:Yne};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XD(t,e,n,r,a){const o=e.length,i=Ce(e),l=yt(e),d=yt(a),f=Fa(n,Ce(a));for(let c=0;c<i;++c){const h=Vc(c,o,l),g=new Array(h.length);for(let b=0;b<g.length;b++)g[b]=h[r[b]];const v=ri(g,o,d);f[v]=t[c]}return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ro(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{perm:o}=n;mt(a,"transpose");const i=a.shape.length,l=new Array(i);for(let h=0;h<l.length;h++)l[h]=a.shape[o[h]];const d=r.data.get(a.dataId).values,f=XD(d,a.shape,a.dtype,o,l);return{dataId:r.write(f,l,a.dtype),shape:l,dtype:a.dtype}}const Qne={kernelName:jc,backendName:"cpu",kernelFunc:ro};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zne(t,e,n,r){const[a,o]=Ba(t,r),i=Wc(e,"int32"),l=xa(Ce(a),i),d=Ce(o);for(let f=0;f<l.length;++f){const c=f*d;let h=1;for(let g=0;g<d;++g)h*=n[c+g];l[f]=h}return{outVals:l,outShape:a,outDtype:i}}function Jne(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r;mt(a,"prod");const l=a.shape.length,d=gr(o,a.shape),f=Fo(d,l);let c=d,h=a;const g=[];f!=null&&(h=ro({inputs:{x:a},backend:n,attrs:{perm:f}}),g.push(h),c=Ua(c.length,l));const v=n.data.get(h.dataId).values,{outVals:b,outShape:w,outDtype:x}=Zne(h.shape,h.dtype,v,c);let E=w;return i&&(E=ca(w,d)),g.forEach(T=>n.disposeIntermediateTensorInfo(T)),n.makeTensorInfo(E,x,b)}const ere={kernelName:Av,backendName:"cpu",kernelFunc:Jne};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tre(t,e,n){t.forEach((r,a)=>{if(r<0||r>=n){const o=Vc(a,e.length,yt(e)).join(",");throw new Error(`indices[${o}] = ${r} is not in [0, ${n})`)}})}function nre(t,e){for(let n=0;n<t.length;++n){const r=t[n],a=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let o=1;o<r.length;++o)if(r[o-1]>r[o])throw new Error("Ragged splits must be sorted in ascending order")}}function rre(t,e,n,r){const a=[];let o=0;const i=e.length-1+n.length,l=new Array(i).fill(null).map(()=>[0]);nre(n,r);let d=1;for(let f=0;f<e.length-1;++f){d*=e[f];const c=e[f+1];for(let h=1;h<d+1;++h)l[f].push(h*c)}for(let f=0;f<t.length;++f){let c=t[f],h=t[f]+1;for(let g=0;g<n.length;++g){const v=n[g],b=g+e.length-1;if(b>=0){const w=l[b],x=w[w.length-1]-v[c];for(let E=c;E<h;++E)l[b].push(v[E+1]+x)}c=v[c],h=v[h]}h!==c&&(a.push([c,h]),o+=h-c)}return{outSplits:l,valueSlices:a,numValues:o}}function are(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,a=Pr("int32",r);e.push(a),t[n].forEach((o,i)=>a[i]=o)}return e}function QD(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function ore(t,e,n,r,a,o){const i=QD(e,2)[1],l=QD(o,2)[1];let d=0;for(const f of n)for(let c=f[0];c<f[1];++c){for(let h=0;h<r;++h)a[d*l+h]=t[c*i+h];++d}}function sre(t,e,n,r,a){const o=e.slice();o[0]=a;const i=Pr(n,Ce(o)),l=t.length,d=l===0?0:l/e[0];return ore(t,e,r,d,i,o),[i,o]}function ire(t,e,n,r,a,o,i,l){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const d=e[0][0]-1;if(tre(o,i,d),r.length===0)throw new Error("params.rank must be nonzero");const f=r[0],{outSplits:c,valueSlices:h,numValues:g}=rre(o,i,t,f),v=are(c),b=sre(n,r,a,h,g);return[v,b[0],b[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZD=2147483647;function ure(t,e,n,r,a,o,i){if(e.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const l=e.length===0,d=a.length===0,f=i.length===0,c=[];l||c.push(e[0]),d||c.push(a[0]),f||c.push(i[0]);for(let x=1;x<c.length;++x)if(c[x]!==c[x-1])throw new Error("starts, limits, and deltas must have the same shape");const h=c.length===0?1:c[0],g=Pr("int32",h+1);g[0]=0;for(let x=0;x<h;++x){const E=l?t[0]:t[x],T=d?r[0]:r[x],C=f?o[0]:o[x];if(C===0)throw new Error("Requires delta != 0");let I;if(C>0&&T<E||C<0&&T>E)I=0;else if(I=Math.ceil(Math.abs((T-E)/C)),I>ZD)throw new Error(`Requires ((limit - start) / delta) <= ${ZD}`);g[x+1]=g[x]+I}const v=g[h],b=Pr(n,v);let w=0;for(let x=0;x<h;++x){const E=g[x+1]-g[x];let T=l?t[0]:t[x];const C=f?o[0]:o[x];for(let I=0;I<E;++I)b[w++]=T,T+=C}return[g,b]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var is=ii;class Xy{constructor(e,n,r,a,o,i,l,d,f,c){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=l,this.rowPartitionValues=d,this.rowPartitionValuesShapes=f,this.rowPartitionTypes=QZ(c),this.raggedRank=ZZ(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===is.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===is.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case is.VALUE_ROWIDS:return Xy.getMaxWidthValueRowID(n);case is.ROW_SPLITS:return Xy.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${is[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const o=e[a+1]-e[a];o>r&&(r=o)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,a=e[0],o=0;for(let i=1;i<n;++i){const l=e[i];l!==a&&(a=l,o=Math.max(i-r,o),r=i)}return Math.max(n-r,o)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return eO(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;JZ(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=XZ(this.raggedRank,a,n);i[0]<0&&(i[0]=e);for(let l=1;l<=this.raggedRank;++l)i[l]<0&&(i[l]=this.getMaxWidth(l));return i}calculateFirstParentOutputIndex(e,n,r){const a=Math.min(e,r),o=[];let i=0;for(let l=0;l<a;++l,i+=n)o.push(i);for(let l=a;l<e;++l)o.push(-1);return W(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,r,a){const o=e.length,i=[];for(let l=0;l<o-1;++l){const d=e[l+1]-e[l];let f=Math.min(a,d),c=n[l];c===-1&&(f=0);for(let h=0;h<f;++h)i.push(c),c+=r;for(let h=0;h<d-f;++h)i.push(-1)}if(o>0&&i.length!==e[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,n,r,a){const o=e.length,i=[];if(o===0)return[];let l=0,d=e[0];if(d>=n.length)throw new Error(`Got currentValueRowId=${d}, which is not less than ${n.length}`);let f=n[d];i.push(f);for(let c=1;c<o;++c){const h=e[c];if(h===d)f>=0&&(++l,l<a?f+=r:f=-1);else{if(l=0,d=h,h>=n.length)throw new Error(`Got nextValueRowId=${h} which is not less than ${n.length}`);f=n[h]}i.push(f)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,n,r,a){const o=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case is.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,r,a);case is.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,r,a);default:throw new Error(`Unsupported partition type: ${is[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case is.FIRST_DIM_SIZE:return e[0];case is.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case is.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${is[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let d=a.length-2;d>=0;--d)a[d]=a[d+1]*r[d+1];const o=eO(r,!1),i=Pr(this.valuesDType,Ce(o));if(a[0]*r[0]>0){let d=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let f=1;f<=this.raggedRank;++f)d=this.calculateOutputIndex(f-1,d,a[f],r[f]);this.setOutput(this.raggedRank,d,i,o)}return[o,i]}setOutput(e,n,r,a){if(r.length===0)return;const o=this.values,i=r;let l=a.slice();l=l.slice(e+1);const d=Ce(l),f=n.length;let c=this.defaultValue;if(c.length!==d&&c.length!==1){const b=this.defaultValueShape;dn(()=>{const w=Ae(c,b);c=hp(w,l).dataSync()})}let h=0,g=0,v=0;for(let b=0;b<=f;++b){let w=b<f?n[b]:-1;if(w===v){++v;continue}if(g<v){const x=o.subarray(h*d),E=i.subarray(g*d),T=(v-g)*d;JD(E,x,T)}if(b>=f){const x=r.length;w=Math.floor(x/d)}if(w>v)if(this.defaultValue.length===1)i.subarray(v*d,w*d).fill(this.defaultValue[0]),v=w;else for(;w>v;){const x=i.slice(v*d);JD(x,c,d),++v}w<0?(h=b+1,g=v):(h=b,g=v,v=g+1)}}}function JD(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function eO(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function lre(t,e,n,r,a,o,i,l,d,f){return new Xy(t,e,n,r,a,o,i,l,d,f).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tO(t,e,n,r){const a=t===e,o=t<e&&n<0,i=e<t&&n>1;if(a||o||i)return xa(0,r);const l=Math.abs(Math.ceil((e-t)/n)),d=xa(l,r);e<t&&n===1&&(n=-1),d[0]=t;for(let f=1;f<d.length;f++)d[f]=d[f-1]+n;return d}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cre=Uu(t=>1/Math.sqrt(t)),dre=Vu(Lv,cre),fre={kernelName:Lv,backendName:"cpu",kernelFunc:dre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function id(t,e,n,r,a,o,i,l,d,f){const c=[r/a,a],h=t.values,g=e.values;if(r===0)return cn(n,e.dtype);const v=d instanceof jr?d:cn(c,e.dtype);typeof d=="string"||typeof d=="number"?v.values.fill(d):typeof d=="boolean"&&v.values.fill(+d);for(let b=0;b<o;b++){const w=[];let x=0;for(let E=0;E<i;E++){const T=h[b*i+E];w.push(T),x+=T*l[E]}if(x<0||x>=r/a)throw new Error(`Invalid indices: ${w} does not index into ${n}`);for(let E=0;E<a;E++)f?v.values[x*a+E]+=g[b*a+E]:v.values[x*a+E]=e.rank===0?g[0]:g[b*a+E]}return v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nO=jn(qv,t=>1/(1+Math.exp(-t))),pre={kernelName:qv,backendName:"cpu",kernelFunc:nO};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K_(t,e,n,r,a){const o=jN(r,e,n),i=Ce(n),l=yt(r);if(o){const h=HN(e,l);return a==="string"?t.slice(h,h+i):t.subarray(h,h+i)}const d=a==="string"?xp(t):t,f=cn(r,a,d),c=cn(n,a);for(let h=0;h<c.size;++h){const g=c.indexToLoc(h),v=g.map((b,w)=>b+e[w]);c.set(f.get(...v),...g)}return a==="string"?hD(c.values):c.values}function Gl(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:o,size:i}=r;mt(a,"slice");const[l,d]=WN(a,o,i);KZ(a,l,d);const f=n.data.get(a.dataId).values,c=K_(f,l,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,c)}const hre={kernelName:Iw,backendName:"cpu",kernelFunc:Gl};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mre(t,e,n,r,a,o,i){const l=e[0],d=o[0],f=new Array(d),c=new Array(l),h=e[1];if(d===0){if(l!==0)throw new Error(nD(l));const x=Pr(n,0),E=Pr(a,0);return[x,[0,h],E,f,c]}let g=!0,v=0;const b=new Array(d).fill(0);for(let x=0;x<l;++x){const E=t[x*h];if(E<0)throw new Error(rD(x,E));if(E>=d)throw new Error(aD(x,E,d));++b[E],g=g&&E>=v,v=E}let w=!0;for(let x=0;x<d;++x){const E=b[x]===0;f[x]=E,w=w&&!E,b[x]=Math.max(b[x],1),x>0&&(b[x]+=b[x-1])}if(w&&g){const x=t,E=r;for(let T=0;T<l;++T)c[T]=T;return[x,[l,h],E,f,c]}else{const x=b[d-1],E=Pr(n,x*h),T=Pr(a,x),C=new Array(d).fill(0);for(let I=0;I<l;++I){const D=t[I*h],F=C[D],B=(D===0?0:b[D-1])+F;C[D]++;for(let H=0;H<h;++H)E[B*h+H]=t[I*h+H];T[B]=r[I],c[I]=B}for(let I=0;I<d;++I)if(C[I]===0){const F=I===0?0:b[I-1];E[F*h+0]=I;for(let B=1;B<h;++B)E[F*h+B]=0;T[F]=i}return[E,[x,h],T,f,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gre(t,e,n,r,a){const o=Ce(r),i=e[0],l=a.length,d=[];let f=1,c=-1;for(let x=0;x<l;++x){const E=a[x];if(E===-1){if(c!==-1)throw new Error(oD(c,x));c=x,d.push(1)}else{if(E<0)throw new Error(sD(x,E));f*=E,d.push(E)}}if(c!==-1){if(f<=0)throw new Error(iD());const x=Math.trunc(o/f);if(f*x!==o)throw new Error(uD(r,d));d[c]=x}if(Ce(d)!==o)throw new Error(lD(r,d));const g=r.length,v=[];if(g>0){v[g-1]=1;for(let x=g-2;x>=0;--x)v[x]=v[x+1]*r[x+1]}const b=[];if(l>0){b[l-1]=1;for(let x=l-2;x>=0;--x)b[x]=b[x+1]*d[x+1]}const w=Pr(n,i*l);for(let x=0;x<i;++x){let E=0;for(let T=0;T<g;++T)E+=t[x*g+T]*v[T];for(let T=0;T<l;++T)w[x*l+T]=Math.trunc(E/b[T]),E%=b[T]}return[w,[i,l],d]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rO(t,e,n,r,a,o=!1,i=0){const l=r.length,d=[e[0],t.length/e[0]],f=d[1],h=l>0?a[l-1]+1:0;if(h<0)throw new Error(Uy());const g=e.slice();g[0]=h;const v=g.reduce((C,I)=>C*I,1),b=Pr(n,v);if(l===0)return h>0&&b.fill(i),[b,g];if(h<=0)throw new Error(Uy());let w=0,x=1,E=0,T=a[w];for(;;){let C=0;if(x<l){if(C=a[x],T===C){++x;continue}if(T>=C)throw new Error(cD())}if(T<0||T>=h)throw new Error(dD(T,h));T>E&&b.fill(i,E*f,T*f);for(let I=w;I<x;++I){const D=r[I];if(D<0||D>=d[0])throw new Error(fD(I,r[I],d[0]));for(let F=0;F<f;F++)b[T*f+F]+=t[D*f+F]}if(o)for(let I=0;I<f;I++)b[T*f+I]/=x-w;if(w=x,++x,E=T+1,T=C,x>l)break}return E<h&&b.fill(i,E*f,h*f),[b,g]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vre=jn(Kv,t=>Math.sqrt(t)),yre={kernelName:Kv,backendName:"cpu",kernelFunc:vre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bre=Ir((t,e)=>{const n=t-e;return n*n}),Sre=Wr(Jv,bre),wre={kernelName:Jv,backendName:"cpu",kernelFunc:Sre};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _re=Uu((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=e;return t.replace(new RegExp(n,r?"g":""),a)}),xre=Vu(Mw,_re),Ere={kernelName:Mw,backendName:"cpu",kernelFunc:xre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cre(t,e,n,r){const a=cn(t,e.dtype);for(let o=0;o<a.size;o++){const i=a.indexToLoc(o),l=new Array(i.length);for(let d=0;d<l.length;d++)l[d]=i[d]*n[d]+r[d];a.set(e.get(...l),...i)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tre{constructor(e,n,r,a,o,i){this.separator=Al(e),this.nGramWidths=n,this.leftPad=Al(r),this.rightPad=Al(a),this.padWidth=o,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,a,o,i){for(let l=0;l<o;++l){const d=this.getPadWidth(i),f=Math.max(0,d-l),c=Math.max(0,d-(o-(l+1))),h=i-(f+c),g=n+(f>0?0:l-d);let v=0;v+=f*this.leftPad.length;for(let T=0;T<h;++T)v+=e[g+T].length;v+=c*this.rightPad.length;const b=f+c+h-1;v+=b*this.separator.length,r[a+l]=new Uint8Array(v);const w=r[a+l];let x=0;const E=T=>T.forEach(C=>w[x++]=C);for(let T=0;T<f;++T)E(this.leftPad),E(this.separator);for(let T=0;T<h-1;++T)E(e[g+T]),E(this.separator);if(h>0){E(e[g+h-1]);for(let T=0;T<c;++T)E(this.separator),E(this.rightPad)}else{for(let T=0;T<c-1;++T)E(this.rightPad),E(this.separator);E(this.rightPad)}}}compute(e,n){const r=e.length,a=n.length;if(a>0){let d=n[0];if(d!==0)throw new Error(`First split value must be 0, got ${d}`);for(let f=1;f<a;++f){let c=n[f]>=d;if(c=c&&n[f]<=r,!c)throw new Error(`Invalid split value ${n[f]}, must be in [${d}, ${r}]`);d=n[f]}if(d!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${d}`)}const o=a-1,i=Pr("int32",a);if(r===0||a===0){const d=new Array(r);for(let f=0;f<=o;++f)i[f]=0;return[d,i]}i[0]=0;for(let d=1;d<=o;++d){const f=n[d]-n[d-1];let c=0;this.nGramWidths.forEach(h=>{c+=this.getNumNGrams(f,h)}),this.preserveShort&&f>0&&c===0&&(c=1),i[d]=i[d-1]+c}const l=new Array(i[o]);for(let d=0;d<o;++d){const f=n[d];let c=i[d];if(this.nGramWidths.forEach(h=>{const g=n[d+1]-n[d],v=this.getNumNGrams(g,h);this.createNGrams(e,f,l,c,v,h),c+=v}),this.preserveShort&&c===i[d]){const h=n[d+1]-n[d];if(h===0)continue;const g=h+2*this.padWidth;this.createNGrams(e,f,l,c,1,g)}}return[l,i]}}function aO(t,e,n,r,a,o,i,l){return new Tre(n,r,a,o,i,l).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kre(t,e,n,r){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)r.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let i=t.indexOf(o);for(;i!==-1;){const l=t.subarray(0,i);(!n||l.length!==0)&&r.push(l),t=t.subarray(i+1),i=t.indexOf(o)}(!n||t.length!==0)&&r.push(t);return}let a=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const i=t.subarray(a,o);(!n||i.length!==0)&&r.push(i),a=o+1}}function oO(t,e,n){const r=t.length,a=[];let o=0,i=0;const l=new Array(r);for(let g=0;g<r;++g){const v=a.length;kre(t[g],e,n,a);const b=a.length-v;l[g]=b,o+=b,i=Math.max(i,b)}const d=Pr("int32",o*2),f=new Array(o),c=[r,i];let h=0;for(let g=0;g<r;++g)for(let v=0;v<l[g];++v)d[h*2]=g,d[h*2+1]=v,f[h]=a[h],++h;return[d,f,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sO(t,e){const n=Pr("int32",t.length);for(let r=0;r<t.length;++r)n[r]=gj(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ire=Ir((t,e)=>t-e),Rre=G_((t,e,n,r)=>({real:t-n,imag:e-r})),Y_=Wr(ty,Ire,Rre),Are={kernelName:ty,backendName:"cpu",kernelFunc:Y_};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nre(t,e){const n=new Array(t.rank);for(let a=0;a<n.length;a++)n[a]=t.shape[a]*e[a];const r=cn(n,t.dtype);for(let a=0;a<r.values.length;++a){const o=r.indexToLoc(a),i=new Array(t.rank);for(let d=0;d<i.length;d++)i[d]=o[d]%t.shape[d];const l=t.locToIndex(i);r.values[a]=t.values[l]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tp=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function iO(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const l=r-n+1,d=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*Math.sign(d-l/2),g=Math.max(n,Math.floor(e-d*c/l+h)),v=Math.min(r,Math.floor(e+(l-d)*c/l+h));iO(t,e,g,v)}const a=t[e];let o=n,i=r;for(Yf(t,n,e),Tp(t[r],a)>0&&Yf(t,n,r);o<i;){for(Yf(t,o,i),o++,i--;Tp(t[o],a)<0;)o=o+1;for(;Tp(t[i],a)>0;)i=i-1}Tp(t[n],a)===0?Yf(t,n,i):(i=i+1,Yf(t,i,r)),i<=e&&(n=i+1),e<=i&&(r=i-1)}}function Dre(t,e,n,r,a){const o=e[e.length-1],[i,l]=[t.length/o,o],d=Fa(n,i*r),f=Fa("int32",i*r);for(let h=0;h<i;h++){const g=h*l,v=t.subarray(g,g+l);let b=new Array(v.length);v.forEach((T,C)=>b[C]={value:T,index:C}),r<b.length&&(iO(b,r),b=b.slice(0,r)),a&&b.sort(Tp);const w=h*r,x=d.subarray(w,w+r),E=f.subarray(w,w+r);for(let T=0;T<r;T++)x[T]=b[T].value,E[T]=b[T].index}const c=e.slice();return c[c.length-1]=r,[cn(c,n,d),cn(c,"int32",f)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uO(t,e,n,r){const a=gr(e,n)[0],o=[1,n[0],1];for(let b=0;b<a;b++)o[0]*=n[b];o[1]=n[a];for(let b=a+1;b<n.length;b++)o[2]*=n[b];const i=new Map,l=new Int32Array(n[a]),d=new jr(o,r,t),f=[],c=o[0]===1&&o[2]===1;for(let b=0;b<n[a];b++){let w;if(c)w=t[b].toString();else{const E=[];for(let T=0;T<o[0];T++)for(let C=0;C<o[2];C++)E.push(d.get(T,b,C));w=E.join(",")}const x=i.get(w);if(x!=null)l[b]=x;else{const E=i.size;i.set(w,E),l[b]=E,f.push(b)}}const h=o.slice();h[1]=i.size;const g=new jr(h,r);f.forEach((b,w)=>{for(let x=0;x<o[0];x++)for(let E=0;E<o[2];E++)g.set(d.get(x,b,E),x,w,E)});const v=n.slice();return v[a]=h[1],{outputValues:g.values,outputShape:v,indices:l}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kl(t){const{inputs:{x:e},attrs:{begin:n,size:r},backend:a}=t,[o,i]=WN(e,n,r),l=jN(e.shape,o,i),d=a.readSync(e.dataId),f=a.makeOutput(i,e.dtype),c=yt(e.shape),h=a.dataIdMap.get(f.dataId);if(l){const b=HN(o,c);return e.dtype==="string"?h.stringBytes=d.slice(b,b+Ce(i)):a.typedArrayFromHeap(f).set(d.subarray(b,b+Ce(i))),f}if(e.dtype==="string"){const b=K_(d,o,i,e.shape,e.dtype);return h.stringBytes=b,f}const g=a.typedArrayFromHeap(f),v=e.shape.length;if(v===2)Ore(d,c[0],g,o,i);else if(v===3)Mre(d,c[0],c[1],g,o,i);else if(v===4)$re(d,c[0],c[1],c[2],g,o,i);else{const b=K_(d,o,i,e.shape,e.dtype);g.set(b)}return f}function Ore(t,e,n,r,a){let o=0;const i=r[0],l=r[1],d=i+a[0];for(let f=i;f<d;f++){const c=f*e+l;n.set(t.subarray(c,c+a[1]),o),o+=a[1]}}function Mre(t,e,n,r,a,o){let i=0;const l=a[0],d=a[1],f=a[2],c=l+o[0],h=d+o[1];for(let g=l;g<c;g++)for(let v=d;v<h;v++){const b=g*e+v*n+f;r.set(t.subarray(b,b+o[2]),i),i+=o[2]}}function $re(t,e,n,r,a,o,i){let l=0;const d=o[0],f=o[1],c=o[2],h=d+i[0],g=f+i[1],v=c+i[2],b=o[3];for(let w=d;w<h;w++)for(let x=f;x<g;x++)for(let E=c;E<v;E++){const T=w*e+x*n+E*r+b;a.set(t.subarray(T,T+i[3]),l),l+=i[3]}}const Fre={kernelName:Iw,backendName:"wasm",kernelFunc:Kl};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pre(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,crops:i}=r,l=o.reduce((E,T)=>E*T),d=Ly(a.shape,o,l),f=By(d.length,o.length),c=zy(a.shape,o,l),h=XN(i,o.length),g=QN(c,i,o.length),v=no({inputs:{x:a},backend:n,attrs:{shape:d}}),b=Lu({inputs:{x:v},backend:n,attrs:{perm:f}}),w=no({inputs:{x:b},backend:n,attrs:{shape:c}}),x=Kl({inputs:{x:w},backend:n,attrs:{begin:h,size:g}});return n.disposeData(v.dataId),n.disposeData(b.dataId),n.disposeData(w.dataId),x}const Lre={kernelName:iw,backendName:"wasm",kernelFunc:Pre};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let lO;function Bre(t){lO=t.wasm.cwrap(wg,null,["number","number","boolean","number","number","number"])}function zre(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:o}=n,{size:i}=r,l=o.shape.reduce((h,g)=>h*g,1)!==0,d=a.shape.length===1?[i]:[a.shape[0],i],f=e.makeOutput(d,o.dtype);function c(h){return e.dataIdMap.get(h.dataId).id}return lO(c(a),i,l,c(o),Tn[o.dtype],c(f)),f}const Ure={kernelName:wg,backendName:"wasm",setupFunc:Bre,kernelFunc:zre};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vre=Br(_g);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jre(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,o=n.typedArrayFromHeap(r),i=n.typedArrayFromHeap(a),l=nr(Array.from(o),Array.from(i));return n.makeOutput([l.length],"int32",void 0,new Int32Array(l))}const Hre={kernelName:uw,backendName:"wasm",kernelFunc:jre};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ju(t){const{inputs:{x:e},attrs:{dtype:n},backend:r}=t,a=r.makeOutput(e.shape,n),o=r.typedArrayFromHeap(e);return r.typedArrayFromHeap(a).set(o),a}const Wre={kernelName:xg,backendName:"wasm",kernelFunc:ju};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qre=bn(Eg);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let cO;function Gre(t){cO=t.wasm.cwrap(ep,null,["number","number","number","number"])}function Kre(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{clipValueMin:o,clipValueMax:i}=r,l=n.dataIdMap.get(a.dataId).id,d=n.makeOutput(a.shape,a.dtype),f=n.dataIdMap.get(d.dataId).id;return cO(l,o,i,f),d}const Yre={kernelName:ep,backendName:"wasm",setupFunc:Gre,kernelFunc:Kre};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dO(t){const{inputs:e,backend:n}=t,r=gr(t.attrs.axis,e[0].shape)[0],a=e.map(v=>v.shape);KN(a,r);let o=ad(e.map(v=>v.shape),r);const i=e.filter(v=>Ce(v.shape)>0);if(i.length===1)return Gy({inputs:{x:i[0]},backend:n});const l=n.makeOutput(o,e[0].dtype);if(Ce(o)===0)return l;if(i[0].dtype==="string"){const v=i.map(C=>{const D=[-1,Ce(C.shape.slice(r))];return no({inputs:{x:C},backend:n,attrs:{shape:D}})}),b=v.map(C=>({vals:n.readSync(C.dataId),shape:C.shape}));o=ad(v.map(C=>C.shape),1);const w=v[0].shape[0]===1,x=qD(b,o,e[0].dtype,w),E=ad(i.map(C=>C.shape),r);l.shape=E;const T=n.dataIdMap.get(l.dataId);return T.stringBytes=hD(x),v.forEach(C=>n.disposeData(C.dataId)),l}const d=Ce(i[0].shape.slice(0,r));let f=0;const c=i.map(v=>{const b=Ce(v.shape.slice(r));return f+=b,b}),h=i.map(v=>n.typedArrayFromHeap(v)),g=n.typedArrayFromHeap(l);for(let v=0;v<d;v++){let b=v*f;for(let w=0;w<h.length;w++){const x=c[w],E=v*x,T=h[w].subarray(E,E+x);g.set(T,b),b+=x}}return l}const Xre={kernelName:lw,backendName:"wasm",kernelFunc:dO};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fO;function Qre(t){fO=t.wasm.cwrap(Cg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Zre(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o}=e,i=r.dataIdMap.get(a.dataId).id,l=r.dataIdMap.get(o.dataId).id,{strides:d,dilations:f,pad:c,dimRoundingMode:h,dataFormat:g}=n,v=Zc(g),b=eo(a.shape,o.shape,d,f,c,h,!1,v),w=b.filterHeight,x=b.filterWidth,E=b.padInfo.top,T=b.padInfo.right,C=b.padInfo.bottom,I=b.padInfo.left,D=b.dilationHeight,F=b.dilationWidth,B=b.strideHeight,H=b.strideWidth,z=b.inChannels,U=b.outChannels,O=b.padInfo.type==="SAME"?1:0;if(b.dataFormat!=="channelsLast")throw new Error(`wasm backend Conv2D does not support dataFormat:'${b.dataFormat}'. Please use 'channelsLast'.`);const K=r.makeOutput(b.outShape,"float32"),G=r.dataIdMap.get(K.dataId).id;return fO(i,a.shape[0],a.shape[1],a.shape[2],l,w,x,E,T,C,I,O,D,F,B,H,z,U,G),K}const Jre={kernelName:Cg,backendName:"wasm",setupFunc:Qre,kernelFunc:Zre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let pO;function eae(t){pO=t.wasm.cwrap(Tg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function tae(t){const{backend:e,inputs:n,attrs:r}=t,{dy:a,filter:o}=n,{strides:i,pad:l,dataFormat:d,dimRoundingMode:f,inputShape:c}=r,h=1,g=Zc(d),v=eo(c,o.shape,i,h,l,f,!1,g),{batchSize:b,filterHeight:w,filterWidth:x,inChannels:E,inHeight:T,inWidth:C,outChannels:I,outHeight:D,outWidth:F,strideHeight:B,strideWidth:H}=v,z=w-1-v.padInfo.top,U=x-1-v.padInfo.left,O=v.dataFormat==="channelsLast",K=yt(v.inShape),G=yt(a.shape),[Z,J,se]=yt(o.shape),oe=K[0],le=O?K[1]:K[2],pe=O?K[2]:1,ye=O?1:K[1],ve=G[0],Ee=O?G[1]:G[2],_e=O?G[2]:1,Ie=O?1:G[1],De=e.makeOutput(v.inShape,"float32"),ze=e.dataIdMap.get(De.dataId).id,Ve=e.dataIdMap.get(a.dataId).id,Le=e.dataIdMap.get(o.dataId).id;return pO(Ve,Le,b,w,x,T,C,E,D,F,I,B,H,z,U,Z,J,se,oe,le,pe,ye,ve,Ee,_e,Ie,ze),De}const nae={kernelName:Tg,backendName:"wasm",setupFunc:eae,kernelFunc:tae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let hO;function rae(t){hO=t.wasm.cwrap(kg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function aae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:i,pad:l,dilations:d}=r;if(a.dtype!=="float32")throw new Error(`Tensor x must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const f=Ml(a.shape,o.shape,i,d,l),c=n.makeOutput(f.outShape,a.dtype);return hO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,f.batchSize,f.inDepth,f.inHeight,f.inWidth,f.inChannels,f.outDepth,f.outHeight,f.outWidth,f.outChannels,f.strideDepth,f.strideHeight,f.strideWidth,f.dilationDepth,f.dilationHeight,f.dilationWidth,f.filterDepth,f.filterHeight,f.filterWidth,f.padInfo.front,f.padInfo.top,f.padInfo.left),c}const oae={kernelName:kg,backendName:"wasm",setupFunc:rae,kernelFunc:aae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mO;function sae(t){mO=t.wasm.cwrap(cw,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function iae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:i,pad:l,filterShape:d}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const f=Ml(a.shape,d,i,1,l),c=n.makeOutput(f.filterShape,o.dtype);return mO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,f.batchSize,f.inDepth,f.inHeight,f.inWidth,f.inChannels,f.outDepth,f.outHeight,f.outWidth,f.outChannels,f.strideDepth,f.strideHeight,f.strideWidth,f.dilationDepth,f.dilationHeight,f.dilationWidth,f.filterDepth,f.filterHeight,f.filterWidth,f.padInfo.front,f.padInfo.top,f.padInfo.left),c}const uae={kernelName:cw,backendName:"wasm",setupFunc:sae,kernelFunc:iae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gO;function lae(t){gO=t.wasm.cwrap(Ig,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function cae(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{pad:i,strides:l,inputShape:d}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const f=Ml(d,o.shape,l,1,i),c=n.makeOutput(f.inShape,a.dtype);return gO(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,f.batchSize,f.inDepth,f.inHeight,f.inWidth,f.inChannels,f.outDepth,f.outHeight,f.outWidth,f.outChannels,f.strideDepth,f.strideHeight,f.strideWidth,f.dilationDepth,f.dilationHeight,f.dilationWidth,f.filterDepth,f.filterHeight,f.filterWidth,f.padInfo.front,f.padInfo.top,f.padInfo.left),c}const dae={kernelName:Ig,backendName:"wasm",setupFunc:lae,kernelFunc:cae};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fae=bn(Rg);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pae=bn(Ag);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var X_;(function(t){t[t.bilinear=0]="bilinear",t[t.nearest=1]="nearest"})(X_||(X_={}));let vO;function hae(t){vO=t.wasm.cwrap(Og,null,["number","number","number","number","array","number","number","number","number","number"])}function mae(t){const{backend:e,inputs:n,attrs:r}=t,{method:a,extrapolationValue:o,cropSize:i}=r,{image:l,boxes:d,boxInd:f}=n,c=d.shape[0],[h,g]=i,v=[c,h,g,l.shape[3]];let b=e.dataIdMap.get(l.dataId),w;l.dtype!=="float32"&&(w=ju({backend:e,inputs:{x:l},attrs:{dtype:"float32"}}),b=e.dataIdMap.get(w.dataId));const x=b.id,E=e.dataIdMap.get(d.dataId).id,T=e.dataIdMap.get(f.dataId).id,C=e.makeOutput(v,"float32"),I=e.dataIdMap.get(C.dataId).id,D=new Uint8Array(new Int32Array(l.shape).buffer);return vO(x,E,T,c,D,h,g,X_[a],o,I),w!=null&&e.disposeData(w.dataId),C}const gae={kernelName:Og,backendName:"wasm",setupFunc:hae,kernelFunc:mae};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yO;function vae(t){yO=t.wasm.cwrap(Ng,null,["number","number","number","number","number","number"])}function yae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:i,reverse:l}=r,d=a.shape.length;W(a.dtype==="float32"||a.dtype==="int32",()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`);const f=Fo([o],d);let c=a;f!==null&&(c=Lu({inputs:{x:a},attrs:{perm:f},backend:n}));const h=Ua(1,d)[0];za("cumprod",[h],d);const g=n.makeOutput(c.shape,c.dtype),v=c.shape[h],b=n.dataIdMap.get(c.dataId).id,w=n.dataIdMap.get(g.dataId).id;yO(b,i?1:0,l?1:0,v,w,Tn[a.dtype]);let x=g;if(f!==null){const E=by(f);x=Lu({inputs:{x:g},attrs:{perm:E},backend:n}),n.disposeData(c.dataId),n.disposeData(g.dataId)}return x}const bae={kernelName:Ng,backendName:"wasm",setupFunc:vae,kernelFunc:yae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bO;function Sae(t){bO=t.wasm.cwrap(Dg,null,["number","number","number","number","number","number"])}function wae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:i,reverse:l}=r,d=a.shape.length;W(a.dtype==="float32"||a.dtype==="int32",()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`);const f=Fo([o],d);let c=a;f!==null&&(c=Lu({inputs:{x:a},attrs:{perm:f},backend:n}));const h=Ua(1,d)[0];za("cumsum",[h],d);const g=n.makeOutput(c.shape,c.dtype),v=c.shape[h],b=n.dataIdMap.get(c.dataId).id,w=n.dataIdMap.get(g.dataId).id;bO(b,i?1:0,l?1:0,v,w,Tn[a.dtype]);let x=g;if(f!==null){const E=by(f);x=Lu({inputs:{x:g},attrs:{perm:E},backend:n}),n.disposeData(c.dataId),n.disposeData(g.dataId)}return x}const _ae={kernelName:Dg,backendName:"wasm",setupFunc:Sae,kernelFunc:wae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SO;function xae(t){SO=t.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])}function Eae(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:o}=n,{size:i,binaryOutput:l}=r,d=o.shape.reduce((g,v)=>g*v,1)!==0,f=a.shape.length===1?[i]:[a.shape[0],i],c=e.makeOutput(f,o.dtype);function h(g){return e.dataIdMap.get(g.dataId).id}return SO(h(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,i,d,h(o),Tn[o.dtype],l,h(c)),c}const Cae={kernelName:dw,backendName:"wasm",setupFunc:xae,kernelFunc:Eae};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let wO;function Tae(t){wO=t.wasm.cwrap(Mg,null,["number","number","number","array","number","array","array","number","number"])}function kae(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{blockSize:o,dataFormat:i}=r,l=a.shape[0],d=i==="NHWC"?a.shape[1]:a.shape[2],f=i==="NHWC"?a.shape[2]:a.shape[3],c=i==="NHWC"?a.shape[3]:a.shape[1],h=d*o,g=f*o,v=c/(o*o),b=i==="NHWC"?[l,h,g,v]:[l,v,h,g],w=e.makeOutput(b,"float32"),E=e.dataIdMap.get(a.dataId).id,T=new Uint8Array(new Int32Array(yt(a.shape)).buffer),C=new Uint8Array(new Int32Array(b).buffer),I=new Uint8Array(new Int32Array(yt(b)).buffer),D=e.dataIdMap.get(w.dataId).id;return wO(E,o,i==="NHWC"?1:0,T,a.shape.length-1,C,I,b.length,D),w}const Iae={kernelName:Mg,backendName:"wasm",setupFunc:Tae,kernelFunc:kae};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _O;function Rae(t){_O=t.wasm.cwrap($g,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Aae(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o}=e,i=r.dataIdMap.get(a.dataId).id,l=r.dataIdMap.get(o.dataId).id,{strides:d,dilations:f,pad:c,dimRoundingMode:h}=n,g=f??[1,1],v=eo(a.shape,o.shape,d,g,c,h,!0),b=v.filterHeight,w=v.filterWidth,x=v.padInfo.top,E=v.padInfo.right,T=v.padInfo.bottom,C=v.padInfo.left,I=v.dilationHeight,D=v.dilationWidth,F=v.strideHeight,B=v.strideWidth,H=v.inChannels,z=v.outChannels,U=v.padInfo.type==="SAME"?1:0;if(v.dataFormat!=="channelsLast")throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${v.dataFormat}'. Please use 'channelsLast'.`);const O=r.makeOutput(v.outShape,"float32"),K=r.dataIdMap.get(O.dataId).id;return _O(i,a.shape[0],a.shape[1],a.shape[2],l,b,w,x,E,T,C,U,I,D,F,B,H,z,K),O}const Nae={kernelName:$g,backendName:"wasm",setupFunc:Rae,kernelFunc:Aae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let xO;function Dae(t){xO=t.wasm.cwrap("Diag",null,["number","number","number","number"])}function Oae(t){const{inputs:e,backend:n}=t,{x:r}=e,a=Ce(r.shape),o=n.makeOutput([...r.shape,...r.shape],r.dtype);return xO(n.dataIdMap.get(r.dataId).id,Tn[r.dtype],a,n.dataIdMap.get(o.dataId).id),o}const Mae={kernelName:fw,backendName:"wasm",setupFunc:Dae,kernelFunc:Oae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let EO;function $ae(t){EO=t.wasm.cwrap(Fg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Fae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:i,pad:l,dilations:d}=r;if(a.dtype!==o.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${a.dtype} and ${o.dtype}`);const f=Yc(a.shape,o.shape,i,l,"NHWC",d),c=n.makeOutput(f.outShape,a.dtype);return EO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,Tn[a.dtype],f.batchSize,f.inChannels,f.inHeight,f.inWidth,f.outHeight,f.outWidth,f.strideHeight,f.strideWidth,f.dilationHeight,f.dilationWidth,f.filterHeight,f.filterWidth,f.padInfo.top,f.padInfo.left),c}const Pae={kernelName:Fg,backendName:"wasm",setupFunc:$ae,kernelFunc:Fae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let CO;function Lae(t){CO=t.wasm.cwrap(Lg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Bae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,dy:i}=e,{strides:l,pad:d,dilations:f}=r;if(a.dtype!==o.dtype||a.dtype!==i.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${i.dtype}`);const c=Yc(a.shape,o.shape,l,d,"NHWC",f),h=n.makeOutput(o.shape,o.dtype);return CO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(h.dataId).id,Tn[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),h}const zae={kernelName:Lg,backendName:"wasm",setupFunc:Lae,kernelFunc:Bae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TO;function Uae(t){TO=t.wasm.cwrap(Pg,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Vae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,dy:i}=e,{strides:l,pad:d,dilations:f}=r;if(a.dtype!==o.dtype||a.dtype!==i.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${i.dtype}`);const c=Yc(a.shape,o.shape,l,d,"NHWC",f),h=n.makeOutput(a.shape,a.dtype);return TO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(h.dataId).id,Tn[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),h}const jae={kernelName:Pg,backendName:"wasm",setupFunc:Uae,kernelFunc:Vae};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hae=bn(zg);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let kO;function Wae(t){kO=t.wasm.cwrap(pw,null,["number","number","number"])}function qae(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e,o=n.makeOutput(a.shape,"float32"),i=l=>n.dataIdMap.get(l.dataId).id;return kO(i(a),i(r),i(o)),o}const Gae={kernelName:pw,backendName:"wasm",setupFunc:Wae,kernelFunc:qae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kae=Br(Vg,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yae=bn(Ug);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xae=bn(jg,"float32");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q_(t){const{inputs:e,attrs:n,backend:r}=t,{input:a}=e,{dim:o}=n,i=a.shape.length,l=a.shape.slice();let d=o;return o<0&&(W(-(i+1)<=o,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),d=i+o+1),l.splice(d,0,1),no({inputs:{x:a},backend:r,attrs:{shape:l}})}const Qae={kernelName:hw,backendName:"wasm",kernelFunc:Q_};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zae=bn(Hg,"float32");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IO(t){const{attrs:{shape:e,value:n,dtype:r},backend:a}=t,o=a.makeOutput(e,r);return a.typedArrayFromHeap(o).fill(n),o}const Jae={kernelName:mw,backendName:"wasm",kernelFunc:IO};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let RO;function eoe(t){RO=t.wasm.cwrap(Wg,null,["number","number","number","number","number","number"])}function toe(t){const{inputs:e,backend:n}=t,{image:r}=e,a=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,[l,d,f,c]=r.shape;return RO(o,l,d,f,c,i),a}const noe={kernelName:Wg,backendName:"wasm",kernelFunc:toe,setupFunc:eoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const roe=bn(qg);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aoe=Br(Gg);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let AO;function ooe(t){AO=t.wasm.cwrap(Kg,null,["number","number","number","number","number","number","number"])}function soe(t){const{backend:e,inputs:n,attrs:r}=t,{varianceEpsilon:a}=r,{x:o,mean:i,variance:l,offset:d,scale:f}=n,c=e.dataIdMap.get(o.dataId).id,h=e.dataIdMap.get(i.dataId).id,g=e.dataIdMap.get(l.dataId).id,v=d!=null?e.dataIdMap.get(d.dataId).id:0,b=f!=null?e.dataIdMap.get(f.dataId).id:0,w=e.makeOutput(o.shape,o.dtype);if(Ce(o.shape)===0)return w;const x=e.dataIdMap.get(w.dataId).id;return AO(c,h,g,v,b,a,x),w}const ioe={kernelName:Kg,backendName:"wasm",setupFunc:ooe,kernelFunc:soe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let NO;function uoe(t){NO=t.wasm.cwrap(ap,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function loe(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o,bias:i,preluActivationWeights:l}=e,{strides:d,pad:f,dilations:c,dataFormat:h,dimRoundingMode:g,activation:v,leakyreluAlpha:b}=n,w=eo(a.shape,o.shape,d,c,f,g),x=Cp[v];if(x==null)throw new Error(`${v} activation not yet supported for FusedConv2D in the wasm backend.`);const E=r.dataIdMap.get(a.dataId).id,T=r.dataIdMap.get(o.dataId).id,C=w.outChannels;let I=0;if(i!=null){const _e=r.dataIdMap.get(i.dataId);if(_e.shape.length!==1)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${_e.shape.length}.`);if(_e.shape[0]!==C)throw new Error(`FusedConv2D bias shape (${_e.shape}) does not match the number of output channels (${C})`);I=_e.id}const D=w.filterHeight,F=w.filterWidth,B=w.padInfo.top,H=w.padInfo.right,z=w.padInfo.bottom,U=w.padInfo.left,O=w.dilationHeight,K=w.dilationWidth,G=w.strideHeight,Z=w.strideWidth,J=w.inChannels,se=w.padInfo.type==="SAME"?1:0,oe=w.batchSize,le=w.inHeight,pe=w.inWidth;if(h!=="NHWC")throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${h}'. Please use 'NHWC'.`);const ye=r.makeOutput(w.outShape,"float32"),ve=r.dataIdMap.get(ye.dataId).id,Ee=l==null?0:r.dataIdMap.get(l.dataId).id;return NO(E,oe,le,pe,T,D,F,I,B,H,z,U,se,O,K,G,Z,J,C,x,Ee,b||0,ve),ye}const coe={kernelName:ap,backendName:"wasm",setupFunc:uoe,kernelFunc:loe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DO;function doe(t){DO=t.wasm.cwrap(op,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function foe(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o,bias:i,preluActivationWeights:l}=e,{strides:d,pad:f,dilations:c,dataFormat:h,dimRoundingMode:g,activation:v,leakyreluAlpha:b}=n,w=eo(a.shape,o.shape,d,c,f,g,!0),x=Cp[v];if(x==null)throw new Error(`${v} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const E=r.dataIdMap.get(a.dataId).id,T=r.dataIdMap.get(o.dataId).id,C=w.outChannels;let I=0;if(i!=null){const _e=r.dataIdMap.get(i.dataId);if(_e.shape.length!==1)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${_e.shape.length}.`);if(_e.shape[0]!==C)throw new Error(`FusedDepthwiseConv2D bias shape (${_e.shape}) does not match the number of output channels (${C})`);I=_e.id}const D=w.filterHeight,F=w.filterWidth,B=w.padInfo.top,H=w.padInfo.right,z=w.padInfo.bottom,U=w.padInfo.left,O=w.dilationHeight,K=w.dilationWidth,G=w.strideHeight,Z=w.strideWidth,J=w.inChannels,se=w.padInfo.type==="SAME"?1:0,oe=w.batchSize,le=w.inHeight,pe=w.inWidth;if(h!=="NHWC")throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${h}'. Please use 'NHWC'.`);const ye=r.makeOutput(w.outShape,"float32"),ve=r.dataIdMap.get(ye.dataId).id,Ee=l==null?0:r.dataIdMap.get(l.dataId).id;return DO(E,oe,le,pe,T,D,F,I,B,H,z,U,se,O,K,G,Z,J,C,x,Ee,b||0,ve),ye}const poe={kernelName:op,backendName:"wasm",setupFunc:doe,kernelFunc:foe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let OO;function hoe(t){OO=t.wasm.cwrap(Yg,null,["number","number","number","number","number","number","array","number"])}function moe(t){const{backend:e,inputs:n}=t,{params:r,indices:a}=n,[o,i,l,d]=UN(r,a),f=e.makeOutput(o,r.dtype);if(i===0)return f;const c=a.shape,h=c[c.length-1],v=e.dataIdMap.get(r.dataId).id,w=e.dataIdMap.get(a.dataId).id,x=new Uint8Array(new Int32Array(d).buffer),E=e.dataIdMap.get(f.dataId).id;return OO(v,Tn[r.dtype],w,i,h,l,x,E),f}const goe={kernelName:Yg,backendName:"wasm",setupFunc:hoe,kernelFunc:moe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MO;function voe(t){MO=t.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])}function yoe(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,indices:o}=n,{axis:i,batchDims:l}=r,d=gr(i,a.shape)[0],f=e.readSync(o.dataId),c=a.shape[d];for(let z=0;z<f.length;++z){const U=f[z];W(U<=c-1&&U>=0,()=>`GatherV2: the index value ${U} is not in [0, ${c-1}]`)}const h=pD(a,o,d,l),g=no({inputs:{x:a},attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]},backend:e}),v=Ce(o.shape),b=no({inputs:{x:o},attrs:{shape:[h.batchSize,v/h.batchSize]},backend:e}),w=[h.batchSize,h.outerSize,v/h.batchSize,h.sliceSize],x=e.makeOutput(w,a.dtype);if(Ce(a.shape)===0)return x;const E=g.shape.length-1,C=e.dataIdMap.get(g.dataId).id,D=e.dataIdMap.get(b.dataId).id,F=e.dataIdMap.get(x.dataId).id,B=new Uint8Array(new Int32Array(yt(g.shape)).buffer),H=new Uint8Array(new Int32Array(yt(w)).buffer);return MO(C,Tn[a.dtype],B,E,D,h.batchSize,H,F),e.disposeData(g.dataId),e.disposeData(b.dataId),x.shape=h.outputShape,x}const boe={kernelName:gw,backendName:"wasm",setupFunc:voe,kernelFunc:yoe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Soe=Br(Xg,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const woe=Br(Qg,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _oe=bn(Jg,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xoe=bn(ev,"bool");/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eoe=bn(tv,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let $O;function Coe(t){$O=t.wasm.cwrap(nv,null,["number","number","number","number"])}function Toe(t){const{inputs:{x:e},attrs:{alpha:n},backend:r}=t,a=r.dataIdMap.get(e.dataId).id,o=r.makeOutput(e.shape,"float32");if(Ce(e.shape)!==0){const i=r.dataIdMap.get(o.dataId).id;$O(a,Tn[e.dtype],n,i)}return o}const koe={kernelName:nv,backendName:"wasm",setupFunc:Coe,kernelFunc:Toe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ioe=Br(rv,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Roe=Br(av,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FO;function Aoe(t){FO=t.wasm.cwrap(ov,null,["number","number","number","number"])}function Noe(t){const{attrs:e,backend:n}=t,{start:r,stop:a,num:o}=e,i=Math.floor(o),l=n.makeOutput([i],"float32");return FO(n.dataIdMap.get(l.dataId).id,r,a,i),l}const Doe={kernelName:ov,backendName:"wasm",setupFunc:Aoe,kernelFunc:Noe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ooe=bn(sv);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Moe=bn(iv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $oe=Br(uv,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Foe=bn(lv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Poe=Br(cv,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Loe=Br(uj,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PO;function Boe(t){PO=t.wasm.cwrap(dv,null,["number","number","number","number","number","number","number"])}function zoe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:o,bias:i,alpha:l,beta:d}=r;if(a.dtype!=="float32")throw new Error("LRN error: x must have dtype float32");const f=n.makeOutput(a.shape,a.dtype);return PO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(f.dataId).id,a.shape[3],o,i,l,d),f}const Uoe={kernelName:dv,backendName:"wasm",setupFunc:Boe,kernelFunc:zoe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LO;function Voe(t){LO=t.wasm.cwrap(vw,null,["number","number","number","number","number","number","number","number","number"])}function joe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:o,dy:i}=e,{depthRadius:l,bias:d,alpha:f,beta:c}=r;if(a.dtype!=="float32"||o.dtype!=="float32"||i.dtype!=="float32")throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const h=n.makeOutput(a.shape,a.dtype);return LO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(h.dataId).id,i.shape[3],l,d,f,c),h}const Hoe={kernelName:vw,backendName:"wasm",setupFunc:Voe,kernelFunc:joe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let BO;function Woe(t){BO=t.wasm.cwrap(fv,null,["number","number","number","number"])}function qoe(t){const{backend:e,inputs:n,attrs:r}=t,{reductionIndices:a,keepDims:o}=r,{x:i}=n;let d=e.dataIdMap.get(i.dataId).id,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);if(v){const C=e.dataIdMap.get(c.dataId).id;f=c,d=C}const b=f.shape.length;za("max",h,b);const[w,x]=Ba(f.shape,h),E=Ce(x),T=e.makeOutput(w,i.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;BO(d,Tn[i.dtype],E,C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const Goe={kernelName:fv,backendName:"wasm",setupFunc:Woe,kernelFunc:qoe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Koe=Br(pv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zO;function Yoe(t){zO=t.wasm.cwrap(hv,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Xoe(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,o=r.dataIdMap.get(a.dataId).id;W(a.dtype==="float32",()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`);const{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=n,c=Is(a.shape,i,l,1,d,f),h=c.filterHeight,g=c.filterWidth,v=c.padInfo.top,b=c.padInfo.right,w=c.padInfo.bottom,x=c.padInfo.left,E=c.dilationHeight,T=c.dilationWidth,C=c.strideHeight,I=c.strideWidth,D=c.inChannels,F=c.outChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);const B=r.makeOutput(c.outShape,"float32"),H=r.dataIdMap.get(B.dataId).id;return zO(o,a.shape[0],a.shape[1],a.shape[2],h,g,v,b,w,x,E,T,C,I,D,F,H),B}const Qoe={kernelName:hv,backendName:"wasm",setupFunc:Yoe,kernelFunc:Xoe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UO;function Zoe(t){UO=t.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Joe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:d,dataFormat:f}=r,c=Mu(a.shape,o,i,1,l,d,f),h=n.makeOutput(c.outShape,a.dtype);return UO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),h}const ese={kernelName:yw,backendName:"wasm",setupFunc:Zoe,kernelFunc:Joe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let VO;function tse(t){VO=t.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function nse(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=r,c=Mu(o.shape,i,l,1,d,f),h=n.makeOutput(o.shape,o.dtype);return VO(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),h}const rse={kernelName:UR,backendName:"wasm",setupFunc:tse,kernelFunc:nse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let jO;function ase(t){jO=t.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function ose(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=r,c=Is(o.shape,i,l,1,d,f),h=n.makeOutput(o.shape,o.dtype);return jO(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),h}const sse={kernelName:zR,backendName:"wasm",setupFunc:ase,kernelFunc:ose};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let HO;function ise(t){HO=t.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function use(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:i,pad:l,includeBatchInIndex:d}=r;W(a.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);const f=[1,1];W(as(i,f),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${f}'`);const c=Is(a.shape,o,i,[1,1],l),h=n.makeOutput(c.outShape,a.dtype),g=n.makeOutput(c.outShape,"int32");return HO(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(h.dataId).id,n.dataIdMap.get(g.dataId).id,Tn[a.dtype],d,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[h,g]}const lse={kernelName:bw,backendName:"wasm",setupFunc:ise,kernelFunc:use};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let WO;function cse(t){WO=t.wasm.cwrap(mv,null,["number, number, number"])}function dse(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n,l=e.dataIdMap.get(i.dataId).id;let d=l,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);let b=h;if(v){const I=e.dataIdMap.get(c.dataId).id;I!==l&&(f=c,d=I,b=Ua(b.length,f.shape.length))}za("mean",b,f.shape.length);const[w,x]=Ba(f.shape,b),E=Ce(x);let T=f;f.dtype!=="float32"&&(T=ju({backend:e,inputs:{x:f},attrs:{dtype:"float32"}}),d=e.dataIdMap.get(T.dataId).id);const C=e.makeOutput(w,"float32");if(Ce(f.shape)!==0){const I=e.dataIdMap.get(C.dataId).id;WO(d,E,I)}if(v&&e.disposeData(c.dataId),o){const I=ca(C.shape,g);C.shape=I}return f.dtype!=="float32"&&e.disposeData(T.dataId),C}const fse={kernelName:mv,backendName:"wasm",setupFunc:cse,kernelFunc:dse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let qO;function pse(t){qO=t.wasm.cwrap(gv,null,["number","number","number","number"])}function hse(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n,l=e.dataIdMap.get(i.dataId).id;let d=l,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);if(v){const C=e.dataIdMap.get(c.dataId).id;C!==l&&(f=c,d=C)}const b=f.shape.length;za("min",h,b);const[w,x]=Ba(f.shape,h),E=Ce(x),T=e.makeOutput(w,f.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;qO(d,Tn[i.dtype],E,C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const mse={kernelName:gv,backendName:"wasm",setupFunc:pse,kernelFunc:hse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gse=Br(vv);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Z_;(function(t){t[t.reflect=0]="reflect",t[t.symmetric=1]="symmetric"})(Z_||(Z_={}));let GO;function vse(t){GO=t.wasm.cwrap(yv,null,["number","array","number","number","array","array","number","number"])}function yse(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,mode:a}}=t,o=r.map((b,w)=>b[0]+e.shape[w]+b[1]),i=n.dataIdMap.get(e.dataId).id,l=n.makeOutput(o,e.dtype),d=n.dataIdMap.get(l.dataId).id,f=new Uint8Array(new Int32Array(e.shape).buffer),c=r.map(b=>b[0]),h=r.map(b=>b[1]),g=new Uint8Array(new Int32Array(c).buffer),v=new Uint8Array(new Int32Array(h).buffer);return GO(i,f,e.shape.length,Tn[e.dtype],g,v,Z_[a],d),l}const bse={kernelName:yv,backendName:"wasm",kernelFunc:yse,setupFunc:vse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let KO;function Sse(t){KO=t.wasm.cwrap(Xv,null,["number","number","number","number"])}function YO(t){const{backend:e,inputs:{logits:n},attrs:{dim:r}}=t,a=e.dataIdMap.get(n.dataId).id,o=e.makeOutput(n.shape,n.dtype),i=e.dataIdMap.get(o.dataId).id,l=n.shape[r],d=Ce(n.shape)/l;return Ce(o.shape)===0||KO(a,i,l,d),o}const wse={kernelName:Xv,backendName:"wasm",setupFunc:Sse,kernelFunc:YO};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let XO;function _se(t){XO=t.wasm.cwrap(Sv,null,["number","number","number","number","number","number"])}function xse(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:o,seed:i,normalized:l}=r;if(a.dtype!=="float32")throw new Error(`Tensor logits must have dtype float32, got ${a.dtype}`);const d=l?a:YO({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[f,c]=d.shape,h=n.makeOutput([f,o],"int32");return XO(n.dataIdMap.get(d.dataId).id,f,c,o,i,n.dataIdMap.get(h.dataId).id),l||n.disposeData(d.dataId),h}const Ese={kernelName:Sv,backendName:"wasm",setupFunc:_se,kernelFunc:xse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cse=Br(bv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tse=Br(wv);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kse=bn(Sw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J_(t,e){const n=new Int32Array(t.wasm.HEAPU8.buffer,e,4),r=n[0],a=n[1],o=n[2],i=n[3];return t.wasm._free(e),{pSelectedIndices:r,selectedSize:a,pSelectedScores:o,pValidOutputs:i}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let QO;function Ise(t){QO=t.wasm.cwrap(xv,"number",["number","number","number","number","number"])}function Rse(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i}=r,{boxes:l,scores:d}=n,f=e.dataIdMap.get(l.dataId).id,c=e.dataIdMap.get(d.dataId).id,h=QO(f,c,o,a,i),{pSelectedIndices:g,selectedSize:v,pSelectedScores:b,pValidOutputs:w}=J_(e,h);return e.wasm._free(b),e.wasm._free(w),e.makeOutput([v],"int32",g)}const Ase={kernelName:xv,backendName:"wasm",setupFunc:Ise,kernelFunc:Rse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ZO;function Nse(t){ZO=t.wasm.cwrap(Ev,"number",["number","number","number","number","number","bool"])}function Dse(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i,padToMaxOutputSize:l}=r,{boxes:d,scores:f}=n,c=e.dataIdMap.get(d.dataId).id,h=e.dataIdMap.get(f.dataId).id,g=ZO(c,h,o,a,i,l),{pSelectedIndices:v,selectedSize:b,pSelectedScores:w,pValidOutputs:x}=J_(e,g);e.wasm._free(w);const E=e.makeOutput([b],"int32",v),T=e.makeOutput([],"int32",x);return[E,T]}const Ose={kernelName:Ev,backendName:"wasm",setupFunc:Nse,kernelFunc:Dse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let JO;function Mse(t){JO=t.wasm.cwrap(Cv,"number",["number","number","number","number","number","number"])}function $se(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:i,softNmsSigma:l}=r,{boxes:d,scores:f}=n,c=e.dataIdMap.get(d.dataId).id,h=e.dataIdMap.get(f.dataId).id,g=JO(c,h,o,a,i,l),{pSelectedIndices:v,selectedSize:b,pSelectedScores:w,pValidOutputs:x}=J_(e,g);e.wasm._free(x);const E=e.makeOutput([b],"int32",v),T=e.makeOutput([b],"float32",w);return[E,T]}const Fse={kernelName:Cv,backendName:"wasm",setupFunc:Mse,kernelFunc:$se};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pse=Br(_v,!1,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let e4;function Lse(t){e4=t.wasm.cwrap(Tv,null,["number","number","number","number","number"])}function Bse(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:o,depth:i,onValue:l,offValue:d}=r,f=n.makeOutput([...a.shape,i],o),c=n.dataIdMap.get(f.dataId).id,g=n.dataIdMap.get(a.dataId).id;return e4(g,i,l,d,c),f}const zse={kernelName:Tv,backendName:"wasm",setupFunc:Lse,kernelFunc:Bse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Use(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(1),r}const Vse={kernelName:ww,backendName:"wasm",kernelFunc:Use};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jse(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return Q_({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const o=e[0].shape,i=e[0].dtype;e.forEach(c=>{So(o,c.shape,"All tensors passed to stack must have matching shapes"),W(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const l=[],d=e.map(c=>{const h=Q_({inputs:{input:c},backend:n,attrs:{dim:a}});return l.push(h),h}),f=dO({inputs:d,backend:n,attrs:{axis:a}});return l.forEach(c=>n.disposeData(c.dataId)),f}const Hse={kernelName:_w,backendName:"wasm",kernelFunc:jse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let t4;function Wse(t){t4=t.wasm.cwrap(kv,null,["number","array","number","number","array","array","number","number"])}function qse(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,constantValue:a}}=t,o=r.map((w,x)=>w[0]+e.shape[x]+w[1]);if(Ce(e.shape)===0)return IO({backend:n,attrs:{shape:o,value:a,dtype:e.dtype}});const i=n.dataIdMap.get(e.dataId).id,l=n.makeOutput(o,e.dtype),f=n.dataIdMap.get(l.dataId).id,c=new Uint8Array(new Int32Array(e.shape).buffer),h=r.map(w=>w[0]),g=r.map(w=>w[1]),v=new Uint8Array(new Int32Array(h).buffer),b=new Uint8Array(new Int32Array(g).buffer);return t4(i,c,e.shape.length,Tn[e.dtype],v,b,a,f),l}const n4={kernelName:kv,backendName:"wasm",kernelFunc:qse,setupFunc:Wse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gse=Br(Iv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let r4;function Kse(t){r4=t.wasm.cwrap(Rv,null,["number","number","number"])}function Yse(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e,o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id;let l=o;const d=r;let f=d;d.dtype!=="float32"&&(f=ju({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),l=n.dataIdMap.get(f.dataId).id);const c=n.makeOutput(r.shape,"float32"),h=n.dataIdMap.get(c.dataId).id;return r4(l,i,h),d.dtype!=="float32"&&n.disposeData(f.dataId),c}const Xse={kernelName:Rv,backendName:"wasm",setupFunc:Kse,kernelFunc:Yse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let a4;function Qse(t){a4=t.wasm.cwrap(Av,null,["number","number","number","number"])}function Zse(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n,l=e.dataIdMap.get(i.dataId).id;let d=l,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);let b=h;if(v){const C=e.dataIdMap.get(c.dataId).id;C!==l&&(f=c,d=C,b=Ua(b.length,f.shape.length))}za("prod",b,f.shape.length);const[w,x]=Ba(f.shape,b),E=Ce(x),T=e.makeOutput(w,f.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;a4(d,E,Tn[T.dtype],C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const Jse={kernelName:Av,backendName:"wasm",setupFunc:Qse,kernelFunc:Zse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eie={kernelName:xw,backendName:"wasm",kernelFunc:t=>{const{backend:e,attrs:n}=t,{start:r,stop:a,step:o,dtype:i}=n,l=tO(r,a,o,i),d=e.makeOutput([l.length],i);return e.typedArrayFromHeap(d).set(l),d}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tie=Br(Bg);/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nie=bn(Nv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rie=bn(Dv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aie=bn($v);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let o4;function oie(t){o4=t.wasm.cwrap(Mv,null,["number","number","number","number","number","number","number","number","number","number"])}function sie(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:o,halfPixelCenters:i,size:l}=r,[d,f]=l,[c,h,g,v]=a.shape,b=[c,d,f,v];let w=e.dataIdMap.get(a.dataId),x;w.dtype!=="float32"&&(x=ju({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),w=e.dataIdMap.get(x.dataId));const E=w.id,T=e.makeOutput(b,"float32");if(Ce(a.shape)===0)return T;const C=e.dataIdMap.get(T.dataId).id;return o4(E,c,h,g,v,d,f,o?1:0,i?1:0,C),x!=null&&e.disposeData(x.dataId),T}const iie={kernelName:Mv,backendName:"wasm",setupFunc:oie,kernelFunc:sie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let s4;function uie(t){s4=t.wasm.cwrap(Tw,null,["number","number","number","array","array","boolean"])}function lie(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:i}=r,l=n.makeOutput(a.shape,"float32");let d=n.dataIdMap.get(a.dataId),f;return d.dtype!=="float32"&&(f=ju({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),d=n.dataIdMap.get(f.dataId)),s4(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(l.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),i),f!=null&&n.disposeData(f.dataId),l}const cie={kernelName:Tw,backendName:"wasm",setupFunc:uie,kernelFunc:lie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let i4;function die(t){i4=t.wasm.cwrap(Ov,null,["number","number","number","number","number","number","number","number","number","number"])}function fie(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:o,halfPixelCenters:i,size:l}=r,[d,f]=l,[c,h,g,v]=a.shape,b=[c,d,f,v],w=e.makeOutput(b,"float32");if(Ce(a.shape)===0)return w;let x=e.dataIdMap.get(a.dataId),E;x.dtype!=="float32"&&(E=ju({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),x=e.dataIdMap.get(E.dataId));const T=x.id,C=e.dataIdMap.get(w.dataId).id;return i4(T,c,h,g,v,d,f,o?1:0,i?1:0,C),E!=null&&e.disposeData(E.dataId),w}const pie={kernelName:Ov,backendName:"wasm",setupFunc:die,kernelFunc:fie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let u4;function hie(t){u4=t.wasm.cwrap(Cw,null,["number","number","number","array","array","boolean"])}function mie(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:i}=r,l=n.makeOutput(a.shape,"float32");let d=n.dataIdMap.get(a.dataId),f;return d.dtype!=="float32"&&(f=ju({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),d=n.dataIdMap.get(f.dataId)),u4(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(l.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),i),f!=null&&n.disposeData(f.dataId),l}const gie={kernelName:Cw,backendName:"wasm",setupFunc:hie,kernelFunc:mie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let l4;function vie(t){l4=t.wasm.cwrap(Fv,null,["number","array","number","array","number","number"])}function yie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:o}=r,i=gr(o,a.shape);if(a.shape.length===0)return Gy({inputs:{x:a},backend:n});const l=n.makeOutput(a.shape,a.dtype),d=n.dataIdMap.get(a.dataId).id,f=n.dataIdMap.get(l.dataId).id,c=new Uint8Array(new Int32Array(i).buffer),h=new Uint8Array(new Int32Array(a.shape).buffer);l4(d,c,i.length,h,a.shape.length,f);const g=no({inputs:{x:l},attrs:{shape:a.shape},backend:n});return n.disposeData(l.dataId),g}const bie={kernelName:Fv,backendName:"wasm",kernelFunc:yie,setupFunc:vie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let c4;function Sie(t){c4=t.wasm.cwrap(sy,null,["number","number","number","number","number","number","number","number","array","number","number"])}function wie(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{radians:o,fillValue:i,center:l}=r,d=n.makeOutput(a.shape,a.dtype),f=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(d.dataId).id,[h,g,v,b]=a.shape,[w,x]=YN(l,g,v),E=i===0,T=255,C=typeof i=="number"?[i,i,i,E?0:T]:[...i,T],I=new Uint8Array(new Int32Array(C).buffer);return c4(f,h,g,v,b,o,w,x,I,C.length,c),d}const _ie={kernelName:sy,backendName:"wasm",kernelFunc:wie,setupFunc:Sie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xie=bn(Pv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eie=bn(Lv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let d4;function Cie(t){d4=t.wasm.cwrap(Bv,null,["number","number","number","number","number","number","array","number","number"])}function Tie(t){const{backend:e,inputs:n,attrs:r}=t,{indices:a,updates:o}=n,{shape:i}=r,l=e.makeOutput(i,o.dtype);if(Ce(i)===0)return l;const{sliceRank:d,numUpdates:f,sliceSize:c,strides:h,outputSize:g}=nd(o,a,i),b=e.dataIdMap.get(a.dataId).id,x=e.dataIdMap.get(o.dataId).id,E=new Uint8Array(new Int32Array(h).buffer),T=e.dataIdMap.get(l.dataId).id;return d4(b,x,Tn[o.dtype],d,f,c,E,g,T),l}const kie={kernelName:Bv,backendName:"wasm",setupFunc:Cie,kernelFunc:Tie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let f4;function Iie(t){f4=t.wasm.cwrap(Uv,null,["number","number","number","number","number","number","bool","number"])}function Rie(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:o}=e,{side:i}=r;if(a.dtype!==o.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${a.dtype} and ${o.dtype}`);const l=n.makeOutput(o.shape,"int32");function d(f){return n.dataIdMap.get(f.dataId).id}return f4(d(a),d(o),a.shape[0],a.shape[1],o.shape[1],Tn[a.dtype],i==="left",d(l)),l}const Aie={kernelName:Uv,backendName:"wasm",setupFunc:Iie,kernelFunc:Rie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let p4;function Nie(t){p4=t.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}function Die(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:o}=e,i=n.dataIdMap.get(r.dataId).id,l=n.dataIdMap.get(a.dataId).id,d=n.dataIdMap.get(o.dataId).id,f=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(f.dataId).id,h=r.shape.length,g=a.shape.length,v=h===0||h>1||g===1?1:Ce(a.shape.slice(1));return p4(i,l,d,v,c),f}const Oie={kernelName:kw,backendName:"wasm",kernelFunc:Die,setupFunc:Nie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mie=bn(Vv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let h4;function $ie(t){h4=t.wasm.cwrap(qv,null,["number","number"])}function Fie(t){const{backend:e,inputs:{x:n}}=t,r=e.dataIdMap.get(n.dataId).id,a=e.makeOutput(n.shape,n.dtype),o=e.dataIdMap.get(a.dataId).id;return Ce(a.shape)===0||h4(r,o),a}const Pie={kernelName:"Sigmoid",backendName:"wasm",setupFunc:$ie,kernelFunc:Fie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lie=bn(Wv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bie=bn(jv);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zie=bn(Hv);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uie=bn(Gv);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,paddings:i}=r,l=Ce(o),d=[[0,0]];d.push(...i);for(let F=1+o.length;F<a.shape.length;++F)d.push([0,0]);const f=n4.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:d,constantValue:0}}),c=Ly(f.shape,o,l,!1),h=By(c.length,o.length,!1),g=zy(f.shape,o,l,!1),w=no({inputs:{x:f},backend:n,attrs:{shape:c}}),T=Lu({inputs:{x:w},backend:n,attrs:{perm:h}}),D=no({inputs:{x:T},backend:n,attrs:{shape:g}});return n.disposeData(f.dataId),n.disposeData(w.dataId),n.disposeData(T.dataId),D}const jie={kernelName:Rw,backendName:"wasm",kernelFunc:Vie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let m4;function Hie(t){m4=t.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])}function Wie(t){const{backend:e,inputs:n}=t,{indices:r,values:a,denseShape:o,defaultValue:i}=n,l=r.shape[0],d=r.shape[1],f=e.readSync(o.dataId)[0],c=[l+f,d],h=e.dataIdMap.get(r.dataId).id,g=e.dataIdMap.get(a.dataId).id,v=e.dataIdMap.get(i.dataId).id,b=e.makeOutput(c,r.dtype),w=e.dataIdMap.get(b.dataId).id,x=e.makeOutput(c.slice(0,1),a.dtype),E=e.dataIdMap.get(x.dataId).id,T=e.makeOutput([f],"bool"),C=e.dataIdMap.get(T.dataId).id,I=e.makeOutput([l],r.dtype),D=e.dataIdMap.get(I.dataId).id,F=e.makeOutput([4],"int32"),B=e.dataIdMap.get(F.dataId).id,H=m4(h,g,Tn[a.dtype],l,f,d,v,w,E,C,D,B),z=e.readSync(F.dataId);let U;switch(z[0]){case 1:{U=nD(z[1]);break}case 2:{U=rD(z[1],z[2]);break}case 3:U=aD(z[1],z[2],z[3]);break;default:U=""}if(e.disposeData(F.dataId),U)throw e.disposeData(b.dataId),e.disposeData(x.dataId),e.disposeData(T.dataId),e.disposeData(I.dataId),new Error(U);let O=b,K=x;return H!==c[0]&&(O=Kl({inputs:{x:b},attrs:{begin:0,size:[H,d]},backend:e}),K=Kl({inputs:{x},attrs:{begin:0,size:H},backend:e}),e.disposeData(b.dataId),e.disposeData(x.dataId)),[O,K,T,I]}const qie={kernelName:Nw,backendName:"wasm",setupFunc:Hie,kernelFunc:Wie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let g4;function Gie(t){g4=t.wasm.cwrap(Qv,null,["number","number","number","number","number","number","number"])}function Kie(t){const{backend:e,inputs:n}=t,{inputIndices:r,inputShape:a,newShape:o}=n;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=e.dataIdMap.get(r.dataId).id,l=e.dataIdMap.get(a.dataId).id,d=e.dataIdMap.get(o.dataId).id,f=r.shape[0],c=Ce(o.shape),h=e.makeOutput([f,c],r.dtype),g=e.dataIdMap.get(h.dataId).id,v=e.makeOutput([c],o.dtype),b=e.dataIdMap.get(v.dataId).id,w=e.makeOutput([3],"int32"),x=e.dataIdMap.get(w.dataId).id;g4(i,l,d,f,g,b,x);const E=e.readSync(w.dataId);let T;switch(E[0]){case 0:{T=oD(E[1],E[2]);break}case 1:{T=sD(E[1],E[2]);break}case 2:T=iD();break;case 3:{const C=Array.from(e.readSync(a.dataId)),I=Array.from(e.readSync(v.dataId));T=uD(C,I);break}case 4:{const C=Array.from(e.readSync(a.dataId)),I=Array.from(e.readSync(v.dataId));T=lD(C,I);break}default:T=""}if(e.disposeData(w.dataId),T)throw e.disposeData(h.dataId),e.disposeData(v.dataId),new Error(T);return[h,v]}const Yie={kernelName:Qv,backendName:"wasm",setupFunc:Gie,kernelFunc:Kie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let v4;function y4(t){v4=t.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function b4(t,e){const{backend:n,inputs:r}=t,{data:a,indices:o,segmentIds:i}=r,l=o.shape[0],d=n.readSync(i.dataId,l-1,l)[0],c=l>0?d+1:0;if(c<0)throw new Error(Uy());const h=a.shape.slice();h[0]=c;const g=n.dataIdMap.get(a.dataId).id,v=n.dataIdMap.get(o.dataId).id,b=n.dataIdMap.get(i.dataId).id,w=n.makeOutput(h,a.dtype),x=n.dataIdMap.get(w.dataId).id,E=n.makeOutput([4],"int32"),T=n.dataIdMap.get(E.dataId).id;v4(g,Tn[a.dtype],a.shape[0],v,b,x,T,e,0);const C=n.readSync(E.dataId);let I;switch(C[0]){case 0:{I=Uy();break}case 1:{I=cD();break}case 2:I=dD(C[1],C[2]);break;case 3:I=fD(C[1],C[2],C[3]);break;default:I=""}if(n.disposeData(E.dataId),I)throw n.disposeData(w.dataId),new Error(I);return w}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xie(t){return b4(t,!0)}const Qie={kernelName:Dw,backendName:"wasm",setupFunc:y4,kernelFunc:Xie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zie(t){return b4(t,!1)}const Jie={kernelName:Ow,backendName:"wasm",setupFunc:y4,kernelFunc:Zie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let S4;function eue(t){S4=t.wasm.cwrap(Zv,null,["number","number","number","number","number","number","number","number","array","number","number"])}function tue(t){const{backend:e,inputs:n,attrs:r}=t,{sparseIndices:a,sparseValues:o,defaultValue:i}=n,{outputShape:l}=r,d=e.makeOutput(l,i.dtype);if(Ce(l)===0)return d;const{sliceRank:f,numUpdates:c,sliceSize:h,strides:g,outputSize:v}=nd(o,a,l),b=e.dataIdMap.get(a.dataId).id,w=e.dataIdMap.get(o.dataId).id,x=e.dataIdMap.get(i.dataId).id,E=new Uint8Array(new Int32Array(g).buffer),T=e.dataIdMap.get(d.dataId).id;return S4(b,w,o.shape.length,x,Tn[i.dtype],f,c,h,E,v,T),d}const nue={kernelName:Zv,backendName:"wasm",setupFunc:eue,kernelFunc:tue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rue(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{numOrSizeSplits:o,axis:i}=n,l=gr(i,a.shape)[0],d=tD(a,o,l),f=new Array(a.shape.length).fill(0),c=a.shape.slice();return d.map(h=>{const g=[...c];g[l]=h;const v=Kl({inputs:{x:a},attrs:{begin:f,size:g},backend:r});return f[l]+=h,v})}const aue={kernelName:Aw,backendName:"wasm",kernelFunc:rue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oue=bn(Kv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sue=bn(qR);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iue=Br(Jv);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let w4;function uue(t){w4=t.wasm.cwrap(np,null,["number","number","number","number"])}function lue(t){const{backend:e,inputs:n,attrs:r}=t,{alpha:a}=r,{x:o}=n,i=e.dataIdMap.get(o.dataId).id,l=e.makeOutput(o.shape,o.dtype),d=e.dataIdMap.get(l.dataId).id;return w4(i,a,Tn[o.dtype],d),l}const cue={kernelName:np,backendName:"wasm",setupFunc:uue,kernelFunc:lue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _4;function due(t){_4=t.wasm.cwrap(ey,null,["number","array","number","array","array","array","array","array","number","number"])}function fue(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{begin:o,end:i,strides:l,beginMask:d,endMask:f,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:g}=r,{finalShapeSparse:v,finalShape:b,isIdentity:w,sliceDim0:x,isSimpleSlice:E,begin:T,end:C,strides:I}=qN(a.shape,o,i,l,d,f,c,h,g);let D;if(w)D=no({inputs:{x:a},backend:e,attrs:{shape:b}});else if(x||E){W(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const F=VN(T,C,I),B=Kl({inputs:{x:a},backend:e,attrs:{begin:T,size:F}});D=no({inputs:{x:B},backend:e,attrs:{shape:b}}),e.disposeData(B.dataId)}else{const F=e.makeOutput(v,"float32"),B=e.dataIdMap.get(a.dataId).id,H=new Uint8Array(new Int32Array(yt(a.shape)).buffer),z=new Uint8Array(new Int32Array(T).buffer),U=new Uint8Array(new Int32Array(C).buffer),O=new Uint8Array(new Int32Array(I).buffer),K=new Uint8Array(new Int32Array(v).buffer),G=new Uint8Array(new Int32Array(yt(v)).buffer),Z=e.dataIdMap.get(F.dataId).id;_4(B,H,a.shape.length,z,U,O,K,G,v.length,Z),D=no({inputs:{x:F},backend:e,attrs:{shape:b}}),e.disposeData(F.dataId)}return D}const pue={kernelName:ey,backendName:"wasm",setupFunc:due,kernelFunc:fue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hue(t){const{backend:e,inputs:n,attrs:r}=t,{data:a,dataSplits:o}=n,{separator:i,nGramWidths:l,leftPad:d,rightPad:f,padWidth:c,preserveShortSequences:h}=r,g=e.readSync(a.dataId),v=e.readSync(o.dataId),[b,w]=aO(g,v,i,l,d,f,c,h),x=e.makeOutput([b.length],"string"),E=e.dataIdMap.get(x.dataId);E.stringBytes=b;const T=e.makeOutput(o.shape,"int32");return e.typedArrayFromHeap(T).set(w),[x,T]}const mue={kernelName:$w,backendName:"wasm",kernelFunc:hue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gue(t){const{backend:e,inputs:n,attrs:r}=t,{input:a,delimiter:o}=n,{skipEmpty:i}=r,l=e.readSync(a.dataId),d=e.readSync(o.dataId),[f,c,h]=oO(l,d[0],i),g=c.length,v=e.makeOutput([g,2],"int32");e.typedArrayFromHeap(v).set(f);const w=e.makeOutput([g],"string"),x=e.dataIdMap.get(w.dataId);x.stringBytes=c;const E=e.makeOutput([2],"int32");return e.typedArrayFromHeap(E).set(h),[v,w,E]}const vue={kernelName:Fw,backendName:"wasm",kernelFunc:gue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yue(t){const{backend:e,inputs:n,attrs:r}=t,{input:a}=n,{numBuckets:o}=r,i=e.readSync(a.dataId),l=sO(i,o),d=e.makeOutput(a.shape,"int32");return e.typedArrayFromHeap(d).set(l),d}const bue={kernelName:Pw,backendName:"wasm",kernelFunc:yue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sue=Br(ty);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let x4;function wue(t){x4=t.wasm.cwrap(Yv,null,["number","number","number","number"])}function _ue(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:i}=n,l=e.dataIdMap.get(i.dataId).id;let d=l,f=i;const{transposed:c,axes:h,originalAxes:g,inputWasTransposed:v}=Bu(i,a,e);let b=h;if(v){const C=e.dataIdMap.get(c.dataId).id;C!==l&&(f=c,d=C,b=Ua(b.length,f.shape.length))}za("sum",b,f.shape.length);const[w,x]=Ba(f.shape,b),E=Ce(x),T=e.makeOutput(w,f.dtype);if(Ce(f.shape)!==0){const C=e.dataIdMap.get(T.dataId).id;x4(d,E,Tn[T.dtype],C)}if(v&&e.disposeData(c.dataId),o){const C=ca(T.shape,g);T.shape=C}return T}const xue={kernelName:Yv,backendName:"wasm",setupFunc:wue,kernelFunc:_ue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eue=bn(ny);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cue=bn(ry);/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let E4;function Tue(t){E4=t.wasm.cwrap(zv,null,["number","number","number","number","number","number","array","number","number","number"])}function kue(t){const{backend:e,inputs:n,attrs:r}=t,{tensor:a,indices:o,updates:i}=n,l=e.makeOutput(a.shape,a.dtype);if(Ce(a.shape)===0)return l;const{sliceRank:d,numUpdates:f,sliceSize:c,strides:h,outputSize:g}=nd(i,o,a.shape),b=e.dataIdMap.get(o.dataId).id,x=e.dataIdMap.get(i.dataId).id,T=e.dataIdMap.get(a.dataId).id,C=new Uint8Array(new Int32Array(h).buffer),I=e.dataIdMap.get(l.dataId).id;return E4(b,x,Tn[i.dtype],d,f,c,C,g,I,T),l}const Iue={kernelName:zv,backendName:"wasm",setupFunc:Tue,kernelFunc:kue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let C4;function Rue(t){C4=t.wasm.cwrap(tp,null,["number","array","number","array","number","number"])}function Aue(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,o=n.dataIdMap.get(a.dataId).id,{reps:i}=r,l=new Array(a.shape.length);for(let g=0;g<l.length;g++)l[g]=a.shape[g]*i[g];const d=new Uint8Array(new Int32Array(a.shape).buffer),f=new Uint8Array(new Int32Array(l).buffer),c=n.makeOutput(l,a.dtype),h=n.dataIdMap.get(c.dataId).id;return C4(o,d,a.shape.length,f,l.length,Tn[c.dtype],h),c}const Nue={kernelName:tp,backendName:"wasm",setupFunc:Rue,kernelFunc:Aue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let T4;function Due(t){T4=t.wasm.cwrap(ay,null,["number","array","number","number","number","bool","number","number"])}const Oue={kernelName:ay,backendName:"wasm",setupFunc:Due,kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{k:a,sorted:o}=n,i=e.dataIdMap.get(r.dataId).id,l=new Uint8Array(new Int32Array(r.shape).buffer),d=r.shape.slice();d[d.length-1]=a;const f=e.makeOutput(d,r.dtype),c=e.dataIdMap.get(f.dataId).id,h=e.makeOutput(d,"int32"),g=e.dataIdMap.get(h.dataId).id;return T4(i,l,r.shape.length,Tn[r.dtype],a,o,c,g),[f,h]}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let k4;function Mue(t){k4=t.wasm.cwrap(oy,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])}function $ue(t){const{backend:e,inputs:n,attrs:r}=t,{image:a,transforms:o}=n,{interpolation:i,fillMode:l,fillValue:d,outputShape:f}=r,[c,h,g,v]=a.shape,[b,w]=f??[h,g],x=[c,b,w,v],E=new Uint8Array(new Int32Array(yt(a.shape)).buffer),T=new Uint8Array(new Int32Array(yt(x)).buffer),C=e.makeOutput(x,a.dtype),I=e.dataIdMap.get(C.dataId).id,F=e.dataIdMap.get(a.dataId).id,H=e.dataIdMap.get(o.dataId).id,z=i==="nearest"?1:2;let U;switch(l){case"constant":U=1;break;case"reflect":U=2;break;case"wrap":U=3;break;case"nearest":U=4;break;default:U=1;break}return k4(F,H,o.shape[0]>1,c,b,w,v,g,h,E,a.shape.length-1,T,x.length-1,z,U,d,I),C}const Fue={kernelName:oy,backendName:"wasm",setupFunc:Mue,kernelFunc:$ue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pue(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:o}=e,{outputValues:i,outputShape:l,indices:d}=uO(r.readSync(o.dataId),a,o.shape,o.dtype);return[r.makeOutput(l,o.dtype,void 0,i),r.makeOutput([d.length],"int32",void 0,d)]}const Lue={kernelName:Lw,backendName:"wasm",kernelFunc:Pue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bue(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:o}=r;o<0&&(o+=a.shape.length);const i=a.shape[o],l=a.shape.length,d=new Array(l-1);let f=0;for(let v=0;v<l;v++)v!==o&&(d[f++]=a.shape[v]);const c=new Array(i),h=new Array(l).fill(0),g=a.shape.slice();g[o]=1;for(let v=0;v<c.length;v++)h[o]=v,c[v]=Kl({inputs:{x:a},attrs:{begin:h,size:g},backend:n});return c.map(({dataId:v,dtype:b})=>({dataId:v,dtype:b,shape:d}))}const zue={kernelName:Bw,backendName:"wasm",kernelFunc:Bue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uue(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(0),r}const Vue={kernelName:zw,backendName:"wasm",kernelFunc:Uue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jue=[ete,tte,nte,rte,ate,ite,mte,yte,bte,Ste,wte,_te,xte,Ete,Cte,Ite,Pte,Nte,Mte,Ute,Lre,Ure,Vre,Hre,Wre,qre,Yre,Xre,Jre,nae,oae,uae,dae,fae,pae,gae,bae,_ae,Cae,Iae,Nae,Mae,Pae,zae,jae,Hae,Gae,Kae,Yae,Xae,Qae,Zae,Jae,noe,roe,aoe,ioe,coe,poe,goe,boe,Soe,woe,ute,_oe,xoe,Eoe,koe,Ioe,Roe,Doe,Moe,Ooe,$oe,Foe,Poe,Loe,Uoe,Hoe,Goe,Koe,Qoe,ese,rse,sse,lse,fse,mse,gse,bse,Ese,Cse,Tse,kse,Ase,Ose,Fse,Pse,zse,Vse,Hse,n4,Gse,Xse,Jse,eie,tie,nie,rie,aie,Lte,iie,cie,pie,gie,bie,_ie,xie,Eie,kie,Aie,Oie,Mie,Pie,Lie,Bie,zie,Fre,wse,Uie,jie,qie,Yie,Qie,Jie,nue,aue,oue,sue,iue,cue,pue,mue,vue,bue,Sue,xue,Eue,Cue,Iue,Nue,Oue,Fue,fte,Lue,zue,Vue];for(const t of jue)QR(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ex=Zt();ex.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch{return!1}}),ex.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(ex.get("IS_NODE"))return!1;try{return new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}});var tx={exports:{}},I4;function Hue(){return I4||(I4=1,function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};function o(){return le.buffer!=Le&&bt(le.buffer),je}function i(){return le.buffer!=Le&&bt(le.buffer),Ue}function l(){return le.buffer!=Le&&bt(le.buffer),Ze}function d(){return le.buffer!=Le&&bt(le.buffer),it}function f(){return le.buffer!=Le&&bt(le.buffer),Je}var c=typeof a<"u"?a:{},h,g;c.ready=new Promise(function(X,de){h=X,g=de});var v;typeof process<"u"&&process.listeners&&(v={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var b=Object.assign({},c),w=(X,de)=>{throw de},x=typeof window=="object",E=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",C=c.ENVIRONMENT_IS_PTHREAD||!1,I="";function D(X){return c.locateFile?c.locateFile(X,I):I+X}var F,B,H;function z(X){if(X instanceof an)return;J("exiting due to exception: "+X)}if(T){var U=Fu,O=Fu;E?I=O.dirname(I)+"/":I=__dirname+"/",F=(de,$e)=>(de=rn(de)?new URL(de):O.normalize(de),U.readFileSync(de,$e?void 0:"utf8")),H=de=>{var $e=F(de,!0);return $e.buffer||($e=new Uint8Array($e)),$e},B=(de,$e,ct)=>{de=rn(de)?new URL(de):O.normalize(de),U.readFile(de,function(xt,Pt){xt?ct(xt):$e(Pt.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(de){if(!(de instanceof an))throw de}),process.on("unhandledRejection",function(de){throw de}),w=(de,$e)=>{if(Vt())throw process.exitCode=de,$e;z($e),process.exit(de)},c.inspect=function(){return"[Emscripten Module object]"};let X;try{X=Fu}catch(de){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),de}xu.Worker=X.Worker}else(x||E)&&(E?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),typeof r<"u"&&r&&(I=r),I.indexOf("blob:")!==0?I=I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):I="",T||(F=X=>{var de=new XMLHttpRequest;return de.open("GET",X,!1),de.send(null),de.responseText},E&&(H=X=>{var de=new XMLHttpRequest;return de.open("GET",X,!1),de.responseType="arraybuffer",de.send(null),new Uint8Array(de.response)}),B=(X,de,$e)=>{var ct=new XMLHttpRequest;ct.open("GET",X,!0),ct.responseType="arraybuffer",ct.onload=()=>{if(ct.status==200||ct.status==0&&ct.response){de(ct.response);return}$e()},ct.onerror=$e,ct.send(null)}));T&&typeof performance>"u"&&(xu.performance=Fu.performance);var K=console.log.bind(console),G=console.warn.bind(console);T&&(K=X=>U.writeSync(1,X+`
`),G=X=>U.writeSync(2,X+`
`));var Z=c.print||K,J=c.printErr||G;Object.assign(c,b),b=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&(w=c.quit);var se;c.wasmBinary&&(se=c.wasmBinary);var oe=c.noExitRuntime||!0;typeof WebAssembly!="object"&&at("no native wasm support detected");var le,pe,ye=!1,ve;function Ee(X,de){X||at(de)}var _e=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ie(X,de,$e){de>>>=0;for(var ct=de+$e,xt=de;X[xt]&&!(xt>=ct);)++xt;if(xt-de>16&&X.buffer&&_e)return _e.decode(X.buffer instanceof SharedArrayBuffer?X.slice(de,xt):X.subarray(de,xt));for(var Pt="";de<xt;){var Qe=X[de++];if(!(Qe&128)){Pt+=String.fromCharCode(Qe);continue}var dt=X[de++]&63;if((Qe&224)==192){Pt+=String.fromCharCode((Qe&31)<<6|dt);continue}var On=X[de++]&63;if((Qe&240)==224?Qe=(Qe&15)<<12|dt<<6|On:Qe=(Qe&7)<<18|dt<<12|On<<6|X[de++]&63,Qe<65536)Pt+=String.fromCharCode(Qe);else{var Nr=Qe-65536;Pt+=String.fromCharCode(55296|Nr>>10,56320|Nr&1023)}}return Pt}function De(X,de){return X>>>=0,X?Ie(i(),X,de):""}function ze(X,de,$e,ct){if($e>>>=0,!(ct>0))return 0;for(var xt=$e,Pt=$e+ct-1,Qe=0;Qe<X.length;++Qe){var dt=X.charCodeAt(Qe);if(dt>=55296&&dt<=57343){var On=X.charCodeAt(++Qe);dt=65536+((dt&1023)<<10)|On&1023}if(dt<=127){if($e>=Pt)break;de[$e++>>>0]=dt}else if(dt<=2047){if($e+1>=Pt)break;de[$e++>>>0]=192|dt>>6,de[$e++>>>0]=128|dt&63}else if(dt<=65535){if($e+2>=Pt)break;de[$e++>>>0]=224|dt>>12,de[$e++>>>0]=128|dt>>6&63,de[$e++>>>0]=128|dt&63}else{if($e+3>=Pt)break;de[$e++>>>0]=240|dt>>18,de[$e++>>>0]=128|dt>>12&63,de[$e++>>>0]=128|dt>>6&63,de[$e++>>>0]=128|dt&63}}return de[$e>>>0]=0,$e-xt}function Ve(X,de,$e){return ze(X,i(),de,$e)}var Le,je,Ue,Ze,it,Je;C&&(Le=c.buffer);function bt(X){Le=X,c.HEAP8=je=new Int8Array(X),c.HEAP16=new Int16Array(X),c.HEAP32=Ze=new Int32Array(X),c.HEAPU8=Ue=new Uint8Array(X),c.HEAPU16=new Uint16Array(X),c.HEAPU32=it=new Uint32Array(X),c.HEAPF32=new Float32Array(X),c.HEAPF64=Je=new Float64Array(X)}var pt=c.INITIAL_MEMORY||16777216;if(C)le=c.wasmMemory,Le=c.buffer;else if(c.wasmMemory)le=c.wasmMemory;else if(le=new WebAssembly.Memory({initial:pt/65536,maximum:65536,shared:!0}),!(le.buffer instanceof SharedArrayBuffer))throw J("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),T&&J("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");le&&(Le=le.buffer),pt=Le.byteLength,bt(Le);var et,Lt=[],Ht=[],Gt=[];function Vt(){return oe}function En(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Hn(c.preRun.shift());nn(Lt)}function tn(){C||nn(Ht)}function mn(){if(!C){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Dn(c.postRun.shift());nn(Gt)}}function Hn(X){Lt.unshift(X)}function Sn(X){Ht.unshift(X)}function Dn(X){Gt.unshift(X)}var Cn=0,or=null;function ur(X){Cn++,c.monitorRunDependencies&&c.monitorRunDependencies(Cn)}function We(X){if(Cn--,c.monitorRunDependencies&&c.monitorRunDependencies(Cn),Cn==0&&or){var de=or;or=null,de()}}function at(X){c.onAbort&&c.onAbort(X),X="Aborted("+X+")",J(X),ye=!0,ve=1,X+=". Build with -sASSERTIONS for more info.";var de=new WebAssembly.RuntimeError(X);throw g(de),de}var $t="data:application/octet-stream;base64,";function Kt(X){return X.startsWith($t)}function rn(X){return X.startsWith("file://")}var Bt;Bt="tfjs-backend-wasm-threaded-simd.wasm",Kt(Bt)||(Bt=D(Bt));function Ln(X){try{if(X==Bt&&se)return new Uint8Array(se);if(H)return H(X);throw"both async and sync fetching of the wasm failed"}catch(de){at(de)}}function br(){if(!se&&(x||E)){if(typeof fetch=="function"&&!rn(Bt))return fetch(Bt,{credentials:"same-origin"}).then(function(X){if(!X.ok)throw"failed to load wasm binary file at '"+Bt+"'";return X.arrayBuffer()}).catch(function(){return Ln(Bt)});if(B)return new Promise(function(X,de){B(Bt,function($e){X(new Uint8Array($e))},de)})}return Promise.resolve().then(function(){return Ln(Bt)})}function kn(){var X={env:hi,wasi_snapshot_preview1:hi};function de(Qe,dt){var On=Qe.exports;if(c.asm=On,ee(c.asm._emscripten_tls_init),et=c.asm.__indirect_function_table,Sn(c.asm.__wasm_call_ctors),pe=dt,!C){var Nr=Ge.unusedWorkers.length;Ge.unusedWorkers.forEach(function(uo){Ge.loadWasmModuleToWorker(uo,function(){--Nr||We()})})}}C||ur();function $e(Qe){de(Qe.instance,Qe.module)}function ct(Qe){return br().then(function(dt){return WebAssembly.instantiate(dt,X)}).then(function(dt){return dt}).then(Qe,function(dt){J("failed to asynchronously prepare wasm: "+dt),at(dt)})}function xt(){return!se&&typeof WebAssembly.instantiateStreaming=="function"&&!Kt(Bt)&&!rn(Bt)&&!T&&typeof fetch=="function"?fetch(Bt,{credentials:"same-origin"}).then(function(Qe){var dt=WebAssembly.instantiateStreaming(Qe,X);return dt.then($e,function(On){return J("wasm streaming compile failed: "+On),J("falling back to ArrayBuffer instantiation"),ct($e)})}):ct($e)}if(c.instantiateWasm)try{var Pt=c.instantiateWasm(X,de);return Pt}catch(Qe){J("Module.instantiateWasm callback failed with error: "+Qe),g(Qe)}return xt().catch(g),{}}var In={};function an(X){this.name="ExitStatus",this.message="Program terminated with exit("+X+")",this.status=X}function ha(X){var de=Ge.pthreads[X];delete Ge.pthreads[X],de.terminate(),Ls(X),Ge.runningWorkers.splice(Ge.runningWorkers.indexOf(de),1),de.pthread_ptr=0}function er(X){var de=Ge.pthreads[X];de.postMessage({cmd:"cancel"})}function on(X){var de=Ge.pthreads[X];Ee(de),Ge.returnWorkerToPool(de)}function Jr(X){var de=Ge.getNewWorker();if(!de)return 6;Ge.runningWorkers.push(de),Ge.pthreads[X.pthread_ptr]=de,de.pthread_ptr=X.pthread_ptr;var $e={cmd:"run",start_routine:X.startRoutine,arg:X.arg,pthread_ptr:X.pthread_ptr};return de.runPthread=()=>{T&&de.ref(),de.postMessage($e,X.transferList),delete de.runPthread},de.loaded&&de.runPthread(),0}function Rr(X){if(C)return Eo(1,1,X);ve=X,Vt()||(Ge.terminateAllThreads(),c.onExit&&c.onExit(X),ye=!0),w(X,new an(X))}function xe(X,de){if(ve=X,!de&&C)throw Tt(X),"unwind";Rr(X)}var Pe=xe;function gt(X){if(X instanceof an||X=="unwind")return ve;w(1,X)}var Ge={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){C?Ge.initWorker():Ge.initMainThread()},initMainThread:function(){for(var X=8;X--;)Ge.allocateUnusedWorker()},initWorker:function(){oe=!1},setExitStatus:function(X){ve=X},terminateAllThreads:function(){for(var X of Object.values(Ge.pthreads))Ge.returnWorkerToPool(X);for(var X of Ge.unusedWorkers)X.terminate();Ge.unusedWorkers=[]},returnWorkerToPool:function(X){var de=X.pthread_ptr;delete Ge.pthreads[de],Ge.unusedWorkers.push(X),Ge.runningWorkers.splice(Ge.runningWorkers.indexOf(X),1),X.pthread_ptr=0,T&&X.unref(),Ls(de)},receiveObjectTransfer:function(X){},threadInitTLS:function(){Ge.tlsInitFunctions.forEach(X=>X())},loadWasmModuleToWorker:function(X,de){X.onmessage=Pt=>{var Qe=Pt.data,dt=Qe.cmd;if(X.pthread_ptr&&(Ge.currentProxiedOperationCallerThread=X.pthread_ptr),Qe.targetThread&&Qe.targetThread!=ja()){var On=Ge.pthreads[Qe.targetThread];On?On.postMessage(Qe,Qe.transferList):J('Internal error! Worker sent a message "'+dt+'" to target pthread '+Qe.targetThread+", but that thread no longer exists!"),Ge.currentProxiedOperationCallerThread=void 0;return}dt==="processProxyingQueue"?hr(Qe.queue):dt==="spawnThread"?Jr(Qe):dt==="cleanupThread"?on(Qe.thread):dt==="killThread"?ha(Qe.thread):dt==="cancelThread"?er(Qe.thread):dt==="loaded"?(X.loaded=!0,T&&X.unref(),de&&de(X),X.runPthread&&X.runPthread()):dt==="print"?Z("Thread "+Qe.threadId+": "+Qe.text):dt==="printErr"?J("Thread "+Qe.threadId+": "+Qe.text):dt==="alert"?alert("Thread "+Qe.threadId+": "+Qe.text):Qe.target==="setimmediate"?X.postMessage(Qe):dt==="callHandler"?c[Qe.handler](...Qe.args):dt&&J("worker sent an unknown command "+dt),Ge.currentProxiedOperationCallerThread=void 0},X.onerror=Pt=>{var Qe="worker sent an error!";throw J(Qe+" "+Pt.filename+":"+Pt.lineno+": "+Pt.message),Pt},T&&(X.on("message",function(Pt){X.onmessage({data:Pt})}),X.on("error",function(Pt){X.onerror(Pt)}),X.on("detachedExit",function(){}));var $e=[],ct=["onExit","onAbort","print","printErr"];for(var xt of ct)c.hasOwnProperty(xt)&&$e.push(xt);X.postMessage({cmd:"load",handlers:$e,urlOrBlob:c.mainScriptUrlOrBlob||r,wasmMemory:le,wasmModule:pe})},allocateUnusedWorker:function(){var X,de=D("tfjs-backend-wasm-threaded-simd.worker.js");X=new Worker(de),Ge.unusedWorkers.push(X)},getNewWorker:function(){return Ge.unusedWorkers.length==0&&(Ge.allocateUnusedWorker(),Ge.loadWasmModuleToWorker(Ge.unusedWorkers[0])),Ge.unusedWorkers.pop()}};c.PThread=Ge;function nn(X){for(;X.length>0;)X.shift()(c)}function Yt(){var X=ja(),de=l()[X+52>>>2],$e=l()[X+56>>>2],ct=de-$e;eu(de,ct),At(de)}c.establishStackSpace=Yt;function Tt(X){if(C)return Eo(2,0,X);try{Pe(X)}catch(de){gt(de)}}var Et=[];function zn(X){var de=Et[X];return de||(X>=Et.length&&(Et.length=X+1),Et[X]=de=et.get(X)),de}function Er(X,de){var $e=zn(X)(de);Vt()?Ge.setExitStatus($e):sn($e)}c.invokeEntryPoint=Er;function ee(X){Ge.tlsInitFunctions.push(X)}function Me(X){Zi(X,!E,1,!x),Ge.threadInitTLS()}function He(X){C?postMessage({cmd:"cleanupThread",thread:X}):on(X)}function St(X,de,$e,ct){return C?Eo(3,1,X,de,$e,ct):ot(X,de,$e,ct)}function ot(X,de,$e,ct){if(typeof SharedArrayBuffer>"u")return J("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var xt=[],Pt=0;if(C&&(xt.length===0||Pt))return St(X,de,$e,ct);var Qe={startRoutine:$e,pthread_ptr:X,arg:ct,transferList:xt};return C?(Qe.cmd="spawnThread",postMessage(Qe,xt),0):Jr(Qe)}function Ft(){return 65536}var _t=!0;function Wt(){return _t}function hr(X){Atomics.store(l(),X>>2,1),ja()&&Ji(X),Atomics.compareExchange(l(),X>>2,1,0)}c.executeNotifiedProxyingQueue=hr;function Wn(X,de,$e,ct){if(X==de)setTimeout(()=>hr(ct));else if(C)postMessage({targetThread:X,cmd:"processProxyingQueue",queue:ct});else{var xt=Ge.pthreads[X];if(!xt)return;xt.postMessage({cmd:"processProxyingQueue",queue:ct})}return 1}function Qn(X,de,$e){return-1}function Cr(){at("")}function ea(X){ea.shown||(ea.shown={}),ea.shown[X]||(ea.shown[X]=1,T&&(X="warning: "+X),J(X))}function ls(){T||E||ea("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function ma(){return Date.now()}function xo(){return 4294901760}function Xt(){return xo()}var Lo;T?Lo=()=>{var X=process.hrtime();return X[0]*1e3+X[1]/1e6}:Lo=()=>performance.timeOrigin+performance.now();function Zu(X,de,$e){i().copyWithin(X>>>0,de>>>0,de+$e>>>0)}function Ki(){return T?Fu.cpus().length:navigator.hardwareConcurrency}function Bo(X){var de=Ha(),$e=X();return At(de),$e}function Eo(X,de){var $e=arguments.length-2,ct=arguments;return Bo(()=>{for(var xt=$e,Pt=fs(xt*8),Qe=Pt>>3,dt=0;dt<$e;dt++){var On=ct[2+dt];f()[Qe+dt>>>0]=On}return Co(X,xt,Pt,de)})}var Ms=[];function Yi(X,de,$e){Ms.length=de;for(var ct=$e>>3,xt=0;xt<de;xt++)Ms[xt]=f()[ct+xt>>>0];var Pt=X<0,Qe=Pt?In[-X-1]:qr[X];return Qe.apply(null,Ms)}function Xi(X){try{return le.grow(X-Le.byteLength+65535>>>16),bt(le.buffer),1}catch{}}function fi(X){var de=i().length;if(X=X>>>0,X<=de)return!1;var $e=xo();if(X>$e)return!1;let ct=(On,Nr)=>On+(Nr-On%Nr)%Nr;for(var xt=1;xt<=4;xt*=2){var Pt=de*(1+.2/xt);Pt=Math.min(Pt,X+100663296);var Qe=Math.min($e,ct(Math.max(X,Pt),65536)),dt=Xi(Qe);if(dt)return!0}return!1}function Qi(){throw"unwind"}function $s(X){return C?Eo(4,1,X):52}function cs(X,de,$e,ct,xt){return C?Eo(5,1,X,de,$e,ct,xt):70}var Fs=[null,[],[]];function ga(X,de){var $e=Fs[X];de===0||de===10?((X===1?Z:J)(Ie($e,0)),$e.length=0):$e.push(de)}function Ar(X,de,$e,ct){if(C)return Eo(6,1,X,de,$e,ct);for(var xt=0,Pt=0;Pt<$e;Pt++){var Qe=d()[de>>>2],dt=d()[de+4>>>2];de+=8;for(var On=0;On<dt;On++)ga(X,i()[Qe+On>>>0]);xt+=dt}return d()[ct>>>2]=xt,0}function zo(X){var de=c["_"+X];return de}function pi(X,de){o().set(X,de>>>0)}function ds(X,de,$e,ct,xt){var Pt={string:lr=>{var lo=0;if(lr!=null&&lr!==0){var Ho=(lr.length<<2)+1;lo=fs(Ho),Ve(lr,lo,Ho)}return lo},array:lr=>{var lo=fs(lr.length);return pi(lr,lo),lo}};function Qe(lr){return de==="string"?De(lr):de==="boolean"?!!lr:lr}var dt=zo(X),On=[],Nr=0;if(ct)for(var uo=0;uo<ct.length;uo++){var Vo=Pt[$e[uo]];Vo?(Nr===0&&(Nr=Ha()),On[uo]=Vo(ct[uo])):On[uo]=ct[uo]}var jo=dt.apply(null,On);function tu(lr){return Nr!==0&&At(Nr),Qe(lr)}return jo=tu(jo),jo}function Ps(X,de,$e,ct){$e=$e||[];var xt=$e.every(Qe=>Qe==="number"||Qe==="boolean"),Pt=de!=="string";return Pt&&xt&&!ct?zo(X):function(){return ds(X,de,$e,arguments)}}Ge.init();var qr=[null,Rr,Tt,St,$s,cs,Ar],hi={__emscripten_init_main_thread_js:Me,__emscripten_thread_cleanup:He,__pthread_create_js:ot,_emscripten_default_pthread_stack_size:Ft,_emscripten_get_now_is_monotonic:Wt,_emscripten_notify_task_queue:Wn,_emscripten_set_offscreencanvas_size:Qn,abort:Cr,emscripten_check_blocking_allowed:ls,emscripten_date_now:ma,emscripten_get_heap_max:Xt,emscripten_get_now:Lo,emscripten_memcpy_big:Zu,emscripten_num_logical_cores:Ki,emscripten_receive_on_main_thread_js:Yi,emscripten_resize_heap:fi,emscripten_unwind_to_js_event_loop:Qi,exit:Pe,fd_close:$s,fd_seek:cs,fd_write:Ar,memory:le||c.wasmMemory};kn(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},c._init=function(){return(c._init=c.asm.init).apply(null,arguments)},c._init_with_threads_count=function(){return(c._init_with_threads_count=c.asm.init_with_threads_count).apply(null,arguments)},c._get_threads_count=function(){return(c._get_threads_count=c.asm.get_threads_count).apply(null,arguments)},c._register_tensor=function(){return(c._register_tensor=c.asm.register_tensor).apply(null,arguments)},c._dispose_data=function(){return(c._dispose_data=c.asm.dispose_data).apply(null,arguments)},c._dispose=function(){return(c._dispose=c.asm.dispose).apply(null,arguments)},c._Abs=function(){return(c._Abs=c.asm.Abs).apply(null,arguments)},c._Acos=function(){return(c._Acos=c.asm.Acos).apply(null,arguments)},c._Acosh=function(){return(c._Acosh=c.asm.Acosh).apply(null,arguments)},c._Add=function(){return(c._Add=c.asm.Add).apply(null,arguments)},c._AddN=function(){return(c._AddN=c.asm.AddN).apply(null,arguments)},c._All=function(){return(c._All=c.asm.All).apply(null,arguments)},c._Any=function(){return(c._Any=c.asm.Any).apply(null,arguments)},c._ArgMax=function(){return(c._ArgMax=c.asm.ArgMax).apply(null,arguments)},c._ArgMin=function(){return(c._ArgMin=c.asm.ArgMin).apply(null,arguments)},c._Asin=function(){return(c._Asin=c.asm.Asin).apply(null,arguments)},c._Asinh=function(){return(c._Asinh=c.asm.Asinh).apply(null,arguments)},c._Atan=function(){return(c._Atan=c.asm.Atan).apply(null,arguments)},c._Atan2=function(){return(c._Atan2=c.asm.Atan2).apply(null,arguments)},c._Atanh=function(){return(c._Atanh=c.asm.Atanh).apply(null,arguments)},c._AvgPool=function(){return(c._AvgPool=c.asm.AvgPool).apply(null,arguments)},c._AvgPool3D=function(){return(c._AvgPool3D=c.asm.AvgPool3D).apply(null,arguments)},c._AvgPool3DGrad=function(){return(c._AvgPool3DGrad=c.asm.AvgPool3DGrad).apply(null,arguments)},c._AvgPoolGrad=function(){return(c._AvgPoolGrad=c.asm.AvgPoolGrad).apply(null,arguments)},c._BatchMatMul=function(){return(c._BatchMatMul=c.asm.BatchMatMul).apply(null,arguments)},c._Bincount=function(){return(c._Bincount=c.asm.Bincount).apply(null,arguments)},c._BitwiseAnd=function(){return(c._BitwiseAnd=c.asm.BitwiseAnd).apply(null,arguments)},c._Ceil=function(){return(c._Ceil=c.asm.Ceil).apply(null,arguments)},c._ClipByValue=function(){return(c._ClipByValue=c.asm.ClipByValue).apply(null,arguments)},c._Conv2D=function(){return(c._Conv2D=c.asm.Conv2D).apply(null,arguments)},c._Conv2DBackpropInput=function(){return(c._Conv2DBackpropInput=c.asm.Conv2DBackpropInput).apply(null,arguments)},c._Conv3D=function(){return(c._Conv3D=c.asm.Conv3D).apply(null,arguments)},c._Conv3DBackpropFilterV2=function(){return(c._Conv3DBackpropFilterV2=c.asm.Conv3DBackpropFilterV2).apply(null,arguments)},c._Conv3DBackpropInputV2=function(){return(c._Conv3DBackpropInputV2=c.asm.Conv3DBackpropInputV2).apply(null,arguments)},c._Cos=function(){return(c._Cos=c.asm.Cos).apply(null,arguments)},c._Cosh=function(){return(c._Cosh=c.asm.Cosh).apply(null,arguments)},c._CropAndResize=function(){return(c._CropAndResize=c.asm.CropAndResize).apply(null,arguments)},c._Cumprod=function(){return(c._Cumprod=c.asm.Cumprod).apply(null,arguments)},c._Cumsum=function(){return(c._Cumsum=c.asm.Cumsum).apply(null,arguments)},c._DenseBincount=function(){return(c._DenseBincount=c.asm.DenseBincount).apply(null,arguments)},c._DepthToSpace=function(){return(c._DepthToSpace=c.asm.DepthToSpace).apply(null,arguments)},c._DepthwiseConv2dNative=function(){return(c._DepthwiseConv2dNative=c.asm.DepthwiseConv2dNative).apply(null,arguments)},c._Diag=function(){return(c._Diag=c.asm.Diag).apply(null,arguments)},c._Dilation2D=function(){return(c._Dilation2D=c.asm.Dilation2D).apply(null,arguments)},c._Dilation2DBackpropFilter=function(){return(c._Dilation2DBackpropFilter=c.asm.Dilation2DBackpropFilter).apply(null,arguments)},c._Dilation2DBackpropInput=function(){return(c._Dilation2DBackpropInput=c.asm.Dilation2DBackpropInput).apply(null,arguments)},c._Elu=function(){return(c._Elu=c.asm.Elu).apply(null,arguments)},c._EluGrad=function(){return(c._EluGrad=c.asm.EluGrad).apply(null,arguments)},c._Equal=function(){return(c._Equal=c.asm.Equal).apply(null,arguments)},c._Erf=function(){return(c._Erf=c.asm.Erf).apply(null,arguments)},c._Exp=function(){return(c._Exp=c.asm.Exp).apply(null,arguments)},c._Expm1=function(){return(c._Expm1=c.asm.Expm1).apply(null,arguments)},c._FlipLeftRight=function(){return(c._FlipLeftRight=c.asm.FlipLeftRight).apply(null,arguments)},c._Floor=function(){return(c._Floor=c.asm.Floor).apply(null,arguments)},c._FloorDiv=function(){return(c._FloorDiv=c.asm.FloorDiv).apply(null,arguments)},c._FusedBatchNorm=function(){return(c._FusedBatchNorm=c.asm.FusedBatchNorm).apply(null,arguments)},c._FusedConv2D=function(){return(c._FusedConv2D=c.asm.FusedConv2D).apply(null,arguments)},c._FusedDepthwiseConv2D=function(){return(c._FusedDepthwiseConv2D=c.asm.FusedDepthwiseConv2D).apply(null,arguments)},c._Gather=function(){return(c._Gather=c.asm.Gather).apply(null,arguments)},c._GatherNd=function(){return(c._GatherNd=c.asm.GatherNd).apply(null,arguments)},c._Greater=function(){return(c._Greater=c.asm.Greater).apply(null,arguments)},c._GreaterEqual=function(){return(c._GreaterEqual=c.asm.GreaterEqual).apply(null,arguments)},c._IsFinite=function(){return(c._IsFinite=c.asm.IsFinite).apply(null,arguments)},c._IsInf=function(){return(c._IsInf=c.asm.IsInf).apply(null,arguments)},c._IsNan=function(){return(c._IsNan=c.asm.IsNan).apply(null,arguments)},c._LRN=function(){return(c._LRN=c.asm.LRN).apply(null,arguments)},c._LRNGrad=function(){return(c._LRNGrad=c.asm.LRNGrad).apply(null,arguments)},c._LeakyRelu=function(){return(c._LeakyRelu=c.asm.LeakyRelu).apply(null,arguments)},c._Less=function(){return(c._Less=c.asm.Less).apply(null,arguments)},c._LessEqual=function(){return(c._LessEqual=c.asm.LessEqual).apply(null,arguments)},c._LinSpace=function(){return(c._LinSpace=c.asm.LinSpace).apply(null,arguments)},c._Log=function(){return(c._Log=c.asm.Log).apply(null,arguments)},c._Log1p=function(){return(c._Log1p=c.asm.Log1p).apply(null,arguments)},c._LogicalAnd=function(){return(c._LogicalAnd=c.asm.LogicalAnd).apply(null,arguments)},c._LogicalNot=function(){return(c._LogicalNot=c.asm.LogicalNot).apply(null,arguments)},c._LogicalOr=function(){return(c._LogicalOr=c.asm.LogicalOr).apply(null,arguments)},c._LogicalXor=function(){return(c._LogicalXor=c.asm.LogicalXor).apply(null,arguments)},c._Max=function(){return(c._Max=c.asm.Max).apply(null,arguments)},c._MaxPool=function(){return(c._MaxPool=c.asm.MaxPool).apply(null,arguments)},c._MaxPool3D=function(){return(c._MaxPool3D=c.asm.MaxPool3D).apply(null,arguments)},c._MaxPool3DGrad=function(){return(c._MaxPool3DGrad=c.asm.MaxPool3DGrad).apply(null,arguments)},c._MaxPoolGrad=function(){return(c._MaxPoolGrad=c.asm.MaxPoolGrad).apply(null,arguments)},c._MaxPoolWithArgmax=function(){return(c._MaxPoolWithArgmax=c.asm.MaxPoolWithArgmax).apply(null,arguments)},c._Maximum=function(){return(c._Maximum=c.asm.Maximum).apply(null,arguments)},c._Mean=function(){return(c._Mean=c.asm.Mean).apply(null,arguments)},c._Min=function(){return(c._Min=c.asm.Min).apply(null,arguments)},c._Minimum=function(){return(c._Minimum=c.asm.Minimum).apply(null,arguments)},c._MirrorPad=function(){return(c._MirrorPad=c.asm.MirrorPad).apply(null,arguments)},c._Mod=function(){return(c._Mod=c.asm.Mod).apply(null,arguments)},c._Multinomial=function(){return(c._Multinomial=c.asm.Multinomial).apply(null,arguments)},c._Multiply=function(){return(c._Multiply=c.asm.Multiply).apply(null,arguments)},c._Neg=function(){return(c._Neg=c.asm.Neg).apply(null,arguments)},c._NonMaxSuppressionV3=function(){return(c._NonMaxSuppressionV3=c.asm.NonMaxSuppressionV3).apply(null,arguments)},c._NonMaxSuppressionV4=function(){return(c._NonMaxSuppressionV4=c.asm.NonMaxSuppressionV4).apply(null,arguments)},c._NonMaxSuppressionV5=function(){return(c._NonMaxSuppressionV5=c.asm.NonMaxSuppressionV5).apply(null,arguments)},c._NotEqual=function(){return(c._NotEqual=c.asm.NotEqual).apply(null,arguments)},c._OneHot=function(){return(c._OneHot=c.asm.OneHot).apply(null,arguments)},c._PadV2=function(){return(c._PadV2=c.asm.PadV2).apply(null,arguments)},c._Pow=function(){return(c._Pow=c.asm.Pow).apply(null,arguments)},c._Prelu=function(){return(c._Prelu=c.asm.Prelu).apply(null,arguments)},c._Prod=function(){return(c._Prod=c.asm.Prod).apply(null,arguments)},c._RealDiv=function(){return(c._RealDiv=c.asm.RealDiv).apply(null,arguments)},c._Reciprocal=function(){return(c._Reciprocal=c.asm.Reciprocal).apply(null,arguments)},c._Relu=function(){return(c._Relu=c.asm.Relu).apply(null,arguments)},c._Relu6=function(){return(c._Relu6=c.asm.Relu6).apply(null,arguments)},c._ResizeBilinear=function(){return(c._ResizeBilinear=c.asm.ResizeBilinear).apply(null,arguments)},c._ResizeBilinearGrad=function(){return(c._ResizeBilinearGrad=c.asm.ResizeBilinearGrad).apply(null,arguments)},c._ResizeNearestNeighbor=function(){return(c._ResizeNearestNeighbor=c.asm.ResizeNearestNeighbor).apply(null,arguments)},c._ResizeNearestNeighborGrad=function(){return(c._ResizeNearestNeighborGrad=c.asm.ResizeNearestNeighborGrad).apply(null,arguments)},c._Reverse=function(){return(c._Reverse=c.asm.Reverse).apply(null,arguments)},c._RotateWithOffset=function(){return(c._RotateWithOffset=c.asm.RotateWithOffset).apply(null,arguments)},c._Round=function(){return(c._Round=c.asm.Round).apply(null,arguments)},c._Rsqrt=function(){return(c._Rsqrt=c.asm.Rsqrt).apply(null,arguments)},c._ScatterNd=function(){return(c._ScatterNd=c.asm.ScatterNd).apply(null,arguments)},c._SearchSorted=function(){return(c._SearchSorted=c.asm.SearchSorted).apply(null,arguments)},c._SelectV2=function(){return(c._SelectV2=c.asm.SelectV2).apply(null,arguments)},c._Selu=function(){return(c._Selu=c.asm.Selu).apply(null,arguments)},c._Sigmoid=function(){return(c._Sigmoid=c.asm.Sigmoid).apply(null,arguments)},c._Sign=function(){return(c._Sign=c.asm.Sign).apply(null,arguments)},c._Sin=function(){return(c._Sin=c.asm.Sin).apply(null,arguments)},c._Sinh=function(){return(c._Sinh=c.asm.Sinh).apply(null,arguments)},c._Softmax=function(){return(c._Softmax=c.asm.Softmax).apply(null,arguments)},c._Softplus=function(){return(c._Softplus=c.asm.Softplus).apply(null,arguments)},c._SparseFillEmptyRows=function(){return(c._SparseFillEmptyRows=c.asm.SparseFillEmptyRows).apply(null,arguments)},c._SparseReshape=function(){return(c._SparseReshape=c.asm.SparseReshape).apply(null,arguments)},c._SparseSegmentReduction=function(){return(c._SparseSegmentReduction=c.asm.SparseSegmentReduction).apply(null,arguments)},c._SparseToDense=function(){return(c._SparseToDense=c.asm.SparseToDense).apply(null,arguments)},c._Sqrt=function(){return(c._Sqrt=c.asm.Sqrt).apply(null,arguments)},c._Square=function(){return(c._Square=c.asm.Square).apply(null,arguments)},c._SquaredDifference=function(){return(c._SquaredDifference=c.asm.SquaredDifference).apply(null,arguments)},c._Step=function(){return(c._Step=c.asm.Step).apply(null,arguments)},c._StridedSlice=function(){return(c._StridedSlice=c.asm.StridedSlice).apply(null,arguments)},c._Sub=function(){return(c._Sub=c.asm.Sub).apply(null,arguments)},c._Sum=function(){return(c._Sum=c.asm.Sum).apply(null,arguments)},c._Tan=function(){return(c._Tan=c.asm.Tan).apply(null,arguments)},c._Tanh=function(){return(c._Tanh=c.asm.Tanh).apply(null,arguments)},c._TensorScatterUpdate=function(){return(c._TensorScatterUpdate=c.asm.TensorScatterUpdate).apply(null,arguments)},c._Tile=function(){return(c._Tile=c.asm.Tile).apply(null,arguments)},c._TopK=function(){return(c._TopK=c.asm.TopK).apply(null,arguments)},c._Transform=function(){return(c._Transform=c.asm.Transform).apply(null,arguments)},c._Transpose=function(){return(c._Transpose=c.asm.Transpose).apply(null,arguments)},c.__FusedMatMul=function(){return(c.__FusedMatMul=c.asm._FusedMatMul).apply(null,arguments)},c._malloc=function(){return(c._malloc=c.asm.malloc).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm._emscripten_tls_init).apply(null,arguments)};var ja=c._pthread_self=function(){return(ja=c._pthread_self=c.asm.pthread_self).apply(null,arguments)};c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)};var Zi=c.__emscripten_thread_init=function(){return(Zi=c.__emscripten_thread_init=c.asm._emscripten_thread_init).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm._emscripten_thread_crashed).apply(null,arguments)},c._emscripten_main_thread_process_queued_calls=function(){return(c._emscripten_main_thread_process_queued_calls=c.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},c._emscripten_main_browser_thread_id=function(){return(c._emscripten_main_browser_thread_id=c.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var Co=c._emscripten_run_in_main_runtime_thread_js=function(){return(Co=c._emscripten_run_in_main_runtime_thread_js=c.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};c._emscripten_dispatch_to_thread_=function(){return(c._emscripten_dispatch_to_thread_=c.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var Ji=c.__emscripten_proxy_execute_task_queue=function(){return(Ji=c.__emscripten_proxy_execute_task_queue=c.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},Ls=c.__emscripten_thread_free_data=function(){return(Ls=c.__emscripten_thread_free_data=c.asm._emscripten_thread_free_data).apply(null,arguments)},sn=c.__emscripten_thread_exit=function(){return(sn=c.__emscripten_thread_exit=c.asm._emscripten_thread_exit).apply(null,arguments)},eu=c._emscripten_stack_set_limits=function(){return(eu=c._emscripten_stack_set_limits=c.asm.emscripten_stack_set_limits).apply(null,arguments)},Ha=c.stackSave=function(){return(Ha=c.stackSave=c.asm.stackSave).apply(null,arguments)},At=c.stackRestore=function(){return(At=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},fs=c.stackAlloc=function(){return(fs=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)};c.dynCall_iijjiiii=function(){return(c.dynCall_iijjiiii=c.asm.dynCall_iijjiiii).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.keepRuntimeAlive=Vt,c.wasmMemory=le,c.cwrap=Ps,c.ExitStatus=an,c.PThread=Ge;var Sr;or=function X(){Sr||Uo(),Sr||(or=X)};function Uo(X){if(Cn>0)return;if(C){h(c),tn(),startWorker(c);return}if(En(),Cn>0)return;function de(){Sr||(Sr=!0,c.calledRun=!0,!ye&&(tn(),h(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),mn()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),de()},1)):de()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();Uo();var Wa;v&&(Wa={uncaughtException:process.listeners("uncaughtException").filter(function(X){return!v.uncaughtException.indexOf(X)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(X){return!v.unhandledRejection.indexOf(X)>-1})});var Bs;if(typeof WasmBackendModule<"u")Bs=WasmBackendModule;else if(typeof a<"u")Bs=a;else throw new Error("Could not find wasm module in post.js");if(Wa){var Tr=Bs._dispose;Bs._dispose=function(){Tr(),Wa.uncaughtException.forEach(function(X){process.removeListener("uncaughtException",X)}),Wa.unhandledRejection.forEach(function(X){process.removeListener("unhandledRejection",X)})}}return a.ready}})();t.exports=n}(tx)),tx.exports}var R4=Hue();const A4=Eu(R4),Wue=wm({__proto__:null,default:A4},[R4]);var nx={},N4;function que(){return N4||(N4=1,nx.wasmWorkerContents=`"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"
");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};`),nx}var Gue=que(),rx={exports:{}},D4;function Kue(){return D4||(D4=1,function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var o=typeof a<"u"?a:{},i,l;o.ready=new Promise(function(xe,Pe){i=xe,l=Pe});var d;typeof process<"u"&&process.listeners&&(d={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var f=Object.assign({},o),c=typeof window=="object",h=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="";function b(xe){return o.locateFile?o.locateFile(xe,v):v+xe}var w,x,E;if(g){var T=Fu,C=Fu;h?v=C.dirname(v)+"/":v=__dirname+"/",w=(xe,Pe)=>(xe=pt(xe)?new URL(xe):C.normalize(xe),T.readFileSync(xe,Pe?void 0:"utf8")),E=xe=>{var Pe=w(xe,!0);return Pe.buffer||(Pe=new Uint8Array(Pe)),Pe},x=(xe,Pe,gt)=>{xe=pt(xe)?new URL(xe):C.normalize(xe),T.readFile(xe,function(Ge,nn){Ge?gt(Ge):Pe(nn.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(xe){if(!(xe instanceof Vt))throw xe}),process.on("unhandledRejection",function(xe){throw xe}),o.inspect=function(){return"[Emscripten Module object]"}}else(c||h)&&(h?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",w=xe=>{var Pe=new XMLHttpRequest;return Pe.open("GET",xe,!1),Pe.send(null),Pe.responseText},h&&(E=xe=>{var Pe=new XMLHttpRequest;return Pe.open("GET",xe,!1),Pe.responseType="arraybuffer",Pe.send(null),new Uint8Array(Pe.response)}),x=(xe,Pe,gt)=>{var Ge=new XMLHttpRequest;Ge.open("GET",xe,!0),Ge.responseType="arraybuffer",Ge.onload=()=>{if(Ge.status==200||Ge.status==0&&Ge.response){Pe(Ge.response);return}gt()},Ge.onerror=gt,Ge.send(null)});var I=o.print||console.log.bind(console),D=o.printErr||console.warn.bind(console);Object.assign(o,f),f=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit;var F;o.wasmBinary&&(F=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&it("no native wasm support detected");var B,H=!1,z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function U(xe,Pe,gt){Pe>>>=0;for(var Ge=Pe+gt,nn=Pe;xe[nn]&&!(nn>=Ge);)++nn;if(nn-Pe>16&&xe.buffer&&z)return z.decode(xe.subarray(Pe,nn));for(var Yt="";Pe<nn;){var Tt=xe[Pe++];if(!(Tt&128)){Yt+=String.fromCharCode(Tt);continue}var Et=xe[Pe++]&63;if((Tt&224)==192){Yt+=String.fromCharCode((Tt&31)<<6|Et);continue}var zn=xe[Pe++]&63;if((Tt&240)==224?Tt=(Tt&15)<<12|Et<<6|zn:Tt=(Tt&7)<<18|Et<<12|zn<<6|xe[Pe++]&63,Tt<65536)Yt+=String.fromCharCode(Tt);else{var Er=Tt-65536;Yt+=String.fromCharCode(55296|Er>>10,56320|Er&1023)}}return Yt}function O(xe,Pe){return xe>>>=0,xe?U(se,xe,Pe):""}function K(xe,Pe,gt,Ge){if(gt>>>=0,!(Ge>0))return 0;for(var nn=gt,Yt=gt+Ge-1,Tt=0;Tt<xe.length;++Tt){var Et=xe.charCodeAt(Tt);if(Et>=55296&&Et<=57343){var zn=xe.charCodeAt(++Tt);Et=65536+((Et&1023)<<10)|zn&1023}if(Et<=127){if(gt>=Yt)break;Pe[gt++>>>0]=Et}else if(Et<=2047){if(gt+1>=Yt)break;Pe[gt++>>>0]=192|Et>>6,Pe[gt++>>>0]=128|Et&63}else if(Et<=65535){if(gt+2>=Yt)break;Pe[gt++>>>0]=224|Et>>12,Pe[gt++>>>0]=128|Et>>6&63,Pe[gt++>>>0]=128|Et&63}else{if(gt+3>=Yt)break;Pe[gt++>>>0]=240|Et>>18,Pe[gt++>>>0]=128|Et>>12&63,Pe[gt++>>>0]=128|Et>>6&63,Pe[gt++>>>0]=128|Et&63}}return Pe[gt>>>0]=0,gt-nn}function G(xe,Pe,gt){return K(xe,se,Pe,gt)}var Z,J,se,oe;function le(xe){Z=xe,o.HEAP8=J=new Int8Array(xe),o.HEAP16=new Int16Array(xe),o.HEAP32=new Int32Array(xe),o.HEAPU8=se=new Uint8Array(xe),o.HEAPU16=new Uint16Array(xe),o.HEAPU32=oe=new Uint32Array(xe),o.HEAPF32=new Float32Array(xe),o.HEAPF64=new Float64Array(xe)}o.INITIAL_MEMORY;var pe=[],ye=[],ve=[];function Ee(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)De(o.preRun.shift());En(pe)}function _e(){En(ye)}function Ie(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Ve(o.postRun.shift());En(ve)}function De(xe){pe.unshift(xe)}function ze(xe){ye.unshift(xe)}function Ve(xe){ve.unshift(xe)}var Le=0,je=null;function Ue(xe){Le++,o.monitorRunDependencies&&o.monitorRunDependencies(Le)}function Ze(xe){if(Le--,o.monitorRunDependencies&&o.monitorRunDependencies(Le),Le==0&&je){var Pe=je;je=null,Pe()}}function it(xe){o.onAbort&&o.onAbort(xe),xe="Aborted("+xe+")",D(xe),H=!0,xe+=". Build with -sASSERTIONS for more info.";var Pe=new WebAssembly.RuntimeError(xe);throw l(Pe),Pe}var Je="data:application/octet-stream;base64,";function bt(xe){return xe.startsWith(Je)}function pt(xe){return xe.startsWith("file://")}var et;et="tfjs-backend-wasm.wasm",bt(et)||(et=b(et));function Lt(xe){try{if(xe==et&&F)return new Uint8Array(F);if(E)return E(xe);throw"both async and sync fetching of the wasm failed"}catch(Pe){it(Pe)}}function Ht(){if(!F&&(c||h)){if(typeof fetch=="function"&&!pt(et))return fetch(et,{credentials:"same-origin"}).then(function(xe){if(!xe.ok)throw"failed to load wasm binary file at '"+et+"'";return xe.arrayBuffer()}).catch(function(){return Lt(et)});if(x)return new Promise(function(xe,Pe){x(et,function(gt){xe(new Uint8Array(gt))},Pe)})}return Promise.resolve().then(function(){return Lt(et)})}function Gt(){var xe={env:br,wasi_snapshot_preview1:br};function Pe(Tt,Et){var zn=Tt.exports;o.asm=zn,B=o.asm.memory,le(B.buffer),o.asm.__indirect_function_table,ze(o.asm.__wasm_call_ctors),Ze()}Ue();function gt(Tt){Pe(Tt.instance)}function Ge(Tt){return Ht().then(function(Et){return WebAssembly.instantiate(Et,xe)}).then(function(Et){return Et}).then(Tt,function(Et){D("failed to asynchronously prepare wasm: "+Et),it(Et)})}function nn(){return!F&&typeof WebAssembly.instantiateStreaming=="function"&&!bt(et)&&!pt(et)&&!g&&typeof fetch=="function"?fetch(et,{credentials:"same-origin"}).then(function(Tt){var Et=WebAssembly.instantiateStreaming(Tt,xe);return Et.then(gt,function(zn){return D("wasm streaming compile failed: "+zn),D("falling back to ArrayBuffer instantiation"),Ge(gt)})}):Ge(gt)}if(o.instantiateWasm)try{var Yt=o.instantiateWasm(xe,Pe);return Yt}catch(Tt){D("Module.instantiateWasm callback failed with error: "+Tt),l(Tt)}return nn().catch(l),{}}function Vt(xe){this.name="ExitStatus",this.message="Program terminated with exit("+xe+")",this.status=xe}function En(xe){for(;xe.length>0;)xe.shift()(o)}function tn(){it("")}function mn(){return 4294901760}function Hn(){return mn()}function Sn(xe,Pe,gt){se.copyWithin(xe>>>0,Pe>>>0,Pe+gt>>>0)}function Dn(xe){try{return B.grow(xe-Z.byteLength+65535>>>16),le(B.buffer),1}catch{}}function Cn(xe){var Pe=se.length;xe=xe>>>0;var gt=mn();if(xe>gt)return!1;let Ge=(zn,Er)=>zn+(Er-zn%Er)%Er;for(var nn=1;nn<=4;nn*=2){var Yt=Pe*(1+.2/nn);Yt=Math.min(Yt,xe+100663296);var Tt=Math.min(gt,Ge(Math.max(xe,Yt),65536)),Et=Dn(Tt);if(Et)return!0}return!1}function or(xe){return 52}function ur(xe,Pe,gt,Ge,nn){return 70}var We=[null,[],[]];function at(xe,Pe){var gt=We[xe];Pe===0||Pe===10?((xe===1?I:D)(U(gt,0)),gt.length=0):gt.push(Pe)}function $t(xe,Pe,gt,Ge){for(var nn=0,Yt=0;Yt<gt;Yt++){var Tt=oe[Pe>>>2],Et=oe[Pe+4>>>2];Pe+=8;for(var zn=0;zn<Et;zn++)at(xe,se[Tt+zn>>>0]);nn+=Et}return oe[Ge>>>2]=nn,0}function Kt(xe){var Pe=o["_"+xe];return Pe}function rn(xe,Pe){J.set(xe,Pe>>>0)}function Bt(xe,Pe,gt,Ge,nn){var Yt={string:ot=>{var Ft=0;if(ot!=null&&ot!==0){var _t=(ot.length<<2)+1;Ft=an(_t),G(ot,Ft,_t)}return Ft},array:ot=>{var Ft=an(ot.length);return rn(ot,Ft),Ft}};function Tt(ot){return Pe==="string"?O(ot):Pe==="boolean"?!!ot:ot}var Et=Kt(xe),zn=[],Er=0;if(Ge)for(var ee=0;ee<Ge.length;ee++){var Me=Yt[gt[ee]];Me?(Er===0&&(Er=kn()),zn[ee]=Me(Ge[ee])):zn[ee]=Ge[ee]}var He=Et.apply(null,zn);function St(ot){return Er!==0&&In(Er),Tt(ot)}return He=St(He),He}function Ln(xe,Pe,gt,Ge){gt=gt||[];var nn=gt.every(Tt=>Tt==="number"||Tt==="boolean"),Yt=Pe!=="string";return Yt&&nn&&!Ge?Kt(xe):function(){return Bt(xe,Pe,gt,arguments)}}var br={abort:tn,emscripten_get_heap_max:Hn,emscripten_memcpy_big:Sn,emscripten_resize_heap:Cn,fd_close:or,fd_seek:ur,fd_write:$t};Gt(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._init=function(){return(o._init=o.asm.init).apply(null,arguments)},o._init_with_threads_count=function(){return(o._init_with_threads_count=o.asm.init_with_threads_count).apply(null,arguments)},o._get_threads_count=function(){return(o._get_threads_count=o.asm.get_threads_count).apply(null,arguments)},o._register_tensor=function(){return(o._register_tensor=o.asm.register_tensor).apply(null,arguments)},o._dispose_data=function(){return(o._dispose_data=o.asm.dispose_data).apply(null,arguments)},o._dispose=function(){return(o._dispose=o.asm.dispose).apply(null,arguments)},o._Abs=function(){return(o._Abs=o.asm.Abs).apply(null,arguments)},o._Acos=function(){return(o._Acos=o.asm.Acos).apply(null,arguments)},o._Acosh=function(){return(o._Acosh=o.asm.Acosh).apply(null,arguments)},o._Add=function(){return(o._Add=o.asm.Add).apply(null,arguments)},o._AddN=function(){return(o._AddN=o.asm.AddN).apply(null,arguments)},o._All=function(){return(o._All=o.asm.All).apply(null,arguments)},o._Any=function(){return(o._Any=o.asm.Any).apply(null,arguments)},o._ArgMax=function(){return(o._ArgMax=o.asm.ArgMax).apply(null,arguments)},o._ArgMin=function(){return(o._ArgMin=o.asm.ArgMin).apply(null,arguments)},o._Asin=function(){return(o._Asin=o.asm.Asin).apply(null,arguments)},o._Asinh=function(){return(o._Asinh=o.asm.Asinh).apply(null,arguments)},o._Atan=function(){return(o._Atan=o.asm.Atan).apply(null,arguments)},o._Atan2=function(){return(o._Atan2=o.asm.Atan2).apply(null,arguments)},o._Atanh=function(){return(o._Atanh=o.asm.Atanh).apply(null,arguments)},o._AvgPool=function(){return(o._AvgPool=o.asm.AvgPool).apply(null,arguments)},o._AvgPool3D=function(){return(o._AvgPool3D=o.asm.AvgPool3D).apply(null,arguments)},o._AvgPool3DGrad=function(){return(o._AvgPool3DGrad=o.asm.AvgPool3DGrad).apply(null,arguments)},o._AvgPoolGrad=function(){return(o._AvgPoolGrad=o.asm.AvgPoolGrad).apply(null,arguments)},o._BatchMatMul=function(){return(o._BatchMatMul=o.asm.BatchMatMul).apply(null,arguments)},o._Bincount=function(){return(o._Bincount=o.asm.Bincount).apply(null,arguments)},o._BitwiseAnd=function(){return(o._BitwiseAnd=o.asm.BitwiseAnd).apply(null,arguments)},o._Ceil=function(){return(o._Ceil=o.asm.Ceil).apply(null,arguments)},o._ClipByValue=function(){return(o._ClipByValue=o.asm.ClipByValue).apply(null,arguments)},o._Conv2D=function(){return(o._Conv2D=o.asm.Conv2D).apply(null,arguments)},o._Conv2DBackpropInput=function(){return(o._Conv2DBackpropInput=o.asm.Conv2DBackpropInput).apply(null,arguments)},o._Conv3D=function(){return(o._Conv3D=o.asm.Conv3D).apply(null,arguments)},o._Conv3DBackpropFilterV2=function(){return(o._Conv3DBackpropFilterV2=o.asm.Conv3DBackpropFilterV2).apply(null,arguments)},o._Conv3DBackpropInputV2=function(){return(o._Conv3DBackpropInputV2=o.asm.Conv3DBackpropInputV2).apply(null,arguments)},o._Cos=function(){return(o._Cos=o.asm.Cos).apply(null,arguments)},o._Cosh=function(){return(o._Cosh=o.asm.Cosh).apply(null,arguments)},o._CropAndResize=function(){return(o._CropAndResize=o.asm.CropAndResize).apply(null,arguments)},o._Cumprod=function(){return(o._Cumprod=o.asm.Cumprod).apply(null,arguments)},o._Cumsum=function(){return(o._Cumsum=o.asm.Cumsum).apply(null,arguments)},o._DenseBincount=function(){return(o._DenseBincount=o.asm.DenseBincount).apply(null,arguments)},o._DepthToSpace=function(){return(o._DepthToSpace=o.asm.DepthToSpace).apply(null,arguments)},o._DepthwiseConv2dNative=function(){return(o._DepthwiseConv2dNative=o.asm.DepthwiseConv2dNative).apply(null,arguments)},o._Diag=function(){return(o._Diag=o.asm.Diag).apply(null,arguments)},o._Dilation2D=function(){return(o._Dilation2D=o.asm.Dilation2D).apply(null,arguments)},o._Dilation2DBackpropFilter=function(){return(o._Dilation2DBackpropFilter=o.asm.Dilation2DBackpropFilter).apply(null,arguments)},o._Dilation2DBackpropInput=function(){return(o._Dilation2DBackpropInput=o.asm.Dilation2DBackpropInput).apply(null,arguments)},o._Elu=function(){return(o._Elu=o.asm.Elu).apply(null,arguments)},o._EluGrad=function(){return(o._EluGrad=o.asm.EluGrad).apply(null,arguments)},o._Equal=function(){return(o._Equal=o.asm.Equal).apply(null,arguments)},o._Erf=function(){return(o._Erf=o.asm.Erf).apply(null,arguments)},o._Exp=function(){return(o._Exp=o.asm.Exp).apply(null,arguments)},o._Expm1=function(){return(o._Expm1=o.asm.Expm1).apply(null,arguments)},o._FlipLeftRight=function(){return(o._FlipLeftRight=o.asm.FlipLeftRight).apply(null,arguments)},o._Floor=function(){return(o._Floor=o.asm.Floor).apply(null,arguments)},o._FloorDiv=function(){return(o._FloorDiv=o.asm.FloorDiv).apply(null,arguments)},o._FusedBatchNorm=function(){return(o._FusedBatchNorm=o.asm.FusedBatchNorm).apply(null,arguments)},o._FusedConv2D=function(){return(o._FusedConv2D=o.asm.FusedConv2D).apply(null,arguments)},o._FusedDepthwiseConv2D=function(){return(o._FusedDepthwiseConv2D=o.asm.FusedDepthwiseConv2D).apply(null,arguments)},o._Gather=function(){return(o._Gather=o.asm.Gather).apply(null,arguments)},o._GatherNd=function(){return(o._GatherNd=o.asm.GatherNd).apply(null,arguments)},o._Greater=function(){return(o._Greater=o.asm.Greater).apply(null,arguments)},o._GreaterEqual=function(){return(o._GreaterEqual=o.asm.GreaterEqual).apply(null,arguments)},o._IsFinite=function(){return(o._IsFinite=o.asm.IsFinite).apply(null,arguments)},o._IsInf=function(){return(o._IsInf=o.asm.IsInf).apply(null,arguments)},o._IsNan=function(){return(o._IsNan=o.asm.IsNan).apply(null,arguments)},o._LRN=function(){return(o._LRN=o.asm.LRN).apply(null,arguments)},o._LRNGrad=function(){return(o._LRNGrad=o.asm.LRNGrad).apply(null,arguments)},o._LeakyRelu=function(){return(o._LeakyRelu=o.asm.LeakyRelu).apply(null,arguments)},o._Less=function(){return(o._Less=o.asm.Less).apply(null,arguments)},o._LessEqual=function(){return(o._LessEqual=o.asm.LessEqual).apply(null,arguments)},o._LinSpace=function(){return(o._LinSpace=o.asm.LinSpace).apply(null,arguments)},o._Log=function(){return(o._Log=o.asm.Log).apply(null,arguments)},o._Log1p=function(){return(o._Log1p=o.asm.Log1p).apply(null,arguments)},o._LogicalAnd=function(){return(o._LogicalAnd=o.asm.LogicalAnd).apply(null,arguments)},o._LogicalNot=function(){return(o._LogicalNot=o.asm.LogicalNot).apply(null,arguments)},o._LogicalOr=function(){return(o._LogicalOr=o.asm.LogicalOr).apply(null,arguments)},o._LogicalXor=function(){return(o._LogicalXor=o.asm.LogicalXor).apply(null,arguments)},o._Max=function(){return(o._Max=o.asm.Max).apply(null,arguments)},o._MaxPool=function(){return(o._MaxPool=o.asm.MaxPool).apply(null,arguments)},o._MaxPool3D=function(){return(o._MaxPool3D=o.asm.MaxPool3D).apply(null,arguments)},o._MaxPool3DGrad=function(){return(o._MaxPool3DGrad=o.asm.MaxPool3DGrad).apply(null,arguments)},o._MaxPoolGrad=function(){return(o._MaxPoolGrad=o.asm.MaxPoolGrad).apply(null,arguments)},o._MaxPoolWithArgmax=function(){return(o._MaxPoolWithArgmax=o.asm.MaxPoolWithArgmax).apply(null,arguments)},o._Maximum=function(){return(o._Maximum=o.asm.Maximum).apply(null,arguments)},o._Mean=function(){return(o._Mean=o.asm.Mean).apply(null,arguments)},o._Min=function(){return(o._Min=o.asm.Min).apply(null,arguments)},o._Minimum=function(){return(o._Minimum=o.asm.Minimum).apply(null,arguments)},o._MirrorPad=function(){return(o._MirrorPad=o.asm.MirrorPad).apply(null,arguments)},o._Mod=function(){return(o._Mod=o.asm.Mod).apply(null,arguments)},o._Multinomial=function(){return(o._Multinomial=o.asm.Multinomial).apply(null,arguments)},o._Multiply=function(){return(o._Multiply=o.asm.Multiply).apply(null,arguments)},o._Neg=function(){return(o._Neg=o.asm.Neg).apply(null,arguments)},o._NonMaxSuppressionV3=function(){return(o._NonMaxSuppressionV3=o.asm.NonMaxSuppressionV3).apply(null,arguments)},o._NonMaxSuppressionV4=function(){return(o._NonMaxSuppressionV4=o.asm.NonMaxSuppressionV4).apply(null,arguments)},o._NonMaxSuppressionV5=function(){return(o._NonMaxSuppressionV5=o.asm.NonMaxSuppressionV5).apply(null,arguments)},o._NotEqual=function(){return(o._NotEqual=o.asm.NotEqual).apply(null,arguments)},o._OneHot=function(){return(o._OneHot=o.asm.OneHot).apply(null,arguments)},o._PadV2=function(){return(o._PadV2=o.asm.PadV2).apply(null,arguments)},o._Pow=function(){return(o._Pow=o.asm.Pow).apply(null,arguments)},o._Prelu=function(){return(o._Prelu=o.asm.Prelu).apply(null,arguments)},o._Prod=function(){return(o._Prod=o.asm.Prod).apply(null,arguments)},o._RealDiv=function(){return(o._RealDiv=o.asm.RealDiv).apply(null,arguments)},o._Reciprocal=function(){return(o._Reciprocal=o.asm.Reciprocal).apply(null,arguments)},o._Relu=function(){return(o._Relu=o.asm.Relu).apply(null,arguments)},o._Relu6=function(){return(o._Relu6=o.asm.Relu6).apply(null,arguments)},o._ResizeBilinear=function(){return(o._ResizeBilinear=o.asm.ResizeBilinear).apply(null,arguments)},o._ResizeBilinearGrad=function(){return(o._ResizeBilinearGrad=o.asm.ResizeBilinearGrad).apply(null,arguments)},o._ResizeNearestNeighbor=function(){return(o._ResizeNearestNeighbor=o.asm.ResizeNearestNeighbor).apply(null,arguments)},o._ResizeNearestNeighborGrad=function(){return(o._ResizeNearestNeighborGrad=o.asm.ResizeNearestNeighborGrad).apply(null,arguments)},o._Reverse=function(){return(o._Reverse=o.asm.Reverse).apply(null,arguments)},o._RotateWithOffset=function(){return(o._RotateWithOffset=o.asm.RotateWithOffset).apply(null,arguments)},o._Round=function(){return(o._Round=o.asm.Round).apply(null,arguments)},o._Rsqrt=function(){return(o._Rsqrt=o.asm.Rsqrt).apply(null,arguments)},o._ScatterNd=function(){return(o._ScatterNd=o.asm.ScatterNd).apply(null,arguments)},o._SearchSorted=function(){return(o._SearchSorted=o.asm.SearchSorted).apply(null,arguments)},o._SelectV2=function(){return(o._SelectV2=o.asm.SelectV2).apply(null,arguments)},o._Selu=function(){return(o._Selu=o.asm.Selu).apply(null,arguments)},o._Sigmoid=function(){return(o._Sigmoid=o.asm.Sigmoid).apply(null,arguments)},o._Sign=function(){return(o._Sign=o.asm.Sign).apply(null,arguments)},o._Sin=function(){return(o._Sin=o.asm.Sin).apply(null,arguments)},o._Sinh=function(){return(o._Sinh=o.asm.Sinh).apply(null,arguments)},o._Softmax=function(){return(o._Softmax=o.asm.Softmax).apply(null,arguments)},o._Softplus=function(){return(o._Softplus=o.asm.Softplus).apply(null,arguments)},o._SparseFillEmptyRows=function(){return(o._SparseFillEmptyRows=o.asm.SparseFillEmptyRows).apply(null,arguments)},o._SparseReshape=function(){return(o._SparseReshape=o.asm.SparseReshape).apply(null,arguments)},o._SparseSegmentReduction=function(){return(o._SparseSegmentReduction=o.asm.SparseSegmentReduction).apply(null,arguments)},o._SparseToDense=function(){return(o._SparseToDense=o.asm.SparseToDense).apply(null,arguments)},o._Sqrt=function(){return(o._Sqrt=o.asm.Sqrt).apply(null,arguments)},o._Square=function(){return(o._Square=o.asm.Square).apply(null,arguments)},o._SquaredDifference=function(){return(o._SquaredDifference=o.asm.SquaredDifference).apply(null,arguments)},o._Step=function(){return(o._Step=o.asm.Step).apply(null,arguments)},o._StridedSlice=function(){return(o._StridedSlice=o.asm.StridedSlice).apply(null,arguments)},o._Sub=function(){return(o._Sub=o.asm.Sub).apply(null,arguments)},o._Sum=function(){return(o._Sum=o.asm.Sum).apply(null,arguments)},o._Tan=function(){return(o._Tan=o.asm.Tan).apply(null,arguments)},o._Tanh=function(){return(o._Tanh=o.asm.Tanh).apply(null,arguments)},o._TensorScatterUpdate=function(){return(o._TensorScatterUpdate=o.asm.TensorScatterUpdate).apply(null,arguments)},o._Tile=function(){return(o._Tile=o.asm.Tile).apply(null,arguments)},o._TopK=function(){return(o._TopK=o.asm.TopK).apply(null,arguments)},o._Transform=function(){return(o._Transform=o.asm.Transform).apply(null,arguments)},o._Transpose=function(){return(o._Transpose=o.asm.Transpose).apply(null,arguments)},o.__FusedMatMul=function(){return(o.__FusedMatMul=o.asm._FusedMatMul).apply(null,arguments)},o._malloc=function(){return(o._malloc=o.asm.malloc).apply(null,arguments)},o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o.___errno_location=function(){return(o.___errno_location=o.asm.__errno_location).apply(null,arguments)};var kn=o.stackSave=function(){return(kn=o.stackSave=o.asm.stackSave).apply(null,arguments)},In=o.stackRestore=function(){return(In=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},an=o.stackAlloc=function(){return(an=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};o.dynCall_iijjiiii=function(){return(o.dynCall_iijjiiii=o.asm.dynCall_iijjiiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.cwrap=Ln;var ha;je=function xe(){ha||er(),ha||(je=xe)};function er(xe){if(Le>0||(Ee(),Le>0))return;function Pe(){ha||(ha=!0,o.calledRun=!0,!H&&(_e(),i(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Ie()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),Pe()},1)):Pe()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();er();var on;d&&(on={uncaughtException:process.listeners("uncaughtException").filter(function(xe){return!d.uncaughtException.indexOf(xe)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(xe){return!d.unhandledRejection.indexOf(xe)>-1})});var Jr;if(typeof a<"u")Jr=a;else if(typeof WasmBackendModuleThreadedSimd<"u")Jr=WasmBackendModuleThreadedSimd;else throw new Error("Could not find wasm module in post.js");if(on){var Rr=Jr._dispose;Jr._dispose=function(){Rr(),on.uncaughtException.forEach(function(xe){process.removeListener("uncaughtException",xe)}),on.unhandledRejection.forEach(function(xe){process.removeListener("unhandledRejection",xe)})}}return a.ready}})();t.exports=n}(rx)),rx.exports}var O4=Kue();const M4=Eu(O4),Yue=wm({__proto__:null,default:M4},[O4]);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $4=A4||Wue,Xue=M4||Yue;class Que extends QS{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(ale),this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new _R(this,a_())}write(e,n,r){const a={id:this.dataIdNextNumber++};return this.move(a,e,n,r,1),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const n=Iu();return e(),{kernelMs:Iu()-n}}move(e,n,r,a,o){const i=this.dataIdNextNumber++;if(a==="string"){const c=n;this.dataIdMap.set(e,{id:i,stringBytes:c,shape:r,dtype:a,memoryOffset:null,refCount:o});return}const l=Ce(r),d=l*Qf(a),f=this.wasm._malloc(d)>>>0;this.dataIdMap.set(e,{id:i,memoryOffset:f,shape:r,dtype:a,refCount:o}),this.wasm.tfjs.registerTensor(i,l,f),n!=null&&this.wasm.HEAPU8.set(new Uint8Array(n.buffer,n.byteOffset,d),f)}async read(e){return this.readSync(e)}readSync(e,n,r){const{memoryOffset:a,dtype:o,shape:i,stringBytes:l}=this.dataIdMap.get(e);if(o==="string")return(n==null||n===0)&&(r==null||r>=l.length)?l:l.slice(n,r);n=n||0,r=r||Ce(i);const d=Qf(o),f=this.wasm.HEAPU8.slice(a+n*d,a+r*d);return ele(f.buffer,o)}disposeData(e,n=!1){if(this.dataIdMap.has(e)){const r=this.dataIdMap.get(e);if(r.refCount--,!n&&r.refCount>0)return!1;this.wasm._free(r.memoryOffset),this.wasm.tfjs.disposeData(r.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){const n=this.dataIdMap.get(e);n!=null&&n.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,n,r,a){let o;if(r==null)o=this.write(a??null,e,n);else{const i=this.dataIdNextNumber++;o={id:i},this.dataIdMap.set(o,{id:i,memoryOffset:r,shape:e,dtype:n,refCount:1});const l=Ce(e);this.wasm.tfjs.registerTensor(i,l,r)}return{dataId:o,shape:e,dtype:n}}typedArrayFromHeap({shape:e,dtype:n,dataId:r}){const a=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(r),i=Ce(e);switch(n){case"float32":return new Float32Array(a,o,i);case"int32":return new Int32Array(a,o,i);case"bool":return new Uint8Array(a,o,i);default:throw new Error(`Unknown dtype ${n}`)}}}function Zue(t){return(e,n)=>(yj(t,{credentials:"same-origin"}).then(r=>{r.ok||e.env.a(`failed to load wasm binary file at '${t}'`),r.arrayBuffer().then(a=>{WebAssembly.instantiate(a,e).then(o=>{n(o.instance,o.module)})})}),{})}function F4(t,e,n){let r="tfjs-backend-wasm.wasm";return t&&e?r="tfjs-backend-wasm-threaded-simd.wasm":t&&(r="tfjs-backend-wasm-simd.wasm"),Ip!=null&&Ip[r]!=null?Ip[r]:n+r}async function Jue(){const[t,e]=await Promise.all([Zt().getAsync("WASM_HAS_SIMD_SUPPORT"),Zt().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{const a={};a.locateFile=(l,d)=>{if(l.endsWith(".worker.js")){const f=Gue.wasmWorkerContents.replace(/\n/g,"\\n"),c=new Blob([f],{type:"application/javascript"});return URL.createObjectURL(c)}return l.endsWith(".wasm")?F4(t,e,kp??d):d+l},P4&&(a.instantiateWasm=Zue(F4(t,e,kp??"")));let o=!1;a.onAbort=()=>{if(o||Qy)return;Qy=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})};let i;e&&t&&nle==null?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+$4.toString()],{type:"text/javascript"}),i=$4(a)):i=Xue(a),i.then(l=>{o=!0,Qy=!1;const d=null;l.tfjs={init:l.cwrap("init",null,[]),initWithThreadsCount:l.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:l.cwrap("get_threads_count","number",[]),registerTensor:l.cwrap("register_tensor",null,["number","number","number"]),disposeData:l.cwrap("dispose_data",d,["number"]),dispose:l.cwrap("dispose",d,[])},n({wasm:l})}).catch(r)})}function ele(t,e){switch(e){case"float32":return new Float32Array(t);case"int32":return new Int32Array(t);case"bool":return new Uint8Array(t);default:throw new Error(`Unknown dtype ${e}`)}}const tle=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let nle=null,kp=null,Ip={},Qy=!1,P4=!1;function rle(t,e=!1){if(Qy)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if(typeof t=="string")kp=t;else{Ip=t;const n=tle.filter(r=>Ip[r]==null);if(n.length>0)throw new Error(`There were no entries found for the following binaries: ${n.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}P4=e}let ale=-1;/** @license See the LICENSE file. */const ole="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */OA("wasm",async()=>{const{wasm:t}=await Jue();return new Que(t)},2);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sle=_N;class Zy extends QS{nextDataId(){return Zy.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new _R(this,a_())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Zt().get("IS_NODE")&&Tl(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&ug(r[0])){const o=r.map(i=>Al(i));a=this.write(o,e,n)}else a=this.write(r,e,n);return{dataId:a,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,a,o){this.data.set(e,{values:n,dtype:a,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return od(a,o)}return ej(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(a=>sp(a));return cn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cn(e.shape,e.dtype,n)}makeOutput(e,n,r){return a_().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Iu();return e(),{kernelMs:Iu()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){mt([e],"where");const n=this.readSync(e.dataId);return sle(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Zy.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */OA("cpu",()=>new Zy,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L4=jn(zg,t=>t>=0?t:Math.exp(t)-1),ile={kernelName:zg,backendName:"cpu",kernelFunc:L4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{alpha:o}=r;mt([a],"leakyRelu");const i=Ce(a.shape),l=n.data.get(a.dataId).values,d=Fa("float32",i);for(let f=0;f<l.length;f++)d[f]=l[f]<0?o*l[f]:l[f];return n.makeTensorInfo(a.shape,"float32",d)}const ule={kernelName:nv,backendName:"cpu",kernelFunc:B4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lle=Ir((t,e)=>t<0?e*t:t);function z4(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e;mt([r,a],"prelu");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,[l,d]=lle(r.shape,a.shape,o,i,"float32");return n.makeTensorInfo(d,"float32",l)}const cle={kernelName:Rv,backendName:"cpu",kernelFunc:z4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U4=jn(Dv,t=>Math.max(0,t)),dle={kernelName:Dv,backendName:"cpu",kernelFunc:U4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V4=jn($v,t=>Math.min(Math.max(0,t),6)),fle={kernelName:$v,backendName:"cpu",kernelFunc:V4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jy(t,e,n,r,a){if(n==="linear")return ui({inputs:{x:e},backend:t});if(n==="relu")return U4({inputs:{x:e},backend:t});if(n==="elu")return L4({inputs:{x:e},backend:t});if(n==="relu6")return V4({inputs:{x:e},backend:t});if(n==="prelu")return z4({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return B4({inputs:{x:e},backend:t,attrs:{alpha:a}});if(n==="sigmoid")return nO({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rr(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{shape:o}=r,i=Ce(a.shape),l=xR(o,i),d=Ce(l);W(i===d,()=>`The new shape (${l}) has ${d} elements and the old shape (${a.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const f=n.data.get(a.dataId);if(f.complexTensorInfos!=null){const c=f.complexTensorInfos.real,h=f.complexTensorInfos.imag;c.shape=l,h.shape=l}return{dataId:a.dataId,shape:l,dtype:a.dtype}}const ple={kernelName:Ew,backendName:"cpu",kernelFunc:rr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o}=e,{transposeA:i,transposeB:l}=r;mt([a,o],"matMul");const d=a.shape.length,f=o.shape.length,c=i?a.shape[d-2]:a.shape[d-1],h=l?o.shape[f-1]:o.shape[f-2],g=i?a.shape[d-1]:a.shape[d-2],v=l?o.shape[f-2]:o.shape[f-1],b=a.shape.slice(0,-2),w=o.shape.slice(0,-2),x=Ce(b),E=Ce(w),C=nr(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([g,v]);W(c===h,()=>`Error in matMul: inner shapes (${c}) and (${h}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${i} and transposeB=${l} must match.`);const I=i?[x,c,g]:[x,g,c],D=l?[E,v,h]:[E,h,v],F=rr({inputs:{x:a},backend:n,attrs:{shape:I}}),B=rr({inputs:{x:o},backend:n,attrs:{shape:D}}),H=i?F.shape[1]:F.shape[2],z=i?F.shape[2]:F.shape[1],U=l?B.shape[1]:B.shape[2],O=Math.max(x,E),K=n.data.get(F.dataId).values,G=n.data.get(B.dataId).values,Z=yt(F.shape),J=yt(B.shape),[se,oe,le]=i?[Z[0],1,Z[1]]:[Z[0],Z[1],1],[pe,ye,ve]=l?[1,J[1],J[0]]:[J[1],1,J[0]],Ee=z*U,_e=cn([O,z,U],F.dtype),Ie=_e.values,De=n.blockSize;for(let ze=0;ze<O;ze++){const Ve=ze%x,Le=ze%E;for(let je=0;je<z;je+=De){const Ue=Math.min(je+De,z);for(let Ze=0;Ze<U;Ze+=De){const it=Math.min(Ze+De,U);for(let Je=0;Je<H;Je+=De){const bt=Math.min(Je+De,H);for(let pt=je;pt<Ue;pt++)for(let et=Ze;et<it;et++){let Lt=0;for(let Ht=Je;Ht<bt;Ht++){const Gt=K[Ve*se+pt*oe+Ht*le],Vt=G[Ht*pe+et*ye+Le*ve];Lt+=Gt*Vt}Ie[ze*Ee+(pt*U+et)]+=Lt}}}}}return n.disposeIntermediateTensorInfo(F),n.disposeIntermediateTensorInfo(B),n.makeTensorInfo(C,_e.dtype,_e.values)}const hle={kernelName:Sg,backendName:"cpu",kernelFunc:j4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mle(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o,bias:i,preluActivationWeights:l}=e,{transposeA:d,transposeB:f,activation:c,leakyreluAlpha:h}=r;let g,v,b;const w=[];g=j4({inputs:{a,b:o},attrs:{transposeA:d,transposeB:f},backend:n}),i&&(v=sd({inputs:{a:g,b:i},backend:n}),w.push(g),g=v),c&&(b=Jy(n,g,c,l,h),w.push(g),g=b);for(const E of w)n.disposeIntermediateTensorInfo(E);return g}const gle={kernelName:rp,backendName:"cpu",kernelFunc:mle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vle=jn(lg,t=>Math.acos(t)),yle={kernelName:lg,backendName:"cpu",kernelFunc:vle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ble=jn(cg,t=>Math.acosh(t)),Sle={kernelName:cg,backendName:"cpu",kernelFunc:ble};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wle(t){const{inputs:e,backend:n}=t,r=e;mt(e,"addN");const a=r.map(l=>n.data.get(l.dataId).values),o=cn(r[0].shape,r[0].dtype),i=o.values;for(let l=0;l<r.length;l++){const d=a[l];for(let f=0;f<i.length;f++)i[f]+=d[f]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const _le={kernelName:dg,backendName:"cpu",kernelFunc:wle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r;mt(a,"all");const l=gr(o,a.shape);let d=l;const f=Fo(d,a.shape.length);let c=a;f!=null&&(c=ro({inputs:{x:a},backend:n,attrs:{perm:f}}),d=Ua(d.length,a.shape.length)),za("all",d,c.shape.length);const[h,g]=Ba(c.shape,d),v=Ce(g),b=xa(Ce(h),c.dtype),w=n.data.get(c.dataId).values;for(let E=0;E<b.length;++E){const T=E*v;let C=w[T];for(let I=0;I<v;++I){const D=w[T+I];C=C&&D}b[E]=C}f!=null&&n.disposeIntermediateTensorInfo(c);const x=n.makeTensorInfo(h,c.dtype,b);if(i){const E=ca(h,l),T=rr({inputs:{x},backend:n,attrs:{shape:E}});return n.disposeIntermediateTensorInfo(x),T}return x}const Ele={kernelName:fg,backendName:"cpu",kernelFunc:xle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r;mt(a,"any");const l=gr(o,a.shape);let d=l;const f=Fo(d,a.shape.length);let c=a;f!=null&&(c=ro({inputs:{x:a},backend:n,attrs:{perm:f}}),d=Ua(d.length,a.shape.length)),za("any",d,c.shape.length);const[h,g]=Ba(c.shape,d),v=Ce(g),b=xa(Ce(h),c.dtype),w=n.data.get(c.dataId).values;for(let E=0;E<b.length;++E){const T=E*v;let C=w[T];for(let I=0;I<v;++I){const D=w[T+I];C=C||D}b[E]=C}f!=null&&n.disposeIntermediateTensorInfo(c);const x=n.makeTensorInfo(h,c.dtype,b);if(i){const E=ca(h,l),T=rr({inputs:{x},backend:n,attrs:{shape:E}});return n.disposeIntermediateTensorInfo(x),T}return x}const Tle={kernelName:pg,backendName:"cpu",kernelFunc:Cle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o}=r;mt(a,"argMax");let i=gr(o,a.shape);const l=Fo(i,a.shape.length);let d=a;const f=[];l!=null&&(d=ro({inputs:{x:a},backend:n,attrs:{perm:l}}),f.push(d),i=Ua(i.length,d.shape.length)),i=[i[0]],za("argMax",i,d.shape.length);const[c,h]=Ba(d.shape,i),g=Ce(c),v=xa(g,"int32"),b=Ce(h),w=n.data.get(d.dataId).values;for(let x=0;x<v.length;++x){const E=x*b;let T=w[E],C=0;for(let I=0;I<b;++I){const D=w[E+I];D>T&&(T=D,C=I)}v[x]=C}return f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(c,"int32",v)}const Ile={kernelName:aw,backendName:"cpu",kernelFunc:kle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o}=r;mt(a,"argMin");let i=gr(o,a.shape);const l=Fo(i,a.shape.length);let d=a;const f=[];l!=null&&(d=ro({inputs:{x:a},backend:n,attrs:{perm:l}}),f.push(d),i=Ua(i.length,d.shape.length)),i=[i[0]],za("argMin",i,d.shape.length);const[c,h]=Ba(d.shape,i),g=Ce(c),v=xa(g,"int32"),b=Ce(h),w=n.data.get(d.dataId).values;for(let x=0;x<v.length;++x){const E=x*b;let T=w[E],C=0;for(let I=0;I<b;++I){const D=w[E+I];D<T&&(T=D,C=I)}v[x]=C}return f.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(c,"int32",v)}const Ale={kernelName:ow,backendName:"cpu",kernelFunc:Rle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nle=jn(hg,t=>Math.asin(t)),Dle={kernelName:hg,backendName:"cpu",kernelFunc:Nle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ole=jn(mg,t=>Math.asinh(t)),Mle={kernelName:mg,backendName:"cpu",kernelFunc:Ole};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $le=jn(gg,t=>Math.atan(t)),Fle={kernelName:gg,backendName:"cpu",kernelFunc:$le};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ple=Ir((t,e)=>Math.atan2(t,e)),Lle=Wr(yg,Ple),Ble={kernelName:yg,backendName:"cpu",kernelFunc:Lle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zle=jn(vg,t=>Math.atanh(t)),Ule={kernelName:vg,backendName:"cpu",kernelFunc:zle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ax(t,e,n,r,a,o){const i=a.strideHeight,l=a.strideWidth,d=a.dilationHeight,f=a.dilationWidth,c=a.effectiveFilterHeight,h=a.effectiveFilterWidth,g=a.padInfo.top,v=a.padInfo.left,b=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=cn(a.outShape,n),x=w.values,E=a.outShape[1]*a.outShape[2]*a.outShape[3],T=a.outShape[2]*a.outShape[3],C=a.outShape[3];for(let I=0;I<a.batchSize;++I){const D=I*E,F=I*r[0];for(let B=0;B<a.inChannels;++B)for(let H=0;H<a.outHeight;++H){const z=H*i-g,U=Math.max(0,z),O=Math.min(a.inHeight,c+z),K=D+H*T;for(let G=0;G<a.outWidth;++G){const Z=G*l-v,J=Math.max(0,Z),se=Math.min(a.inWidth,h+Z);let oe=b,le=0,pe=0;for(let ve=U;ve<O;ve+=d){const Ee=F+ve*r[1];for(let _e=J;_e<se;_e+=f){const Ie=Ee+_e*r[2],De=t[Ie+B];o==="max"&&De>oe?oe=De:o==="avg"&&(le+=De,pe++)}if(isNaN(oe))break}const ye=K+G*C+B;x[ye]=o==="avg"?le/pe:oe}}}return w}function H4(t,e,n,r,a=!1,o=!1){const i=cn(r.outShape,"int32"),l=r.strideHeight,d=r.strideWidth,f=r.dilationHeight,c=r.dilationWidth,h=r.effectiveFilterHeight,g=r.effectiveFilterWidth,v=r.padInfo.top,b=r.padInfo.left,w=cn(e,n,t);for(let x=0;x<r.batchSize;++x)for(let E=0;E<r.inChannels;++E)for(let T=0;T<r.outHeight;++T){const C=T*l-v;let I=C;for(;I<0;)I+=f;const D=Math.min(r.inHeight,h+C);for(let F=0;F<r.outWidth;++F){const B=F*d-b;let H=B;for(;H<0;)H+=c;const z=Math.min(r.inWidth,g+B);let U=Number.NEGATIVE_INFINITY,O=-1;for(let K=I;K<D;K+=f){const G=K-C;for(let Z=H;Z<z;Z+=c){const J=Z-B,se=w.get(x,K,Z,E);se>U&&(U=se,a?O=o?((x*r.inHeight+K)*r.inWidth+Z)*r.inChannels+E:(K*r.inWidth+Z)*r.inChannels+E:O=G*g+J)}}i.set(O,x,T,F,E)}}return i}function W4(t,e,n,r,a,o){const i=a.strideDepth,l=a.strideHeight,d=a.strideWidth,f=a.dilationDepth,c=a.dilationHeight,h=a.dilationWidth,g=a.effectiveFilterDepth,v=a.effectiveFilterHeight,b=a.effectiveFilterWidth,w=a.padInfo.front,x=a.padInfo.top,E=a.padInfo.left,T=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,C=cn(a.outShape,n),I=C.values,D=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],F=a.outShape[2]*a.outShape[3]*a.outShape[4],B=a.outShape[3]*a.outShape[4],H=a.outShape[4];for(let z=0;z<a.batchSize;++z){const U=z*D,O=z*r[0];for(let K=0;K<a.inChannels;++K)for(let G=0;G<a.outDepth;++G){const Z=G*i-w;let J=Z;for(;J<0;)J+=f;const se=Math.min(a.inDepth,g+Z),oe=U+G*F;for(let le=0;le<a.outHeight;++le){const pe=le*l-x;let ye=pe;for(;ye<0;)ye+=c;const ve=Math.min(a.inHeight,v+pe),Ee=oe+le*B;for(let _e=0;_e<a.outWidth;++_e){const Ie=_e*d-E;let De=Ie;for(;De<0;)De+=h;const ze=Math.min(a.inWidth,b+Ie),Ve=Ee+_e*H;let Le=T,je=0,Ue=0;for(let it=J;it<se;it+=f){const Je=O+it*r[1];for(let bt=ye;bt<ve;bt+=c){const pt=Je+bt*r[2];for(let et=De;et<ze;et+=h){const Lt=pt+et*r[3],Ht=t[Lt+K];if(o==="max"&&Ht>Le?Le=Ht:o==="avg"&&(je+=Ht,Ue++),isNaN(Le))break}if(isNaN(Le))break}if(isNaN(Le))break}const Ze=Ve+K;I[Ze]=o==="avg"?je/Math.max(Ue,1):Le}}}}return C}function Vle(t,e){const n=cn(e.outShape,"int32"),r=e.strideDepth,a=e.strideHeight,o=e.strideWidth,i=e.dilationDepth,l=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterDepth,c=e.effectiveFilterHeight,h=e.effectiveFilterWidth,g=e.padInfo.front,v=e.padInfo.top,b=e.padInfo.left;for(let w=0;w<e.batchSize;++w)for(let x=0;x<e.inChannels;++x)for(let E=0;E<e.outDepth;++E){const T=E*r-g;let C=T;for(;C<0;)C+=i;const I=Math.min(e.inDepth,f+T);for(let D=0;D<e.outHeight;++D){const F=D*a-v;let B=F;for(;B<0;)B+=l;const H=Math.min(e.inHeight,c+F);for(let z=0;z<e.outWidth;++z){const U=z*o-b;let O=U;for(;O<0;)O+=d;const K=Math.min(e.inWidth,h+U);let G=Number.NEGATIVE_INFINITY,Z=-1;for(let J=C;J<I;J+=i){const se=J-T;for(let oe=B;oe<H;oe+=l){const le=oe-F;for(let pe=O;pe<K;pe+=d){const ye=pe-U,ve=t.get(w,J,oe,pe,x);ve>=G&&(G=ve,Z=se*c*h+le*c+ye)}}}n.set(Z,w,E,D,z,x)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;mt(a,"avgPool");const{filterSize:o,strides:i,pad:l,dimRoundingMode:d}=r,f=1;W(as(i,f),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${f}'`);const c=Is(a.shape,o,i,f,l,d);let h;if(c.filterWidth===1&&c.filterHeight===1&&ts(c.inShape,c.outShape))h=ui({inputs:{x:a},backend:n});else{const g=n.data.get(a.dataId).values,v=yt(a.shape),b=ax(g,a.shape,a.dtype,v,c,"avg");h=n.makeTensorInfo(c.outShape,a.dtype,b.values)}return h}const Hle={kernelName:bg,backendName:"cpu",kernelFunc:jle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:d,dataFormat:f}=r;mt(a,"avgPool3d");const c=Mu(a.shape,o,i,1,l,d,f),h=n.data.get(a.dataId).values,g=W4(h,a.shape,a.dtype,yt(a.shape),c,"avg");return n.makeTensorInfo(g.shape,"float32",g.values)}const qle={kernelName:sw,backendName:"cpu",kernelFunc:Wle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gle(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=r;mt([a,o],"avgPool3DGrad");const c=Mu(o.shape,i,l,1,d,f),h=c.strideDepth,g=c.strideHeight,v=c.strideWidth,b=c.filterDepth,w=c.filterHeight,x=c.filterWidth,E=c.dilationDepth,T=c.dilationHeight,C=c.dilationWidth,I=c.effectiveFilterDepth,D=c.effectiveFilterHeight,F=c.effectiveFilterWidth,B=I-1-c.padInfo.front,H=F-1-c.padInfo.left,z=D-1-c.padInfo.top,U=cn(o.shape,"float32"),O=1/(b*w*x),K=n.bufferSync(a);for(let G=0;G<c.batchSize;++G)for(let Z=0;Z<c.inChannels;++Z)for(let J=0;J<c.inDepth;++J)for(let se=0;se<c.inHeight;++se)for(let oe=0;oe<c.inWidth;++oe){const le=J-B,pe=se-z,ye=oe-H;let ve=0;for(let Ee=0;Ee<I;Ee+=E){const _e=(le+Ee)/h;if(!(_e<0||_e>=c.outDepth||Math.floor(_e)!==_e))for(let Ie=0;Ie<D;Ie+=T){const De=(pe+Ie)/g;if(!(De<0||De>=c.outHeight||Math.floor(De)!==De))for(let ze=0;ze<F;ze+=C){const Ve=(ye+ze)/v;if(Ve<0||Ve>=c.outWidth||Math.floor(Ve)!==Ve)continue;const Le=K.get(G,_e,De,Ve,Z);ve+=Le}}}U.set(ve*O,G,J,se,oe,Z)}return n.makeTensorInfo(U.shape,U.dtype,U.values)}const Kle={kernelName:AR,backendName:"cpu",kernelFunc:Gle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yle(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,i=o;mt([a,o],"avgPoolGrad");const{filterSize:l,strides:d,pad:f}=r,c=Is(i.shape,l,d,1,f),h=c.strideHeight,g=c.strideWidth,v=c.filterHeight,b=c.filterWidth,w=c.dilationHeight,x=c.dilationWidth,E=c.effectiveFilterHeight,T=c.effectiveFilterWidth,C=T-1-c.padInfo.left,I=E-1-c.padInfo.top,D=cn(i.shape,"float32"),F=1/(v*b),B=n.data.get(a.dataId).values,H=cn(a.shape,"float32",B);for(let z=0;z<c.batchSize;++z)for(let U=0;U<c.inChannels;++U)for(let O=0;O<c.inHeight;++O)for(let K=0;K<c.inWidth;++K){const G=O-I,Z=K-C;let J=0;for(let se=0;se<E;se+=w){const oe=(G+se)/h;if(!(oe<0||oe>=c.outHeight||Math.floor(oe)!==oe))for(let le=0;le<T;le+=x){const pe=(Z+le)/g;if(pe<0||pe>=c.outWidth||Math.floor(pe)!==pe)continue;const ye=H.get(z,oe,pe,U);J+=ye}}D.set(J*F,z,O,K,U)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const Xle={kernelName:RR,backendName:"cpu",kernelFunc:Yle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,scale:o,offset:i,mean:l,variance:d}=e;W(l.shape.length===d.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),W(i==null||l.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),W(o==null||l.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),mt([a,l,d,o,i],"batchNorm");let{varianceEpsilon:f}=r;f==null&&(f=.001);const c=n.data.get(a.dataId).values,h=n.data.get(l.dataId).values,g=n.data.get(d.dataId).values,v=o?n.data.get(o.dataId).values:new Float32Array([1]),b=i?n.data.get(i.dataId).values:new Float32Array([0]),w=new Float32Array(c.length),x=b.length,E=v.length,T=g.length,C=h.length;let I=0,D=0,F=0,B=0;for(let H=0;H<c.length;++H)w[H]=b[I++]+(c[H]-h[D++])*v[F++]/Math.sqrt(g[B++]+f),I>=x&&(I=0),D>=C&&(D=0),F>=E&&(F=0),B>=T&&(B=0);return n.makeTensorInfo(a.shape,a.dtype,w)}const Zle={kernelName:Kg,backendName:"cpu",kernelFunc:Qle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jle(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,crops:i}=r;mt([a],"batchToSpaceND");const l=o.reduce((E,T)=>E*T),d=Ly(a.shape,o,l),f=By(d.length,o.length),c=zy(a.shape,o,l),h=XN(i,o.length),g=QN(c,i,o.length),v=rr({inputs:{x:a},backend:n,attrs:{shape:d}}),b=ro({inputs:{x:v},backend:n,attrs:{perm:f}}),w=rr({inputs:{x:b},backend:n,attrs:{shape:c}}),x=Gl({inputs:{x:w},backend:n,attrs:{begin:h,size:g}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),x}const ece={kernelName:iw,backendName:"cpu",kernelFunc:Jle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:o}=e,{size:i}=r,l=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,f=WD(l,d,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,f)}const nce={kernelName:wg,backendName:"cpu",kernelFunc:tce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rce(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=nr(Array.from(o),Array.from(i));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}const ace={kernelName:uw,backendName:"cpu",kernelFunc:rce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oce=jn(ep,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),sce={kernelName:ep,backendName:"cpu",kernelFunc:oce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ice={kernelName:DR,backendName:"cpu",kernelFunc:t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(Ce(e.shape)),a=n.data.get(e.dataId),o=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,l=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values;for(let f=0;f<l.length;f++){const c=l[f],h=d[f];r[f]=Math.hypot(c,h)}return n.makeOutput(r,e.shape,"float32")}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ud(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const uce={kernelName:BR,backendName:"cpu",kernelFunc:ud};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ld(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r,o=gr(a,e[0].shape)[0],i=e.map(w=>w.shape);KN(i,o);let l=ad(e.map(w=>w.shape),o);if(Ce(l)===0)return n.makeTensorInfo(l,e[0].dtype,[]);const d=e.filter(w=>Ce(w.shape)>0);if(d.length===1)return ui({inputs:{x:d[0]},backend:n});if(d[0].dtype==="complex64"){const w=d.map(I=>ql({inputs:{input:I},backend:n})),x=d.map(I=>ud({inputs:{input:I},backend:n})),E=ld({inputs:w,backend:n,attrs:{axis:o}}),T=ld({inputs:x,backend:n,attrs:{axis:o}}),C=_o({inputs:{real:E,imag:T},backend:n});return w.forEach(I=>n.disposeIntermediateTensorInfo(I)),x.forEach(I=>n.disposeIntermediateTensorInfo(I)),n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(T),C}const f=d.map(w=>{const E=[-1,Ce(w.shape.slice(o))];return rr({inputs:{x:w},backend:n,attrs:{shape:E}})}),c=f.map(w=>({vals:n.data.get(w.dataId).values,shape:w.shape}));l=ad(f.map(w=>w.shape),1);const h=f[0].shape[0]===1,g=qD(c,l,e[0].dtype,h),v=ad(d.map(w=>w.shape),o),b=n.makeTensorInfo(v,e[0].dtype,g);return f.forEach(w=>n.disposeIntermediateTensorInfo(w)),b}const lce={kernelName:lw,backendName:"cpu",kernelFunc:ld};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:i,pad:l,dataFormat:d,dilations:f,dimRoundingMode:c}=r;mt([a,o],"conv2d");const h=Zc(d),g=eo(a.shape,o.shape,i,f,l,c,!1,h),v=g.filterHeight,b=g.filterWidth,w=g.dilationHeight,x=g.dilationWidth,E=g.padInfo.left,T=g.padInfo.top,C=g.dataFormat==="channelsLast",I=new jr(g.outShape,a.dtype),D=yt(a.shape),F=yt(o.shape),B=D[0],H=C?D[1]:D[2],z=C?D[2]:1,U=C?1:D[1],O=I.strides[0],K=C?I.strides[1]:I.strides[2],G=C?I.strides[2]:1,Z=C?1:I.strides[1],J=n.data.get(a.dataId).values,se=n.data.get(o.dataId).values,oe=I.values;for(let le=0;le<g.batchSize;++le){const pe=le*B,ye=le*O;for(let ve=0;ve<g.outHeight;++ve){const Ee=ye+ve*K,_e=ve*g.strideHeight-T;for(let Ie=0;Ie<v;++Ie){const De=_e+Ie*w;if(De<0||De>=g.inHeight)continue;const ze=Ie*F[0],Ve=pe+De*H;for(let Le=0;Le<g.outWidth;++Le){const je=Ee+Le*G,Ue=Le*g.strideWidth-E;for(let Ze=0;Ze<b;++Ze){const it=Ue+Ze*x;if(it<0||it>=g.inWidth)continue;const Je=ze+Ze*F[1],bt=Ve+it*z;let pt=Je;for(let et=0;et<g.inChannels;++et){const Lt=J[bt+et*U];for(let Ht=0;Ht<g.outChannels;++Ht)oe[je+Ht*Z]+=Lt*se[pt+Ht];pt+=g.outChannels}}}}}}return n.makeTensorInfo(I.shape,I.dtype,oe)}const cce={kernelName:Cg,backendName:"cpu",kernelFunc:q4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:i,pad:l,dataFormat:d,dimRoundingMode:f,filterShape:c}=r;mt([a,o],"conv2dBackpropFilter");const h=Zc(d),g=eo(a.shape,c,i,1,l,f,!1,h),{strideHeight:v,strideWidth:b,filterHeight:w,filterWidth:x}=g,E=g.dataFormat==="channelsLast",T=new jr(g.filterShape,"float32"),C=g.padInfo.left,I=g.padInfo.top,D=n.data.get(a.dataId).values,F=n.data.get(o.dataId).values,B=new jr(a.shape,a.dtype,D),H=new jr(o.shape,o.dtype,F);for(let z=0;z<w;++z){const U=Math.max(0,Math.ceil((I-z)/v)),O=Math.min(g.outHeight,(g.inHeight+I-z)/v);for(let K=0;K<x;++K){const G=Math.max(0,Math.ceil((C-K)/b)),Z=Math.min(g.outWidth,(g.inWidth+C-K)/b);for(let J=0;J<g.inChannels;++J)for(let se=0;se<g.outChannels;++se){let oe=0;for(let le=0;le<g.batchSize;++le)for(let pe=U;pe<O;++pe){const ye=z+pe*v-I;for(let ve=G;ve<Z;++ve){const Ee=K+ve*b-C;E?oe+=B.get(le,ye,Ee,J)*H.get(le,pe,ve,se):oe+=B.get(le,J,ye,Ee)*H.get(le,se,pe,ve)}}T.set(oe,z,K,J,se)}}}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const fce={kernelName:OR,backendName:"cpu",kernelFunc:dce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pce(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{inputShape:i,strides:l,pad:d,dataFormat:f,dimRoundingMode:c}=r;mt([a,o],"conv2dBackpropInput");const h=yt(o.shape),g=yt(a.shape);let v=Zc(f);const b=eo(i,o.shape,l,1,d,c,!1,v),w=new jr(b.inShape,"float32"),x=w.values,E=n.data.get(a.dataId).values,T=n.data.get(o.dataId).values,[C,I,D]=h,{batchSize:F,filterHeight:B,filterWidth:H,inChannels:z,inHeight:U,inWidth:O,outChannels:K,outHeight:G,outWidth:Z,strideHeight:J,strideWidth:se}=b;v=b.dataFormat;const oe=B-1-b.padInfo.top,le=H-1-b.padInfo.left,pe=v==="channelsLast",ye=w.strides[0],ve=pe?w.strides[1]:w.strides[2],Ee=pe?w.strides[2]:1,_e=pe?1:w.strides[1],Ie=g[0],De=pe?g[1]:g[2],ze=pe?g[2]:1,Ve=pe?1:g[1];for(let Le=0;Le<F;++Le)for(let je=0;je<z;++je)for(let Ue=0;Ue<U;++Ue){const Ze=Ue-oe,it=Math.max(0,Math.ceil(Ze/J)),Je=Math.min(G,(B+Ze)/J);for(let bt=0;bt<O;++bt){const pt=bt-le,et=Math.max(0,Math.ceil(pt/se)),Lt=Math.min(Z,(H+pt)/se);let Ht=0;for(let Vt=it;Vt<Je;++Vt){const En=Vt*J-Ze;for(let tn=et;tn<Lt;++tn){const mn=tn*se-pt,Hn=Ie*Le+De*Vt+ze*tn,Sn=C*(B-1-En)+I*(H-1-mn)+D*je;for(let Dn=0;Dn<K;++Dn){const Cn=E[Hn+Ve*Dn],or=T[Sn+Dn];Ht+=Cn*or}}}const Gt=ye*Le+ve*Ue+Ee*bt+_e*je;x[Gt]=Ht}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const hce={kernelName:Tg,backendName:"cpu",kernelFunc:pce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:i,pad:l,dilations:d}=r;mt([a,o],"conv3d");const f=Ml(a.shape,o.shape,i,d,l),{filterDepth:c,filterHeight:h,filterWidth:g,dilationDepth:v,dilationHeight:b,dilationWidth:w,padInfo:x}=f,E=x.front,T=x.left,C=x.top,I=new jr(f.outShape,a.dtype),D=n.data.get(a.dataId).values,F=n.data.get(o.dataId).values,B=I.values,H=yt(a.shape),z=yt(o.shape);for(let U=0;U<f.batchSize;++U){const O=U*H[0],K=U*I.strides[0];for(let G=0;G<f.outDepth;++G){const Z=K+G*I.strides[1],J=G*f.strideDepth-E;for(let se=0;se<c;++se){const oe=J+se*v;if(oe<0||oe>=f.inDepth)continue;const le=se*z[0],pe=O+oe*H[1];for(let ye=0;ye<f.outHeight;++ye){const ve=Z+ye*I.strides[2],Ee=ye*f.strideHeight-C;for(let _e=0;_e<h;++_e){const Ie=Ee+_e*b;if(Ie<0||Ie>=f.inHeight)continue;const De=le+_e*z[1],ze=pe+Ie*H[2];for(let Ve=0;Ve<f.outWidth;++Ve){const Le=ve+Ve*f.outChannels,je=Ve*f.strideWidth-T;for(let Ue=0;Ue<g;++Ue){const Ze=je+Ue*w;if(Ze<0||Ze>=f.inWidth)continue;const it=De+Ue*z[2],Je=ze+Ze*f.inChannels;let bt=it;for(let pt=0;pt<f.inChannels;++pt){const et=D[Je+pt];for(let Lt=0;Lt<f.outChannels;++Lt)B[Le+Lt]+=et*F[bt+Lt];bt+=f.outChannels}}}}}}}}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const gce={kernelName:kg,backendName:"cpu",kernelFunc:mce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:i,pad:l,filterShape:d}=r;mt([a,o],"conv3dBackpropFilterV2");const f=yt(a.shape),c=yt(o.shape),h=Ml(a.shape,d,i,1,l),g=h.strideDepth,v=h.strideHeight,b=h.strideWidth,w=h.filterDepth,x=h.filterHeight,E=h.filterWidth,T=new jr(h.filterShape,"float32"),C=T.values,[I,D,F,B]=T.strides,H=n.data.get(o.dataId).values,[z,U,O,K]=c,G=n.data.get(a.dataId).values,[Z,J,se,oe]=f,le=h.padInfo.front,pe=h.padInfo.left,ye=h.padInfo.top;for(let ve=0;ve<w;++ve){const Ee=Math.max(0,Math.ceil((le-ve)/g)),_e=Math.min(h.outDepth,(h.inDepth+le-ve)/g),Ie=ve*I;for(let De=0;De<x;++De){const ze=Math.max(0,Math.ceil((ye-De)/v)),Ve=Math.min(h.outHeight,(h.inHeight+ye-De)/v),Le=De*D+Ie;for(let je=0;je<E;++je){const Ue=Math.max(0,Math.ceil((pe-je)/b)),Ze=Math.min(h.outWidth,(h.inWidth+pe-je)/b),it=je*F+Le;for(let Je=0;Je<h.inChannels;++Je){const bt=Je*B+it;for(let pt=0;pt<h.outChannels;++pt){let et=0;for(let Lt=0;Lt<h.batchSize;++Lt){const Ht=Lt*Z,Gt=Lt*z;for(let Vt=Ee;Vt<_e;++Vt){const tn=(ve+Vt*g-le)*J+Ht,mn=Vt*U+Gt;for(let Hn=ze;Hn<Ve;++Hn){const Dn=(De+Hn*v-ye)*se+tn,Cn=Hn*O+mn;for(let or=Ue;or<Ze;++or){const We=(je+or*b-pe)*oe+Dn,at=or*K+Cn;et+=G[We+Je]*H[at+pt]}}}}C[bt+pt]=et}}}}}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const yce={kernelName:cw,backendName:"cpu",kernelFunc:vce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bce(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{pad:i,strides:l,inputShape:d}=r;mt([a],"conv3dBackpropInputV2");const f=yt(a.shape),c=yt(o.shape),h=Ml(d,o.shape,l,1,i),g=new jr(h.inShape,"float32"),v=g.values,[b,w,x,E]=g.strides,T=n.data.get(a.dataId).values,[C,I,D,F]=f,B=n.data.get(o.dataId).values,[H,z,U,O]=c,{batchSize:K,filterDepth:G,filterHeight:Z,filterWidth:J,inChannels:se,inDepth:oe,inHeight:le,inWidth:pe,outChannels:ye,outDepth:ve,outHeight:Ee,outWidth:_e,strideDepth:Ie,strideHeight:De,strideWidth:ze}=h,Ve=G-1-h.padInfo.front,Le=Z-1-h.padInfo.top,je=J-1-h.padInfo.left;for(let Ue=0;Ue<K;++Ue)for(let Ze=0;Ze<se;++Ze)for(let it=0;it<oe;++it){const Je=it-Ve,bt=Math.max(0,Math.ceil(Je/Ie)),pt=Math.min(ve,(G+Je)/Ie);for(let et=0;et<le;++et){const Lt=et-Le,Ht=Math.max(0,Math.ceil(Lt/De)),Gt=Math.min(Ee,(Z+Lt)/De);for(let Vt=0;Vt<pe;++Vt){const En=Vt-je,tn=Math.max(0,Math.ceil(En/ze)),mn=Math.min(_e,(J+En)/ze);let Hn=0;for(let Sn=bt;Sn<pt;++Sn){const Dn=Sn*Ie-Je;for(let Cn=Ht;Cn<Gt;++Cn){const or=Cn*De-Lt;for(let ur=tn;ur<mn;++ur){const We=ur*ze-En,at=C*Ue+I*Sn+D*Cn+F*ur,$t=H*(G-1-Dn)+z*(Z-1-or)+U*(J-1-We)+O*Ze;for(let Kt=0;Kt<ye;++Kt){const rn=T[at+Kt],Bt=B[$t+Kt];Hn+=rn*Bt}}}}v[b*Ue+w*it+x*et+E*Vt+Ze]=Hn}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Sce={kernelName:Ig,backendName:"cpu",kernelFunc:bce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wce=jn(Rg,t=>Math.cos(t)),_ce={kernelName:Rg,backendName:"cpu",kernelFunc:wce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xce=jn(Ag,t=>Math.cosh(t)),Ece={kernelName:Ag,backendName:"cpu",kernelFunc:xce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cce(t){const{inputs:e,backend:n,attrs:r}=t,{image:a,boxes:o,boxInd:i}=e,{cropSize:l,method:d,extrapolationValue:f}=r,[c,h,g,v]=a.shape,b=o.shape[0],[w,x]=l,E=cn([b,w,x,v],"float32"),T=n.data.get(o.dataId).values,C=n.data.get(i.dataId).values,I=n.data.get(a.dataId).values,D=yt(a.shape),F=yt(E.shape);for(let B=0;B<b;B++){const H=B*4,z=T[H],U=T[H+1],O=T[H+2],K=T[H+3],G=C[B];if(G>=c)continue;const Z=w>1?(O-z)*(h-1)/(w-1):0,J=x>1?(K-U)*(g-1)/(x-1):0;for(let se=0;se<w;se++){const oe=w>1?z*(h-1)+se*Z:.5*(z+O)*(h-1);if(oe<0||oe>h-1){for(let le=0;le<x;le++)for(let pe=0;pe<v;pe++){const ye=pe+le*F[2]+se*F[1]+B*F[0];E.values[ye]=f}continue}if(d==="bilinear"){const le=Math.floor(oe),pe=Math.ceil(oe),ye=oe-le;for(let ve=0;ve<x;ve++){const Ee=x>1?U*(g-1)+ve*J:.5*(U+K)*(g-1);if(Ee<0||Ee>g-1){for(let ze=0;ze<v;ze++){const Ve=ze+ve*F[2]+se*F[1]+B*F[0];E.values[Ve]=f}continue}const _e=Math.floor(Ee),Ie=Math.ceil(Ee),De=Ee-_e;for(let ze=0;ze<v;ze++){let Ve=ze+_e*D[2]+le*D[1]+G*D[0];const Le=I[Ve];Ve=ze+Ie*D[2]+le*D[1]+G*D[0];const je=I[Ve];Ve=ze+_e*D[2]+pe*D[1]+G*D[0];const Ue=I[Ve];Ve=ze+Ie*D[2]+pe*D[1]+G*D[0];const Ze=I[Ve],it=Le+(je-Le)*De,Je=Ue+(Ze-Ue)*De;Ve=ze+ve*F[2]+se*F[1]+B*F[0],E.values[Ve]=it+(Je-it)*ye}}}else for(let le=0;le<x;++le){const pe=x>1?U*(g-1)+le*J:.5*(U+K)*(g-1);if(pe<0||pe>g-1){for(let Ee=0;Ee<v;Ee++){const _e=Ee+le*F[2]+se*F[1]+B*F[0];E.values[_e]=f}continue}const ye=Math.round(pe),ve=Math.round(oe);for(let Ee=0;Ee<v;Ee++){const _e=Ee+ye*D[2]+ve*D[1]+G*D[0],Ie=Ee+le*F[2]+se*F[1]+B*F[0];E.values[Ie]=I[_e]}}}}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const Tce={kernelName:Og,backendName:"cpu",kernelFunc:Cce};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:i,reverse:l}=r;mt(a,"cumprod");const d=Fo([o],a.shape.length);let f=a;d!=null&&(f=ro({inputs:{x:a},backend:n,attrs:{perm:d}}));const c=Ua(1,a.shape.length)[0];if(c!==f.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${f.shape.length-1} but got axis=${c}`);const h=Wc(f.dtype,"int32"),g=ew(Ce(f.shape),h),v=n.data.get(f.dataId).values,b=f.shape[f.shape.length-1],w=l?(E,T)=>E+b-T-1:(E,T)=>E+T;for(let E=0;E<v.length;E+=b)for(let T=0;T<b;T++){const C=w(E,T);if(T===0)g[C]=i?1:v[C];else{const I=w(E,T-1);g[C]=i?v[I]*g[I]:v[C]*g[I]}}const x=n.makeTensorInfo(f.shape,h,g);if(d!=null){const E=by(d),T=ro({inputs:{x},backend:n,attrs:{perm:E}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(f),T}return x}const Ice={kernelName:Ng,backendName:"cpu",kernelFunc:kce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:i,reverse:l}=r;mt(a,"cumsum");const d=Fo([o],a.shape.length);let f=a;d!=null&&(f=ro({inputs:{x:a},backend:n,attrs:{perm:d}}));const c=Ua(1,a.shape.length)[0];if(c!==f.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${f.shape.length-1} but got axis=${c}`);const h=Wc(f.dtype,"int32"),g=xa(Ce(f.shape),h),v=n.data.get(f.dataId).values,b=f.shape[f.shape.length-1],w=l?(E,T)=>E+b-T-1:(E,T)=>E+T;for(let E=0;E<v.length;E+=b)for(let T=0;T<b;T++){const C=w(E,T);if(T===0)g[C]=i?0:v[C];else{const I=w(E,T-1);g[C]=i?v[I]+g[I]:v[C]+g[I]}}const x=n.makeTensorInfo(f.shape,h,g);if(d!=null){const E=by(d),T=ro({inputs:{x},backend:n,attrs:{perm:E}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(f),T}return x}const Ace={kernelName:Dg,backendName:"cpu",kernelFunc:Rce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:o}=e,{size:i,binaryOutput:l}=r;if(a.shape.length===1){const d=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,c=WD(d,f,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}else if(a.shape.length===2){const d=n.bufferSync(a),f=n.bufferSync(o),c=Zte(d,f,i,l);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const Dce={kernelName:dw,backendName:"cpu",kernelFunc:Nce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockSize:o,dataFormat:i}=r;W(i==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`);const l=a.shape[0],d=a.shape[1],f=a.shape[2],c=a.shape[3],h=d*o,g=f*o,v=c/(o*o),b=n.data.get(a.dataId).values,w=new Float32Array(l*h*g*v);let x=0;for(let E=0;E<l;++E)for(let T=0;T<h;++T){const C=Math.floor(T/o),I=T%o;for(let D=0;D<g;++D){const F=Math.floor(D/o),B=D%o,H=(I*o+B)*v;for(let z=0;z<v;++z){const O=z+H+c*(F+f*(C+d*E));w[x++]=b[O]}}}return n.makeTensorInfo([l,h,g,v],a.dtype,w)}const Mce={kernelName:Mg,backendName:"cpu",kernelFunc:Oce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:i,pad:l,dilations:d,dimRoundingMode:f}=r;mt([a,o],"depthwiseConv2DNative");const c=yt(a.shape),h=yt(o.shape);let g=d;g==null&&(g=[1,1]),W(as(i,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${g}'`);const v=eo(a.shape,o.shape,i,g,l,f,!0),{filterHeight:b,filterWidth:w,dilationHeight:x,dilationWidth:E,padInfo:T}=v,C=T.left,I=T.top,D=v.outChannels/v.inChannels,F=new jr(v.outShape,a.dtype),B=n.data.get(a.dataId).values,H=n.data.get(o.dataId).values,z=F.values;for(let U=0;U<v.batchSize;++U){const O=U*c[0],K=U*F.strides[0];for(let G=0;G<v.outHeight;++G){const Z=K+G*F.strides[1],J=G*v.strideHeight-I;for(let se=0;se<b;++se){const oe=J+se*x;if(oe<0||oe>=v.inHeight)continue;const le=se*h[0],pe=O+oe*c[1];for(let ye=0;ye<v.outWidth;++ye){const ve=Z+ye*F.strides[2],Ee=ye*v.strideWidth-C;for(let _e=0;_e<w;++_e){const Ie=Ee+_e*E;if(Ie<0||Ie>=v.inWidth)continue;const De=le+_e*h[1],ze=pe+Ie*v.inChannels;let Ve=ve,Le=De;for(let je=0;je<v.inChannels;++je){const Ue=B[ze+je];for(let Ze=0;Ze<D;++Ze)z[Ve+Ze]+=Ue*H[Le+Ze];Ve+=D,Le+=D}}}}}}return n.makeTensorInfo(F.shape,F.dtype,F.values)}const $ce={kernelName:$g,backendName:"cpu",kernelFunc:G4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:i,dilations:l,pad:d,dimRoundingMode:f,filterShape:c}=r;mt([a,o],"depthwiseConv2dNativeBackpropFilter");const h=eo(a.shape,c,i,l,d,f,!0),{strideHeight:g,strideWidth:v,filterHeight:b,filterWidth:w}=h,x=new jr(h.filterShape,"float32"),E=h.padInfo.left,T=h.padInfo.top,C=h.outChannels/h.inChannels,I=n.data.get(a.dataId).values,D=new jr(a.shape,a.dtype,I),F=n.data.get(o.dataId).values,B=new jr(o.shape,o.dtype,F);for(let H=0;H<b;++H){const z=Math.max(0,Math.ceil((T-H)/g)),U=Math.min(h.outHeight,(h.inHeight+T-H)/g);for(let O=0;O<w;++O){const K=Math.max(0,Math.ceil((E-O)/v)),G=Math.min(h.outWidth,(h.inWidth+E-O)/v);for(let Z=0;Z<h.outChannels;++Z){const J=Math.trunc(Z/C),se=Z%C;let oe=0;for(let le=0;le<h.batchSize;++le)for(let pe=z;pe<U;++pe){const ye=H+pe*g-T;for(let ve=K;ve<G;++ve){const Ee=O+ve*v-E;oe+=D.get(le,ye,Ee,J)*B.get(le,pe,ve,Z)}}x.set(oe,H,O,J,se)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Pce={kernelName:MR,backendName:"cpu",kernelFunc:Fce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lce(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{strides:i,dilations:l,pad:d,dimRoundingMode:f,inputShape:c}=r;mt([a,o],"depthwiseConv2DNativeBackpropInput");const h=yt(a.shape),g=yt(o.shape),v=eo(c,o.shape,i,l,d,f,!0),b=new jr(v.inShape,"float32"),w=b.values,[x,E,T]=b.strides,C=n.data.get(a.dataId).values,[I,D,F]=h,B=n.data.get(o.dataId).values,[H,z,U]=g,{batchSize:O,filterHeight:K,filterWidth:G,inChannels:Z,inHeight:J,inWidth:se,outChannels:oe,outHeight:le,outWidth:pe,strideHeight:ye,strideWidth:ve}=v,Ee=K-1-v.padInfo.top,_e=G-1-v.padInfo.left,Ie=oe/Z;for(let De=0;De<O;++De)for(let ze=0;ze<Z;++ze)for(let Ve=0;Ve<J;++Ve){const Le=Ve-Ee,je=Math.max(0,Math.ceil(Le/ye)),Ue=Math.min(le,(K+Le)/ye);for(let Ze=0;Ze<se;++Ze){const it=Ze-_e,Je=Math.max(0,Math.ceil(it/ve)),bt=Math.min(pe,(G+it)/ve);let pt=0;for(let et=je;et<Ue;++et){const Lt=et*ye-Le;for(let Ht=Je;Ht<bt;++Ht){const Gt=Ht*ve-it,Vt=I*De+D*et+F*Ht,En=H*(K-1-Lt)+z*(G-1-Gt)+U*ze;for(let tn=0;tn<Ie;++tn){const mn=ze*Ie+tn,Hn=C[Vt+mn],Sn=B[En+tn];pt+=Hn*Sn}}}w[x*De+E*Ve+T*Ze+ze]=pt}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const Bce={kernelName:$R,backendName:"cpu",kernelFunc:Lce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zce(t){const{inputs:e,backend:n}=t,{x:r}=e,a=Ce(r.shape),o=n.data.get(r.dataId).values,i=cn([a,a],r.dtype),l=i.values;for(let f=0;f<o.length;f++)l[f*a+f]=o[f];const d=[...r.shape,...r.shape];return n.makeTensorInfo(d,i.dtype,i.values)}const Uce={kernelName:fw,backendName:"cpu",kernelFunc:zce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vce={kernelName:Fg,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a}=t,{strides:o,pad:i,dilations:l}=n,d=e,f=d.data.get(r.dataId).values,c=r.shape.length,h=d.data.get(a.dataId).values,g=a.shape.length,{batchSize:v,inHeight:b,inWidth:w,inChannels:x,outHeight:E,outWidth:T,padInfo:C,strideHeight:I,strideWidth:D,filterHeight:F,filterWidth:B,dilationHeight:H,dilationWidth:z,outShape:U}=Yc(r.shape,a.shape,o,i,"NHWC",l),O=Ce(U),K=U.length,G=Pr(r.dtype,O);for(let J=0;J<v;++J)for(let se=0;se<E;++se){const oe=se*I-C.top;for(let le=0;le<T;++le){const pe=le*D-C.left;for(let ye=0;ye<x;++ye){let ve=Number.MIN_SAFE_INTEGER;for(let _e=0;_e<F;++_e){const Ie=oe+_e*H;if(Ie>=0&&Ie<b)for(let De=0;De<B;++De){const ze=pe+De*z;if(ze>=0&&ze<w){const Ve=ri([J,Ie,ze,ye],c,yt(r.shape)),Le=ri([_e,De,ye],g,yt(a.shape)),je=f[Ve]+h[Le];je>ve&&(ve=je)}}}const Ee=ri([J,se,le,ye],K,yt(U));G[Ee]=ve}}}return{dataId:d.write(Rl(G,r.dtype),U,r.dtype),shape:U,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jce={kernelName:Lg,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:o}=t,{strides:i,pad:l,dilations:d}=n,f=e,c=ns(r.shape,f.data.get(r.dataId).values),h=ns(a.shape,f.data.get(a.dataId).values),{batchSize:g,inHeight:v,inWidth:b,inChannels:w,outHeight:x,outWidth:E,padInfo:T,strideHeight:C,strideWidth:I,filterHeight:D,filterWidth:F,dilationHeight:B,dilationWidth:H,outShape:z}=Yc(r.shape,a.shape,i,l,"NHWC",d);W(o.rank===z.length,()=>`Error in ${Lg}, dy must have the same rank as output ${z.length}, but got ${o.rank}`);const U=ns(z,f.data.get(o.dataId).values),O=CR(a.shape,a.dtype);for(let G=0;G<g;++G)for(let Z=0;Z<x;++Z){const J=Z*C-T.top;for(let se=0;se<E;++se){const oe=se*I-T.left;for(let le=0;le<w;++le){let pe=Number.MIN_SAFE_INTEGER,ye=0,ve=0;for(let Ee=0;Ee<D;++Ee){const _e=J+Ee*B;if(_e>=0&&_e<v)for(let Ie=0;Ie<F;++Ie){const De=oe+Ie*H;if(De>=0&&De<b){const ze=c[G][_e][De][le]+h[Ee][Ie][le];ze>pe&&(pe=ze,ye=Ee,ve=Ie)}}}O[ye][ve][le]+=U[G][Z][se][le]}}}return{dataId:f.write(Rl(O,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hce={kernelName:Pg,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:o}=t,{strides:i,pad:l,dilations:d}=n,f=e,c=ns(r.shape,f.data.get(r.dataId).values),h=ns(a.shape,f.data.get(a.dataId).values),{batchSize:g,inHeight:v,inWidth:b,inChannels:w,outHeight:x,outWidth:E,padInfo:T,strideHeight:C,strideWidth:I,filterHeight:D,filterWidth:F,dilationHeight:B,dilationWidth:H,outShape:z}=Yc(r.shape,a.shape,i,l,"NHWC",d);W(o.rank===z.length,()=>`Error in ${Pg}, dy must have the same rank as output ${z.length}, but got ${o.rank}`);const U=ns(z,f.data.get(o.dataId).values),O=CR(r.shape,r.dtype);for(let G=0;G<g;++G)for(let Z=0;Z<x;++Z){const J=Z*C-T.top;for(let se=0;se<E;++se){const oe=se*I-T.left;for(let le=0;le<w;++le){let pe=Number.MIN_SAFE_INTEGER,ye=J<0?0:J,ve=oe<0?0:oe;for(let Ee=0;Ee<D;++Ee){const _e=J+Ee*B;if(_e>=0&&_e<v)for(let Ie=0;Ie<F;++Ie){const De=oe+Ie*H;if(De>=0&&De<b){const ze=c[G][_e][De][le]+h[Ee][Ie][le];ze>pe&&(pe=ze,ye=_e,ve=De)}}}O[G][ye][ve][le]+=U[G][Z][se][le]}}}return{dataId:f.write(Rl(O,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wce(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{canvas:o,options:i}=r,{contextOptions:l,imageOptions:d}=i||{},f=(d==null?void 0:d.alpha)||1,c=(l==null?void 0:l.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${l.contextType} is not supported by the CPU backend.`);const h=o.getContext(c,(l==null?void 0:l.contextAttributes)||{});if(h==null)throw new Error(`Could not get the context with ${c} type.`);const[g,v]=a.shape.slice(0,2),b=a.shape.length===2?1:a.shape[2],w=n.data.get(a.dataId).values,x=a.dtype==="float32"?255:1,E=new Uint8ClampedArray(v*g*4);for(let C=0;C<g*v;++C){const I=[0,0,0,255*f];for(let F=0;F<b;F++){const B=w[C*b+F];if(a.dtype==="float32"){if(B<0||B>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${B}.`)}else if(a.dtype==="int32"&&(B<0||B>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${B}.`);b===1?(I[0]=B*x,I[1]=B*x,I[2]=B*x):I[F]=B*x}const D=C*4;E[D+0]=Math.round(I[0]),E[D+1]=Math.round(I[1]),E[D+2]=Math.round(I[2]),E[D+3]=Math.round(I[3])}o.width=v,o.height=g;const T=new ImageData(E,v,g);return h.putImageData(T,0,0),a}const qce={kernelName:ij,backendName:"cpu",kernelFunc:Wce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rp(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r;mt(a,"sum");let l;a.dtype==="bool"?l=zu({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):l=ui({inputs:{x:a},backend:n});const d=l.shape.length,f=gr(o,l.shape),c=Fo(f,d);let h=f,g=l;c!=null&&(g=ro({inputs:{x:l},backend:n,attrs:{perm:c}}),h=Ua(h.length,d)),za("sum",h,g.shape.length);const[v,b]=Ba(g.shape,h),w=Wc(g.dtype,"int32");let x=Ky(n,v,w);const E=Ce(b),T=n.data.get(x.dataId).values,C=n.data.get(g.dataId).values;for(let I=0;I<T.length;++I){const D=I*E;let F=0;for(let B=0;B<E;++B)F+=C[D+B];T[I]=F}if(i){const I=ca(x.shape,f),D=x;x=rr({inputs:{x},backend:n,attrs:{shape:I}}),n.disposeIntermediateTensorInfo(D)}return n.disposeIntermediateTensorInfo(l),c!=null&&n.disposeIntermediateTensorInfo(g),x}const Gce={kernelName:Yv,backendName:"cpu",kernelFunc:Rp};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kce(t){const{inputs:e,backend:n,attrs:r}=t,{equation:a}=r,o=e,{allDims:i,summedDims:l,idDims:d}=mJ(a,o.length);vJ(i.length,d,o);const{path:f,steps:c}=yJ(l,d),h=c.length;let g=null,v=i.length;const b=[];for(let w=0;w<h;++w){for(const x of c[w]){const{permutationIndices:E,expandDims:T}=gJ(v,d[x]);let C;bJ(E)?C=o[x]:(C=ro({inputs:{x:o[x]},backend:n,attrs:{perm:E}}),b.push(C));const I=C.shape.slice();for(let D=0;D<T.length;++D)I.splice(T[D],0,1);ts(C.shape,I)||(C=rr({inputs:{x:C},backend:n,attrs:{shape:I}}),b.push(C)),g===null?g=C:(g=Yy({inputs:{a:C,b:g},backend:n}),b.push(g))}w<h-1&&(f[w]>=0&&(g=Rp({inputs:{x:g},backend:n,attrs:{axis:f[w]-(i.length-v),keepDims:!1}}),b.push(g)),v--)}for(const w of b)w!==g&&n.disposeIntermediateTensorInfo(w);return g}const Yce={kernelName:FR,backendName:"cpu",kernelFunc:Kce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xce(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e;mt([r,a],"eluGrad");const o=new Float32Array(Ce(a.shape)),i=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values;for(let d=0;d<i.length;++d){const f=i[d];f>=0?o[d]=l[d]:o[d]=l[d]*(f+1)}return n.makeTensorInfo(a.shape,"float32",o)}const Qce={kernelName:pw,backendName:"cpu",kernelFunc:Xce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zce=nJ,Jce=rJ,ede=aJ,tde=oJ,nde=sJ,rde=iJ,ade=jn(Ug,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+Zce*n);return e*(1-((((rde*r+nde)*r+tde)*r+ede)*r+Jce)*r*Math.exp(-n*n))}),ode={kernelName:Ug,backendName:"cpu",kernelFunc:ade};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eb(t){const{inputs:e,backend:n,attrs:r}=t,{input:a}=e,{dim:o}=r,i=a.shape.length,l=a.shape.slice();let d=o;return o<0&&(W(-(i+1)<=o,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),d=i+o+1),l.splice(d,0,1),rr({inputs:{x:a},backend:n,attrs:{shape:l}})}const sde={kernelName:hw,backendName:"cpu",kernelFunc:eb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ide=Ir((t,e)=>t/e),ox=Wr(Bg,ide),sx={kernelName:Bg,backendName:"cpu",kernelFunc:ox};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4(t,e,n){const r=t.shape,a=r[0],o=r[1],i=n.data.get(t.dataId),l=i.complexTensorInfos.real,d=i.complexTensorInfos.imag,f=[a,o],c=Ce(f),h=Fa("float32",c),g=Fa("float32",c);for(let x=0;x<a;x++){const E=Gl({inputs:{x:l},backend:n,attrs:{begin:[x,0],size:[1,o]}}),T=Gl({inputs:{x:d},backend:n,attrs:{begin:[x,0],size:[1,o]}}),C=_o({inputs:{real:E,imag:T},backend:n}),{real:I,imag:D}=ude(C,e,n),F=od(I,D);for(let B=0;B<o;B++){const H=ZN(F,B);h[x*o+B]=H.real,g[x*o+B]=H.imag}n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(T),n.disposeIntermediateTensorInfo(C)}const v=n.makeTensorInfo(f,"float32",h),b=n.makeTensorInfo(f,"float32",g),w=_o({inputs:{real:v,imag:b},backend:n});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),w}function ude(t,e,n){const r=Ce(t.shape),a=n.data.get(t.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,i=n.data.get(a.complexTensorInfos.imag.dataId).values;if(lde(r)){const l=ix(o,i,r,e,n),d=[t.shape[0],t.shape[1]];if(e){const f=n.makeTensorInfo(d,"float32",l.real),c=n.makeTensorInfo(d,"float32",l.imag),h=n.makeTensorInfo([],"float32",Hw(r,"float32")),g=ui({inputs:{x:h},backend:n}),v=sx.kernelFunc({inputs:{a:f,b:h},backend:n}),b=sx.kernelFunc({inputs:{a:c,b:g},backend:n}),w=n.data.get(v.dataId).values,x=n.data.get(b.dataId).values;return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),{real:w,imag:x}}return l}else{const l=od(o,i),d=cde(l,r,e);return uJ(d)}}function lde(t){return(t&t-1)===0}function ix(t,e,n,r,a){if(n===1)return{real:t,imag:e};const o=od(t,e),i=n/2,l=lJ(o),d=l.real,f=l.imag,c=[d.length],h=a.makeTensorInfo(c,"float32",d),g=a.makeTensorInfo(c,"float32",f),v=_o({inputs:{real:h,imag:g},backend:a}),b=cJ(o),w=b.real,x=b.imag,E=[w.length],T=a.makeTensorInfo(E,"float32",w),C=a.makeTensorInfo(E,"float32",x),I=_o({inputs:{real:T,imag:C},backend:a}),D=ix(d,f,i,r,a),F=D.real,B=D.imag,H=[F.length],z=a.makeTensorInfo(H,"float32",F),U=a.makeTensorInfo(H,"float32",B),O=_o({inputs:{real:z,imag:U},backend:a}),K=ix(w,x,i,r,a),G=K.real,Z=K.imag,J=[G.length],se=a.makeTensorInfo(J,"float32",G),oe=a.makeTensorInfo(J,"float32",Z),le=_o({inputs:{real:se,imag:oe},backend:a}),pe=fJ(n,r),ye=[pe.real.length],ve=a.makeTensorInfo(ye,"float32",pe.real),Ee=a.makeTensorInfo(ye,"float32",pe.imag),_e=_o({inputs:{real:ve,imag:Ee},backend:a}),Ie=Yy({inputs:{a:_e,b:le},backend:a}),De=sd({inputs:{a:O,b:Ie},backend:a}),ze=Y_({inputs:{a:O,b:Ie},backend:a}),Ve=ql({inputs:{input:De},backend:a}),Le=ql({inputs:{input:ze},backend:a}),je=ud({inputs:{input:De},backend:a}),Ue=ud({inputs:{input:ze},backend:a}),Ze=ld({inputs:[Ve,Le],backend:a,attrs:{axis:0}}),it=ld({inputs:[je,Ue],backend:a,attrs:{axis:0}}),Je=a.data.get(Ze.dataId).values,bt=a.data.get(it.dataId).values;return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(se),a.disposeIntermediateTensorInfo(oe),a.disposeIntermediateTensorInfo(le),a.disposeIntermediateTensorInfo(ve),a.disposeIntermediateTensorInfo(Ee),a.disposeIntermediateTensorInfo(_e),a.disposeIntermediateTensorInfo(Ie),a.disposeIntermediateTensorInfo(De),a.disposeIntermediateTensorInfo(ze),a.disposeIntermediateTensorInfo(Ve),a.disposeIntermediateTensorInfo(je),a.disposeIntermediateTensorInfo(Le),a.disposeIntermediateTensorInfo(Ue),a.disposeIntermediateTensorInfo(Ze),a.disposeIntermediateTensorInfo(it),{real:Je,imag:bt}}function cde(t,e,n){const r=new Float32Array(e*2);for(let a=0;a<e;a++){let o=0,i=0;for(let l=0;l<e;l++){const d=pJ(a*l,e,n),f=ZN(t,l);o+=f.real*d.real-f.imag*d.imag,i+=f.real*d.imag+f.imag*d.real}n&&(o/=e,i/=e),dJ(r,o,i,a)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dde(t){const{inputs:e,backend:n}=t,{input:r}=e,a=Ce(r.shape),o=r.shape[r.shape.length-1],i=a/o,l=rr({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),d=K4(l,!1,n),f=rr({inputs:{x:d},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),f}const fde={kernelName:PR,backendName:"cpu",kernelFunc:dde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ux(t){const{backend:e,attrs:n}=t,{shape:r,value:a,dtype:o}=n,i=o||Zf(a),l=Pr(i,Ce(r));return hde(l,a,i),e.makeTensorInfo(r,i,l)}const pde={kernelName:mw,backendName:"cpu",kernelFunc:ux};function hde(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mde={kernelName:Wg,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,a=n,o=Fa(r.dtype,Ce(r.shape)),[i,l,d,f]=r.shape,c=a.data.get(r.dataId).values;for(let g=0;g<i;g++){const v=g*d*l*f;for(let b=0;b<l;b++){const w=b*(d*f);for(let x=0;x<d;x++){const E=x*f;for(let T=0;T<f;T++){const C=Math.round(d-x-1),I=v+w+E+T;let D=c[I];if(C>=0&&C<d){const F=C*f,B=v+w+F+T;D=c[B]}o[I]=D}}}}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,bias:i,preluActivationWeights:l}=e,{strides:d,pad:f,dataFormat:c,dilations:h,dimRoundingMode:g,activation:v,leakyreluAlpha:b}=r;let w=q4({inputs:{x:a,filter:o},backend:n,attrs:{strides:d,pad:f,dataFormat:c,dilations:h,dimRoundingMode:g}});if(i){const x=w;if(c==="NCHW"&&i.shape.length===1&&i.shape[0]!==1){const E=rr({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});w=sd({inputs:{a:w,b:E},backend:n}),n.disposeIntermediateTensorInfo(E)}else w=sd({inputs:{a:w,b:i},backend:n});n.disposeIntermediateTensorInfo(x)}if(v){const x=w;if(c==="NCHW"&&v==="prelu"&&l.shape.length===1&&l.shape[0]!==1){const E=rr({inputs:{x:l},backend:n,attrs:{shape:[l.shape[0],1,1]}});w=Jy(n,w,v,E,b),n.disposeIntermediateTensorInfo(E)}else w=Jy(n,w,v,l,b);n.disposeIntermediateTensorInfo(x)}return w}const vde={kernelName:ap,backendName:"cpu",kernelFunc:gde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,bias:i,preluActivationWeights:l}=e,{strides:d,pad:f,dataFormat:c,dilations:h,dimRoundingMode:g,activation:v,leakyreluAlpha:b}=r;let w=G4({inputs:{x:a,filter:o},backend:n,attrs:{strides:d,pad:f,dataFormat:c,dilations:h,dimRoundingMode:g}});if(i){const x=w;w=sd({inputs:{a:w,b:i},backend:n}),n.disposeIntermediateTensorInfo(x)}if(v){const x=w;w=Jy(n,w,v,l,b),n.disposeIntermediateTensorInfo(x)}return w}const bde={kernelName:op,backendName:"cpu",kernelFunc:yde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(t){const{inputs:e,backend:n}=t,{params:r,indices:a}=e,o=Ce(r.shape),i=a.shape,l=i[i.length-1],[d,f,c,h]=UN(r,a);if(f===0)return n.makeTensorInfo(d,r.dtype,[]);const g=n.data.get(a.dataId).values,v=n.bufferSync(r),b=yne(g,v,r.dtype,f,l,c,h,r.shape,o);return n.makeTensorInfo(d,r.dtype,b.values)}const wde={kernelName:Yg,backendName:"cpu",kernelFunc:Sde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,indices:o}=e,{axis:i,batchDims:l}=r;mt([a,o],"gatherV2");const d=gr(i,a.shape)[0],f=n.data.get(o.dataId).values,c=a.shape[d];for(let I=0;I<f.length;++I){const D=f[I];W(D<=c-1&&D>=0,()=>`GatherV2: the index value ${D} is not in [0, ${c-1}]`)}let h=l;l==null&&(h=0);const g=Ce(o.shape),v=pD(a,o,d,h),b=rr({inputs:{x:a},backend:n,attrs:{shape:[v.batchSize,v.outerSize,v.dimSize,v.sliceSize]}}),w=rr({inputs:{x:o},backend:n,attrs:{shape:[v.batchSize,g/v.batchSize]}}),x=[v.batchSize,v.outerSize,g/v.batchSize,v.sliceSize],E=n.bufferSync(w),T=n.bufferSync(b),C=bne(T,E,x);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(v.outputShape,C.dtype,C.values)}const xde={kernelName:gw,backendName:"cpu",kernelFunc:_de};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ede(t){const{inputs:e,backend:n}=t,{input:r}=e,a=Ce(r.shape),o=r.shape[r.shape.length-1],i=a/o,l=rr({inputs:{x:r},backend:n,attrs:{shape:[i,o]}}),d=K4(l,!0,n),f=rr({inputs:{x:d},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),f}const Cde={kernelName:LR,backendName:"cpu",kernelFunc:Ede};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tde=jn(Jg,t=>Number.isFinite(t)?1:0,"bool"),kde={kernelName:Jg,backendName:"cpu",kernelFunc:Tde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ide=jn(ev,t=>Math.abs(t)===1/0?1:0,"bool"),Rde={kernelName:ev,backendName:"cpu",kernelFunc:Ide};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ade=jn(tv,t=>Number.isNaN(t)?1:0,"bool"),Nde={kernelName:tv,backendName:"cpu",kernelFunc:Ade};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(t){const{backend:e,attrs:n}=t,{start:r,stop:a,num:o}=n,i=Dne(r,a,o);return e.makeTensorInfo([i.length],"float32",i)}const Ode={kernelName:ov,backendName:"cpu",kernelFunc:Dde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mde=jn(iv,t=>Math.log1p(t)),$de={kernelName:iv,backendName:"cpu",kernelFunc:Mde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fde=Ir((t,e)=>t&&e),Pde=Wr(uv,Fde,null,"bool"),Lde={kernelName:uv,backendName:"cpu",kernelFunc:Pde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bde=jn(lv,t=>t?0:1,"bool"),zde={kernelName:lv,backendName:"cpu",kernelFunc:Bde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ude=Ir((t,e)=>t||e),Vde=Wr(cv,Ude,null,"bool"),jde={kernelName:cv,backendName:"cpu",kernelFunc:Vde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:o,bias:i,alpha:l,beta:d}=r;mt(a,"LRN");const f=a.shape[3],c=f-1,h=n.data.get(a.dataId).values,g=Ce(a.shape),v=new Float32Array(g);function b(w){const x=w%f;let E=w-x+Math.max(0,x-o);const T=w-x+Math.min(x+o,c);let C=0;for(;E<=T;E++){const I=h[E];C+=I*I}return C}for(let w=0;w<g;w++){const x=b(w),E=h[w]*Math.pow(i+l*x,-d);v[w]=E}return n.makeTensorInfo(a.shape,a.dtype,v)}const Wde={kernelName:dv,backendName:"cpu",kernelFunc:Hde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:o,dy:i}=e,{depthRadius:l,bias:d,alpha:f,beta:c}=r;mt(i,"LRNGrad");const h=Ce(i.shape),g=i.shape[3],v=n.data.get(i.dataId).values,b=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,x=new Float32Array(h),E=h;for(let T=0;T<E;T++){const C=T%g,I=T-C+Math.max(0,C-l),D=T-C+Math.min(g,C+l+1);let F=0;for(let B=I;B<D;B++)F+=Math.pow(b[B],2);F=f*F+d;for(let B=I;B<D;B++){let H=-2*f*c*b[B]*w[T]/F;T===B&&(H+=Math.pow(F,-c)),H*=v[T],x[B]+=H}}return n.makeTensorInfo(i.shape,a.dtype,x)}const Gde={kernelName:vw,backendName:"cpu",kernelFunc:qde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y4(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reductionIndices:o,keepDims:i}=r,l=n;let d=a.shape;const f=d.length,c=gr(o,d);let h=c;const g=Fo(h,f);let v=l.data.get(a.dataId).values;if(g!=null){const I=new Array(f);for(let D=0;D<I.length;D++)I[D]=d[g[D]];v=XD(v,d,a.dtype,g,I),h=Ua(h.length,f),d=I}mt(a,"max"),za("max",h,f);const[b,w]=Ba(d,h),x=Ce(w),E=Fne(v,x,b,a.dtype),T=l.write(E,b,a.dtype);let C=b;return i&&(C=ca(b,c)),{dataId:T,shape:C,dtype:a.dtype}}const Kde={kernelName:fv,backendName:"cpu",kernelFunc:Y4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;mt(a,"maxPool");const{filterSize:o,strides:i,pad:l,dimRoundingMode:d}=r,f=1;W(as(i,f),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${f}'`);const c=Is(a.shape,o,i,f,l,d);let h;if(c.filterWidth===1&&c.filterHeight===1&&ts(c.inShape,c.outShape))h=ui({inputs:{x:a},backend:n});else{const g=n.data.get(a.dataId).values,v=yt(a.shape),b=ax(g,a.shape,a.dtype,v,c,"max");h=n.makeTensorInfo(c.outShape,a.dtype,b.values)}return h}const Xde={kernelName:hv,backendName:"cpu",kernelFunc:Yde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:d,dataFormat:f}=r;mt(a,"maxPool3d");const c=Mu(a.shape,o,i,1,l,d,f),h=n.data.get(a.dataId).values,g=W4(h,a.shape,a.dtype,yt(a.shape),c,"max");return n.makeTensorInfo(g.shape,"float32",g.values)}const Zde={kernelName:yw,backendName:"cpu",kernelFunc:Qde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jde(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:i,strides:l,pad:d,dimRoundingMode:f}=r;mt([a,o],"maxPool3DGrad");const c=Mu(o.shape,i,l,1,d,f),h=n.bufferSync(o),g=Vle(h,c),v=c.strideDepth,b=c.strideHeight,w=c.strideWidth,x=c.dilationDepth,E=c.dilationHeight,T=c.dilationWidth,C=c.effectiveFilterDepth,I=c.effectiveFilterHeight,D=c.effectiveFilterWidth,F=C-1-c.padInfo.front,B=D-1-c.padInfo.left,H=I-1-c.padInfo.top,z=cn(o.shape,"float32"),U=n.bufferSync(a);for(let O=0;O<c.batchSize;++O)for(let K=0;K<c.inChannels;++K)for(let G=0;G<c.inDepth;++G)for(let Z=0;Z<c.inHeight;++Z)for(let J=0;J<c.inWidth;++J){const se=G-F,oe=Z-H,le=J-B;let pe=0;for(let ye=0;ye<C;ye+=x){const ve=(se+ye)/v;if(!(ve<0||ve>=c.outDepth||Math.floor(ve)!==ve))for(let Ee=0;Ee<I;Ee+=E){const _e=(oe+Ee)/b;if(!(_e<0||_e>=c.outHeight||Math.floor(_e)!==_e))for(let Ie=0;Ie<D;Ie+=T){const De=(le+Ie)/w;if(De<0||De>=c.outWidth||Math.floor(De)!==De)continue;const ze=C*I*D-1-g.get(O,ve,_e,De,K),Ve=ye*I*D+Ee*D+Ie,Le=ze===Ve?1:0;if(Le===0)continue;const je=U.get(O,ve,_e,De,K);pe+=je*Le}}}z.set(pe,O,G,Z,J,K)}return n.makeTensorInfo(z.shape,z.dtype,z.values)}const efe={kernelName:UR,backendName:"cpu",kernelFunc:Jde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o,output:i}=e,l=o;mt([o,i],"maxPoolGrad");const{filterSize:d,strides:f,pad:c,dimRoundingMode:h}=r,g=Is(l.shape,d,f,1,c,h),v=n.data.get(l.dataId).values,b=cn(g.outShape,l.dtype,H4(v,l.shape,l.dtype,g).values),w=g.strideHeight,x=g.strideWidth,E=g.dilationHeight,T=g.dilationWidth,C=g.effectiveFilterHeight,I=g.effectiveFilterWidth,D=I-1-g.padInfo.left,F=C-1-g.padInfo.top,B=cn(l.shape,"float32"),H=n.data.get(a.dataId).values,z=cn(a.shape,"float32",H);for(let U=0;U<g.batchSize;++U)for(let O=0;O<g.inChannels;++O)for(let K=0;K<g.inHeight;++K)for(let G=0;G<g.inWidth;++G){const Z=K-F,J=G-D;let se=0;for(let oe=0;oe<C;oe+=E){const le=(Z+oe)/w;if(!(le<0||le>=g.outHeight||Math.floor(le)!==le))for(let pe=0;pe<I;pe+=T){const ye=(J+pe)/x;if(ye<0||ye>=g.outWidth||Math.floor(ye)!==ye)continue;const ve=C*I-1-b.get(U,le,ye,O),Ee=oe*I+pe,_e=ve===Ee?1:0;if(_e===0)continue;const Ie=z.get(U,le,ye,O);se+=Ie*_e}}B.set(se,U,K,G,O)}return n.makeTensorInfo(B.shape,B.dtype,B.values)}const nfe={kernelName:zR,backendName:"cpu",kernelFunc:tfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t,e,n,r,a){const o=yt(e),i=ax(t,e,n,o,a,"max"),l=H4(t,e,n,a,!0,r);return[i.values,l.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const afe={kernelName:bw,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:a,strides:o,pad:i,includeBatchInIndex:l}=e,d=n;mt(r,"MaxPoolWithArgmax");const f=d.data.get(r.dataId).values,c=Is(r.shape,a,o,[1,1],i),[h,g]=rfe(f,r.shape,r.dtype,l,c),v=d.write(h,c.outShape,r.dtype),b=d.write(g,c.outShape,r.dtype);return[{dataId:v,shape:c.outShape,dtype:r.dtype},{dataId:b,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r,l=gr(o,a.shape),f=Ba(a.shape,l)[1],c=Ce(f),h=[],g=n.makeTensorInfo([],"float32",new Float32Array([c]));h.push(g);const v=zu({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});h.push(v);const b=ox({inputs:{a:v,b:g},backend:n});h.push(b);const w=Rp({inputs:{x:b},backend:n,attrs:{axis:o,keepDims:i}});return h.forEach(x=>n.disposeIntermediateTensorInfo(x)),w}const sfe={kernelName:mv,backendName:"cpu",kernelFunc:ofe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:i}=r;mt(a,"min");const l=gr(o,a.shape);let d=l;const f=Fo(d,a.shape.length);let c=a;f!=null&&(c=ro({inputs:{x:a},backend:n,attrs:{perm:f}}),d=Ua(d.length,a.shape.length)),za("min",d,c.shape.length);const[h,g]=Ba(c.shape,d),v=Ce(g),b=xa(Ce(h),c.dtype),w=n.data.get(c.dataId).values;for(let E=0;E<b.length;++E){const T=E*v;let C=w[T];for(let I=0;I<v;++I){const D=w[T+I];(Number.isNaN(D)||D<C)&&(C=D)}b[E]=C}f!=null&&n.disposeIntermediateTensorInfo(c);const x=n.makeTensorInfo(h,c.dtype,b);if(i){const E=ca(h,l),T=rr({inputs:{x},backend:n,attrs:{shape:E}});return n.disposeIntermediateTensorInfo(x),T}return x}const ufe={kernelName:gv,backendName:"cpu",kernelFunc:ife};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:o,mode:i}=r;mt(a,"mirrorPad");const l=o.map((C,I)=>C[0]+a.shape[I]+C[1]),d=o.map(C=>C[0]),f=o.map((C,I)=>C[0]+a.shape[I]),c=i==="reflect"?0:1,h=n.data.get(a.dataId).values,g=a.shape.length,v=yt(a.shape),b=Ce(l),w=l.length,x=yt(l),E=Fa(a.dtype,b);for(let C=0;C<b;C++){let I=Vc(C,w,x);for(let F=0;F<w;F++)I[F]<d[F]?I[F]=d[F]*2-I[F]-c:I[F]>=f[F]&&(I[F]=(f[F]-1)*2-I[F]+c);I=I.map((F,B)=>F-d[B]);const D=ri(I,g,v);E[C]=h[D]}return{dataId:n.write(E,l,a.dtype),shape:l,dtype:a.dtype}}const cfe={kernelName:yv,backendName:"cpu",kernelFunc:lfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dfe=Ir((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),ffe=Wr(bv,dfe),pfe={kernelName:bv,backendName:"cpu",kernelFunc:ffe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{dim:o}=r,i=a.shape.length;let l=o;if(l===-1&&(l=i-1),l!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${l}`);const d=gr([l],a.shape),f=Y4({inputs:{x:a},backend:n,attrs:{reductionIndices:d,keepDims:!1}}),c=ca(f.shape,d),h=rr({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Y_({inputs:{a,b:h},backend:n}),v=KD({inputs:{x:g},backend:n}),b=Rp({inputs:{x:v},backend:n,attrs:{axis:d,keepDims:!1}}),w=rr({inputs:{x:b},backend:n,attrs:{shape:c}}),x=ox({inputs:{a:v,b:w},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w),x}const hfe={kernelName:Xv,backendName:"cpu",kernelFunc:X4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:o,seed:i,normalized:l}=r;mt(a,"multinomial");const d=l?a:X4({inputs:{logits:a},backend:n,attrs:{dim:-1}}),f=d.shape[0],c=d.shape[1],h=n.data.get(d.dataId).values,g=[f,o],v=xa(Ce(g),"int32");for(let b=0;b<f;++b){const w=b*c,x=new Float32Array(c-1);x[0]=h[w];for(let C=1;C<x.length;++C)x[C]=x[C-1]+h[w+C];const E=My.alea(i.toString()),T=b*o;for(let C=0;C<o;++C){const I=E();v[T+C]=x.length;for(let D=0;D<x.length;D++)if(I<x[D]){v[T+C]=D;break}}}return l||n.disposeIntermediateTensorInfo(d),n.makeTensorInfo(g,"int32",v)}const gfe={kernelName:Sv,backendName:"cpu",kernelFunc:mfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vfe=kN;function yfe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:i,iouThreshold:l,scoreThreshold:d}=r;mt(a,"NonMaxSuppression");const f=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:h}=vfe(f,c,i,l,d);return n.makeTensorInfo([h.length],"int32",new Int32Array(h))}const bfe={kernelName:xv,backendName:"cpu",kernelFunc:yfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sfe=IN;function wfe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:i,iouThreshold:l,scoreThreshold:d,padToMaxOutputSize:f}=r;mt(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,h=n.data.get(o.dataId).values,{selectedIndices:g,validOutputs:v}=Sfe(c,h,i,l,d,f);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}const _fe={kernelName:Ev,backendName:"cpu",kernelFunc:wfe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xfe=RN;function Efe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:i,iouThreshold:l,scoreThreshold:d,softNmsSigma:f}=r;mt(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,h=n.data.get(o.dataId).values,g=i,v=l,b=d,w=f,{selectedIndices:x,selectedScores:E}=xfe(c,h,g,v,b,w);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([E.length],"float32",new Float32Array(E))]}const Cfe={kernelName:Cv,backendName:"cpu",kernelFunc:Efe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:o,depth:i,onValue:l,offValue:d}=r;mt(a,"oneHot");const f=Ce(a.shape),c=new Float32Array(f*i);c.fill(d);const h=n.data.get(a.dataId).values;for(let g=0;g<f;++g)h[g]>=0&&h[g]<i&&(c[g*i+h[g]]=l);return n.makeTensorInfo([...a.shape,i],o,c)}const kfe={kernelName:Tv,backendName:"cpu",kernelFunc:Tfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tb(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const a=ql({inputs:{input:r},backend:n}),o=tb({inputs:{x:a},backend:n}),i=ud({inputs:{input:r},backend:n}),l=tb({inputs:{x:i},backend:n}),d=_o({inputs:{real:o,imag:l},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),d}else return ux({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Ife={kernelName:zw,backendName:"cpu",kernelFunc:tb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q4(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const a=ql({inputs:{input:r},backend:n}),o=Q4({inputs:{x:a},backend:n}),i=ud({inputs:{input:r},backend:n}),l=tb({inputs:{x:i},backend:n}),d=_o({inputs:{real:o,imag:l},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),d}else return ux({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Rfe={kernelName:ww,backendName:"cpu",kernelFunc:Q4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z4(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return eb({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const o=e[0].shape,i=e[0].dtype;e.forEach(c=>{So(o,c.shape,"All tensors passed to stack must have matching shapes"),W(i===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const l=[],d=e.map(c=>{const h=eb({inputs:{input:c},backend:n,attrs:{dim:a}});return l.push(h),h}),f=ld({inputs:d,backend:n,attrs:{axis:a}});return l.forEach(c=>n.disposeIntermediateTensorInfo(c)),f}const Afe={kernelName:_w,backendName:"cpu",kernelFunc:Z4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:o,constantValue:i}=r;mt(a,"pad");const l=o.map((T,C)=>T[0]+a.shape[C]+T[1]),d=o.map(T=>T[0]),f=n.data.get(a.dataId).values,c=Ce(a.shape),h=a.shape.length,g=yt(a.shape),v=Ce(l),b=l.length,w=yt(l),x=Fa(a.dtype,v);i!==0&&x.fill(i);for(let T=0;T<c;T++){const I=Vc(T,h,g).map((F,B)=>F+d[B]),D=ri(I,b,w);x[D]=f[T]}return{dataId:n.write(x,l,a.dtype),shape:l,dtype:a.dtype}}const J4={kernelName:kv,backendName:"cpu",kernelFunc:Nfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dfe=Ir((t,e)=>Math.pow(t,e)),Ofe=Wr(Iv,Dfe),Mfe={kernelName:Iv,backendName:"cpu",kernelFunc:Ofe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:a,paramsDenseValues:o,indices:i}=e,{outputRaggedRank:l}=r,d=a.map(E=>n.data.get(E.dataId).values),f=a.map(E=>E.shape),c=n.data.get(o.dataId).values,h=n.data.get(i.dataId).values,[g,v,b]=ire(d,f,c,o.shape,o.dtype,h,i.shape),w=g.map(E=>n.makeTensorInfo([E.length],"int32",E)),x=n.makeTensorInfo(b,o.dtype,v);return w.concat([x])}const Ffe={kernelName:VR,backendName:"cpu",kernelFunc:$fe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pfe(t){const{inputs:e,backend:n}=t,{starts:r,limits:a,deltas:o}=e,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,[f,c]=ure(i,r.shape,r.dtype,l,a.shape,d,o.shape),h=n.makeTensorInfo([f.length],"int32",f),g=n.makeTensorInfo([c.length],r.dtype,c);return[h,g]}const Lfe={kernelName:jR,backendName:"cpu",kernelFunc:Pfe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:a,values:o,defaultValue:i,rowPartitionTensors:l}=e,{rowPartitionTypes:d}=r,f=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,h=n.data.get(i.dataId).values,g=l.map(x=>n.data.get(x.dataId).values),v=l.map(x=>x.shape),[b,w]=lre(f,a.shape,c,o.shape,o.dtype,h,i.shape,g,v,d);return n.makeTensorInfo(b,o.dtype,w)}const zfe={kernelName:HR,backendName:"cpu",kernelFunc:Bfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ufe(t){const{backend:e,attrs:n}=t,{start:r,stop:a,dtype:o,step:i}=n,l=tO(r,a,i,o);return e.makeTensorInfo([l.length],o,l)}const Vfe={kernelName:xw,backendName:"cpu",kernelFunc:Ufe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jfe=jn(Nv,t=>1/t),Hfe={kernelName:Nv,backendName:"cpu",kernelFunc:jfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wfe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:o,halfPixelCenters:i,size:l}=r;mt(a,"resizeBilinear");const d=yt(a.shape),[f,c]=l,[h,g,v,b]=a.shape,w=n.data.get(a.dataId).values,x=new Float32Array(Ce([h,f,c,b])),E=[o&&f>1?g-1:g,o&&c>1?v-1:v],T=[o&&f>1?f-1:f,o&&c>1?c-1:c];let C=0;const I=E[0]/T[0],D=E[1]/T[1];for(let F=0;F<h;F++)for(let B=0;B<f;B++){let H;i?H=I*(B+.5)-.5:H=I*B;const z=Math.max(0,Math.floor(H)),U=H-z,O=Math.min(g-1,Math.ceil(H)),K=F*d[0]+z*d[1],G=F*d[0]+O*d[1];for(let Z=0;Z<c;Z++){let J;i?J=D*(Z+.5)-.5:J=D*Z;const se=Math.max(0,Math.floor(J)),oe=J-se,le=Math.min(v-1,Math.ceil(J)),pe=K+se*d[2],ye=G+se*d[2],ve=K+le*d[2],Ee=G+le*d[2];for(let _e=0;_e<b;_e++){const Ie=w[pe+_e],De=w[ye+_e],ze=w[ve+_e],Ve=w[Ee+_e],Le=Ie+(ze-Ie)*oe,je=De+(Ve-De)*oe,Ue=Le+(je-Le)*U;x[C++]=Ue}}}return n.makeTensorInfo([h,f,c,b],"float32",x)}const qfe={kernelName:Mv,backendName:"cpu",kernelFunc:Wfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:i}=r;mt([o,a],"resizeBilinearGrad");const l=yt(a.shape),[d,f,c,h]=a.shape,[,g,v]=o.shape,b=new Float32Array(d*f*c*h),w=[i&&g>1?f-1:f,i&&v>1?c-1:c],x=[i&&g>1?g-1:g,i&&v>1?v-1:v],E=w[0]/x[0],T=w[1]/x[1],C=n.data.get(o.dataId).values;let I=0;for(let D=0;D<d;D++){const F=D*l[0];for(let B=0;B<g;B++){const H=B*E,z=Math.floor(H),U=Math.min(Math.ceil(H),f-1),O=F+z*l[1],K=F+U*l[1],G=H-z,Z=1-G;for(let J=0;J<v;J++){const se=J*T,oe=Math.floor(se),le=Math.min(Math.ceil(se),c-1),pe=se-oe,ye=1-pe,ve=O+oe*l[2],Ee=O+le*l[2],_e=K+oe*l[2],Ie=K+le*l[2],De=Z*ye,ze=Z*pe,Ve=G*ye,Le=G*pe;for(let je=0;je<h;je++){const Ue=C[I++];b[ve+je]+=Ue*De,b[Ee+je]+=Ue*ze,b[_e+je]+=Ue*Ve,b[Ie+je]+=Ue*Le}}}}return n.makeTensorInfo([d,c,f,h],"float32",b)}const Kfe={kernelName:Tw,backendName:"cpu",kernelFunc:Gfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yfe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:o,halfPixelCenters:i,size:l}=r;mt(a,"resizeNearestNeighbor");const d=yt(a.shape),[f,c]=l,[h,g,v,b]=a.shape,w=n.data.get(a.dataId).values,x=new Float32Array(h*f*c*b),E=[o&&f>1?g-1:g,o&&c>1?v-1:v],T=[o&&f>1?f-1:f,o&&c>1?c-1:c],C=E[0]/T[0],I=E[1]/T[1];let D=0;for(let F=0;F<h;F++){const B=F*d[0];for(let H=0;H<f;H++){const z=i?C*(H+.5):C*H;let U=Math.min(g-1,o?Math.round(z):Math.floor(z));i&&(U=Math.max(0,U));const O=B+U*d[1];for(let K=0;K<c;K++){const G=i?I*(K+.5):I*K;let Z=Math.min(v-1,o?Math.round(G):Math.floor(G));i&&(Z=Math.max(0,Z));const J=O+Z*d[2];for(let se=0;se<b;se++){const oe=w[J+se];x[D++]=oe}}}}return n.makeTensorInfo([h,f,c,b],a.dtype,x)}const Xfe={kernelName:Ov,backendName:"cpu",kernelFunc:Yfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qfe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:i}=r;mt([o,a],"resizeNearestNeighborGrad");const l=yt(a.shape),d=yt(o.shape),[f,c,h,g]=a.shape,[,v,b]=o.shape,w=new Float32Array(f*c*h*g),x=n.data.get(o.dataId).values,E=[i&&v>1?c-1:c,i&&b>1?h-1:h],T=[i&&v>1?v-1:v,i&&b>1?b-1:b],C=E[0]/T[0],I=E[1]/T[1],D=1/C,F=1/I,B=Math.ceil(D)*2+2,H=Math.ceil(F)*2+2;for(let z=0;z<f;z++){const U=z*l[0];for(let O=0;O<c;O++){const K=U+O*l[1],G=Math.floor(O*D),Z=Math.floor(G-B/2);for(let J=0;J<h;J++){const se=K+J*l[2],oe=Math.floor(J*F),le=Math.floor(oe-H/2);for(let pe=0;pe<g;pe++){let ye=0;for(let ve=0;ve<B;ve++){const Ee=ve+Z;if(Ee<0||Ee>=v)continue;const _e=U+Ee*d[1],Ie=Ee*C,De=Math.min(c-1,i?Math.round(Ie):Math.floor(Ie));if(O===De)for(let ze=0;ze<H;ze++){const Ve=ze+le;if(Ve<0||Ve>=b)continue;const Le=_e+Ve*d[2],je=Ve*I,Ue=Math.min(h-1,i?Math.round(je):Math.floor(je));J===Ue&&(ye+=x[Le+pe])}}w[se+pe]=ye}}}}return n.makeTensorInfo(a.shape,a.dtype,w)}const Zfe={kernelName:Cw,backendName:"cpu",kernelFunc:Qfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:o}=r;mt(a,"reverse");const i=a.shape.length,l=gr(o,a.shape);if(i===0)return ui({inputs:{x:a},backend:n});const d=new jr(a.shape,a.dtype),f=n.bufferSync(a);for(let c=0;c<d.size;c++){const h=d.indexToLoc(c),g=h.slice();l.forEach(v=>g[v]=a.shape[v]-1-g[v]),d.set(f.get(...g),...h)}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const epe={kernelName:Fv,backendName:"cpu",kernelFunc:Jfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tpe={kernelName:sy,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:a,fillValue:o,center:i}=e,l=n,d=Fa(r.dtype,Ce(r.shape)),[f,c,h,g]=r.shape,[v,b]=YN(i,c,h),w=255,x=Math.sin(a),E=Math.cos(a),T=l.data.get(r.dataId).values;for(let I=0;I<f;I++){const D=I*h*c*g;for(let F=0;F<c;F++){const B=F*(h*g);for(let H=0;H<h;H++){const z=H*g;for(let U=0;U<g;U++){const O=[f,F,H,U],K=O[2],G=O[1];let Z=(K-v)*E-(G-b)*x,J=(K-v)*x+(G-b)*E;Z=Math.round(Z+v),J=Math.round(J+b);let se=o;if(typeof o!="number"&&(U===3?se=w:se=o[U]),Z>=0&&Z<h&&J>=0&&J<c){const le=J*(h*g),pe=Z*g,ye=D+le+pe+U;se=T[ye]}const oe=D+B+z+U;d[oe]=se}}}}return{dataId:l.write(d,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const npe=jn(Pv,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),rpe={kernelName:Pv,backendName:"cpu",kernelFunc:npe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a,updates:o}=e,{shape:i}=r,{sliceRank:l,numUpdates:d,sliceSize:f,strides:c,outputSize:h}=nd(o,a,i),g=!0,v=n.bufferSync(a),b=n.bufferSync(o),w=id(v,b,i,h,f,d,l,c,0,g);return n.makeTensorInfo(i,w.dtype,w.values)}const ope={kernelName:Bv,backendName:"cpu",kernelFunc:ape};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<e?n=a+1:r=a;return r}function ipe(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<=e?n=a+1:r=a;return r}function upe(t,e,n,r,a,o){const i=Pr("int32",n*a);for(let l=0;l<n;++l){const d=t.slice(l*r,(l+1)*r),f=l*a;for(let c=0;c<a;++c)i[f+c]=o==="left"?spe(d,e[c+f]):ipe(d,e[c+f])}return i}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lpe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:o}=e,{side:i}=r,l=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,f=upe(l,d,a.shape[0],a.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",f)}const cpe={kernelName:Uv,backendName:"cpu",kernelFunc:lpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpe(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:o}=e;mt([r,a,o],"select");const i=r.shape.length,l=n.data.get(r.dataId).values,d=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,c=Wc(a.dtype,o.dtype),h=xa(Ce(a.shape),c);let g=0;const v=i===0||i>1||a.shape.length===1?1:Ce(a.shape.slice(1));for(let b=0;b<l.length;b++)for(let w=0;w<v;w++)l[b]===1?h[g++]=d[b]:h[g++]=f[b];return n.makeTensorInfo(a.shape,c,h)}const fpe={kernelName:kw,backendName:"cpu",kernelFunc:dpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ppe=eJ,hpe=tJ,mpe=jn(Vv,t=>t>=0?hpe*t:ppe*(Math.exp(t)-1)),gpe={kernelName:Vv,backendName:"cpu",kernelFunc:mpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vpe=jn(Wv,t=>t<0?-1:t>0?1:0),ype={kernelName:Wv,backendName:"cpu",kernelFunc:vpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bpe=jn(jv,t=>Math.sin(t)),Spe={kernelName:jv,backendName:"cpu",kernelFunc:bpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wpe=jn(Hv,t=>Math.sinh(t)),_pe={kernelName:Hv,backendName:"cpu",kernelFunc:wpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eM=Math.log(11920928955078125e-23)+2,xpe=jn(Gv,t=>{const e=t>-eM,n=t<eM,r=Math.exp(t);let a;return n?a=r:e?a=t:a=Math.log(1+r),a}),Epe={kernelName:Gv,backendName:"cpu",kernelFunc:xpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,paddings:i}=r;mt([a],"spaceToBatchND");const l=Ce(o),d=[[0,0]];d.push(...i);for(let F=1+o.length;F<a.shape.length;++F)d.push([0,0]);const f=J4.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:d,constantValue:0}}),c=Ly(f.shape,o,l,!1),h=By(c.length,o.length,!1),g=zy(f.shape,o,l,!1),w=rr({inputs:{x:f},backend:n,attrs:{shape:c}}),T=ro({inputs:{x:w},backend:n,attrs:{perm:h}}),D=rr({inputs:{x:T},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(T),D}const Tpe={kernelName:Rw,backendName:"cpu",kernelFunc:Cpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpe(t){const{inputs:e,backend:n}=t,{indices:r,values:a,denseShape:o,defaultValue:i}=e;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const l=n.data.get(r.dataId).values,d=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values[0],[h,g,v,b,w]=mre(l,r.shape,r.dtype,d,a.dtype,f,c);return[n.makeTensorInfo(g,r.dtype,h),n.makeTensorInfo([g[0]],a.dtype,v),n.makeTensorInfo([b.length],"bool",new Uint8Array(b.map(x=>Number(x)))),n.makeTensorInfo([w.length],r.dtype,new Int32Array(w))]}const Ipe={kernelName:Nw,backendName:"cpu",kernelFunc:kpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rpe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:a,newShape:o}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const i=Array.from(n.data.get(a.dataId).values),l=n.data.get(r.dataId).values,d=Array.from(n.data.get(o.dataId).values),[f,c,h]=gre(l,r.shape,r.dtype,i,d);return[n.makeTensorInfo(c,r.dtype,f),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}const Ape={kernelName:Qv,backendName:"cpu",kernelFunc:Rpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:o}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,[f,c]=rO(i,r.shape,r.dtype,l,d,!0);return n.makeTensorInfo(c,r.dtype,f)}const Dpe={kernelName:Dw,backendName:"cpu",kernelFunc:Npe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ope(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:o}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,[f,c]=rO(i,r.shape,r.dtype,l,d);return n.makeTensorInfo(c,r.dtype,f)}const Mpe={kernelName:Ow,backendName:"cpu",kernelFunc:Ope};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:a,sparseValues:o,defaultValue:i}=e,{outputShape:l}=r,{sliceRank:d,numUpdates:f,sliceSize:c,strides:h,outputSize:g}=nd(o,a,l),v=!1,b=n.bufferSync(a);let w;switch(o.dtype){case"bool":{const x=n.bufferSync(o),E=!!n.data.get(i.dataId).values[0];w=id(b,x,l,g,c,f,d,h,E,v);break}case"float32":{const x=n.bufferSync(o),E=n.data.get(i.dataId).values[0];w=id(b,x,l,g,c,f,d,h,E,v);break}case"int32":{const x=n.bufferSync(o),E=n.data.get(i.dataId).values[0];w=id(b,x,l,g,c,f,d,h,E,v);break}case"string":{const x=n.bufferSync(o),E=sp(n.data.get(i.dataId).values[0]);w=id(b,x,l,g,c,f,d,h,E,v);break}default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(l,w.dtype,w.values)}const Fpe={kernelName:Zv,backendName:"cpu",kernelFunc:$pe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{numOrSizeSplits:o,axis:i}=r,l=gr(i,a.shape)[0],d=tD(a,o,l),f=new Array(a.shape.length).fill(0),c=a.shape.slice();return d.map(h=>{const g=[...c];g[l]=h;const v=Gl({inputs:{x:a},backend:n,attrs:{begin:f,size:g}});return f[l]+=h,v})}const Lpe={kernelName:Aw,backendName:"cpu",kernelFunc:Ppe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bpe={kernelName:qR,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;mt(n,"square");const a=r.data.get(n.dataId).values,o=new Float32Array(a.length);for(let l=0;l<a.length;++l){const d=a[l];o[l]=d*d}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zpe=jn(np,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),Upe={kernelName:np,backendName:"cpu",kernelFunc:zpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:o,end:i,strides:l,beginMask:d,endMask:f,ellipsisMask:c,newAxisMask:h,shrinkAxisMask:g}=r;mt(a,"stridedSlice");const{finalShapeSparse:v,finalShape:b,isIdentity:w,sliceDim0:x,isSimpleSlice:E,begin:T,end:C,strides:I}=qN(a.shape,o,i,l,d,f,c,h,g);let D;if(w)D=rr({inputs:{x:a},backend:n,attrs:{shape:b}});else if(x||E){W(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const F=VN(T,C,I),B=Gl({inputs:{x:a},backend:n,attrs:{begin:T,size:F}});D=rr({inputs:{x:B},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(B)}else{const F=n.bufferSync(a),B=Cre(v,F,I,T);D=n.makeTensorInfo(b,B.dtype,B.values)}return D}const jpe={kernelName:ey,backendName:"cpu",kernelFunc:Vpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:a,nGramWidths:o,leftPad:i,rightPad:l,padWidth:d,preserveShortSequences:f}=r,{data:c,dataSplits:h}=e,g=n.data.get(c.dataId).values,v=n.data.get(h.dataId).values,[b,w]=aO(g,v,a,o,i,l,d,f);return[n.makeTensorInfo([b.length],"string",b),n.makeTensorInfo(h.shape,"int32",w)]}const Wpe={kernelName:$w,backendName:"cpu",kernelFunc:Hpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:a}=r,{input:o,delimiter:i}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const l=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values[0],[f,c,h]=oO(l,d,a),g=c.length;return[n.makeTensorInfo([g,2],"int32",f),n.makeTensorInfo([g],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(h))]}const Gpe={kernelName:Fw,backendName:"cpu",kernelFunc:qpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:a}=r,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const i=n.data.get(o.dataId).values,l=sO(i,a);return n.makeTensorInfo(o.shape,"int32",l)}const Ype={kernelName:Pw,backendName:"cpu",kernelFunc:Kpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xpe=jn(ny,t=>Math.tan(t)),Qpe={kernelName:ny,backendName:"cpu",kernelFunc:Xpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zpe=jn(ry,t=>Math.tanh(t)),Jpe={kernelName:ry,backendName:"cpu",kernelFunc:Zpe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ehe(t){const{inputs:e,backend:n}=t,{tensor:r,indices:a,updates:o}=e,{sliceRank:i,numUpdates:l,sliceSize:d,strides:f,outputSize:c}=nd(o,a,r.shape),h=!1,g=n.bufferSync(a),v=n.bufferSync(o),b=n.bufferSync(r),w=id(g,v,r.shape,c,d,l,i,f,b,h);return n.makeTensorInfo(r.shape,w.dtype,w.values)}const the={kernelName:zv,backendName:"cpu",kernelFunc:ehe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reps:o}=r;mt(a,"tile");const i=Nre(n.bufferSync(a),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const rhe={kernelName:tp,backendName:"cpu",kernelFunc:nhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{k:o,sorted:i}=r;mt(a,"topk");const l=n.data.get(a.dataId).values,[d,f]=Dre(l,a.shape,a.dtype,o,i);return[n.makeTensorInfo(d.shape,d.dtype,d.values),n.makeTensorInfo(f.shape,f.dtype,f.values)]}const ohe={kernelName:ay,backendName:"cpu",kernelFunc:ahe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(t){const{inputs:e,attrs:n,backend:r}=t,{image:a,transforms:o}=e,{interpolation:i,fillMode:l,fillValue:d,outputShape:f}=n,[c,h,g,v]=a.shape,[b,w]=f??[h,g],x=[c,b,w,v],E=yt(a.shape),T=E[0],C=E[1],I=E[2],D=yt(x),F=D[0],B=D[1],H=D[2],z=Fa(a.dtype,Ce(x));z.fill(d);const U=r.data.get(a.dataId).values,O=r.data.get(o.dataId).values;for(let G=0;G<c;++G){const Z=o.shape[0]===1?O:O.subarray(G*8,G*8+8);for(let J=0;J<b;++J)for(let se=0;se<w;++se)for(let oe=0;oe<v;++oe){let le;const pe=Z[6]*se+Z[7]*J+1;if(pe===0)continue;const ye=(Z[0]*se+Z[1]*J+Z[2])/pe,ve=(Z[3]*se+Z[4]*J+Z[5])/pe,Ee=tM(ye,g,l),_e=tM(ve,h,l);switch(i){case"nearest":le=fhe(U,h,g,T,C,I,G,_e,Ee,oe,d);break;case"bilinear":le=phe(U,h,g,T,C,I,G,_e,Ee,oe,d);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}const Ie=G*F+J*B+se*H+oe;z[Ie]=le}return r.makeTensorInfo(x,a.dtype,z)}return{dataId:r.write(z,x,a.dtype),shape:a.shape,dtype:a.dtype}}const ihe={kernelName:oy,backendName:"cpu",kernelFunc:she};function tM(t,e,n){switch(n){case"reflect":return uhe(t,e);case"wrap":return lhe(t,e);case"nearest":return dhe(t,e);case"constant":default:return che(t)}}function uhe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return ZS(0,n,e-1)}function lhe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return ZS(0,n,e-1)}function che(t,e){return t}function dhe(t,e){return ZS(0,t,e-1)}function Ap(t,e,n,r,a,o,i,l,d,f,c){const h=i*r+l*a+d*o+f;return 0<=l&&l<e&&0<=d&&d<n?t[h]:c}function fhe(t,e,n,r,a,o,i,l,d,f,c){const h=Math.round(l),g=Math.round(d);return Ap(t,e,n,r,a,o,i,h,g,f,c)}function phe(t,e,n,r,a,o,i,l,d,f,c){const h=Math.floor(l),g=Math.floor(d),v=h+1,b=g+1,w=(b-d)*Ap(t,e,n,r,a,o,i,h,g,f,c)+(d-g)*Ap(t,e,n,r,a,o,i,h,b,f,c),x=(b-d)*Ap(t,e,n,r,a,o,i,v,g,f,c)+(d-g)*Ap(t,e,n,r,a,o,i,v,b,f,c);return(v-l)*w+(l-h)*x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hhe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:o}=e;mt(o,"unique");const i=r.data.get(o.dataId).values,{outputValues:l,outputShape:d,indices:f}=uO(i,a,o.shape,o.dtype);return[r.makeTensorInfo(d,o.dtype,l),r.makeTensorInfo([f.length],"int32",f)]}const mhe={kernelName:Lw,backendName:"cpu",kernelFunc:hhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:o}=r;o<0&&(o+=a.shape.length);const i=a.shape.length,l=a.shape[o],d=new Array(i-1);let f=0;for(let v=0;v<i;v++)v!==o&&(d[f++]=a.shape[v]);const c=new Array(i).fill(0),h=a.shape.slice();h[o]=1;const g=new Array(l);for(let v=0;v<g.length;v++){c[o]=v;const b=Gl({inputs:{x:a},backend:n,attrs:{begin:c,size:h}});g[v]=rr({inputs:{x:b},backend:n,attrs:{shape:d}}),n.disposeIntermediateTensorInfo(b)}return g}const vhe={kernelName:Bw,backendName:"cpu",kernelFunc:ghe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,segmentIds:o}=e,{numSegments:i}=r;mt(a,"unsortedSegmentSum");const l=a.shape.length,d=o.shape.length,f=[],c=[],h=l-d;let g=o;for(let b=0;b<h;++b){const w=eb({inputs:{input:g},backend:n,attrs:{dim:b+1}});g=w,c.push(w)}for(let b=0;b<i;++b){const w=Hw(b,"int32"),x=n.makeTensorInfo([],"int32",w),E=GD({inputs:{a:x,b:g},backend:n}),T=zu({inputs:{x:E},backend:n,attrs:{dtype:"float32"}}),C=Yy({inputs:{a:T,b:a},backend:n}),I=Rp({inputs:{x:C},backend:n,attrs:{axis:0,keepDims:!1}});f.push(I),c.push(x),c.push(E),c.push(T),c.push(C),c.push(I)}const v=Z4({inputs:f,backend:n,attrs:{axis:0}});return c.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const bhe={kernelName:GR,backendName:"cpu",kernelFunc:yhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const She=[gle,jte,yle,Sle,Qte,_le,Ele,Tle,Ile,Ale,Dle,Mle,Fle,Ble,Ule,Hle,qle,Kle,Xle,hle,Zle,ece,nce,tne,ace,Kte,ane,sce,Hte,ice,lce,cce,fce,hce,gce,yce,Sce,_ce,Ece,Tce,Ice,Ace,Dce,Mce,$ce,Pce,Bce,Uce,Vce,jce,Hce,qce,Yce,ile,Qce,sne,ode,une,sde,dne,fde,pde,mde,hne,vne,vde,bde,wde,xde,_ne,Cne,Wte,Cde,uce,kde,Rde,Nde,ule,Ine,Nne,Ode,$ne,$de,Lde,zde,jde,Wde,Gde,Kde,Bne,Xde,Zde,efe,nfe,afe,sfe,ufe,Vne,cfe,pfe,gfe,Hne,Gne,bfe,_fe,Cfe,Xne,kfe,Rfe,Afe,J4,Mfe,cle,ere,Ffe,Lfe,zfe,Vfe,qte,sx,Hfe,dle,fle,ple,qfe,Kfe,Xfe,Zfe,epe,tpe,rpe,fre,ope,cpe,fpe,gpe,pre,ype,Spe,_pe,hre,hfe,Epe,Tpe,Ipe,Ape,Dpe,Mpe,Fpe,Lpe,yre,Bpe,wre,Ere,Upe,jpe,Wpe,Gpe,Ype,Are,Gce,Qpe,Jpe,the,rhe,ohe,ihe,Qne,mhe,vhe,bhe,Ife];for(const t of She)QR(t);function whe(){try{return!!window.WebAssembly&&(!!window.WebAssembly.compile||!!window.WebAssembly.compileStreaming)}catch{return!1}}class _he{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}const xhe="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/1.0.2/model/model.json",Ehe=`https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/${ole}/`;class Che extends _he{constructor(e,n){super(),this.faceModelUrl=n??xhe,this.binaryPath=e??Ehe}async loadModels(){whe()?await this._loadWebAssemblyBackend():await this._loadCPUBackend();try{await gH(),this._model=await Qee(qy.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch{throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const r=await this._model.estimateFaces(e,{flipHorizontal:!0}),a=Date.now();return r.map(i=>{const{box:l,keypoints:d}=i,{xMin:f,yMin:c,width:h,height:g}=l,v=this._getCoordinate(d,"rightEye"),b=this._getCoordinate(d,"leftEye"),w=this._getCoordinate(d,"noseTip"),x=this._getCoordinate(d,"mouthCenter"),E=this._getCoordinate(d,"rightEarTragion"),T=this._getCoordinate(d,"leftEarTragion");return{top:c,left:f,width:h,height:g,timestampMs:a,probability:[90][0],rightEye:v,leftEye:b,mouth:x,nose:w,rightEar:E,leftEar:T}})}_getCoordinate(e,n){const r=e.find(a=>a.name===n);return[r.x,r.y]}async _loadWebAssemblyBackend(){try{rle(this.binaryPath),await dz(async()=>{if(!await DA("wasm"))throw new Error("Initialization of backend wasm failed")},[]),this.modelBackend="wasm"}catch{throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await DA("cpu"),this.modelBackend="cpu"}}function The(t){const e=t.signer,n=t.signer,r=t.eventStreamPayloadHandlerProvider({...t,messageSigner:n});return{...t,eventSigner:e,eventStreamPayloadHandler:r}}var nM;(function(t){t.HEADER="header",t.QUERY="query"})(nM||(nM={}));var rM;(function(t){t.HEADER="header",t.QUERY="query"})(rM||(rM={}));var Np;(function(t){t.HTTP="http",t.HTTPS="https"})(Np||(Np={}));var nb;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(nb||(nb={}));var aM;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(aM||(aM={}));const lx="__smithy_context";var oM;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(oM||(oM={}));var sM;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(sM||(sM={}));let iM=class M8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new M8({...this,headers:{...this.headers}});return e.query&&(e.query=khe(e.query)),e}};function khe(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}const Ihe=t=>(e,n)=>async r=>{const{request:a}=r;return iM.isInstance(a)?t.eventStreamPayloadHandler.handle(e,r,n):e(r)},Rhe={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},Ahe=t=>async e=>{const{request:n}=e;return iM.isInstance(n)?(n.headers={...n.headers,"Content-Type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"},t({...e,request:n})):t(e)},Nhe={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},Dhe=t=>({applyToStack:e=>{e.addRelativeTo(Ihe(t),Rhe),e.add(Ahe,Nhe)}});let Ohe=class $8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new $8({...this,headers:{...this.headers}});return e.query&&(e.query=Mhe(e.query)),e}};function Mhe(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}function nAe(t){return t}const $he=t=>e=>async n=>{if(!Ohe.isInstance(n.request))return e(n);const{request:r}=n,{handlerProtocol:a=""}=t.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return e(n)},Fhe={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Phe=t=>({applyToStack:e=>{e.add($he(t),Fhe)}}),Lhe=()=>(t,e)=>async n=>{var r,a;try{const o=await t(n),{clientName:i,commandName:l,logger:d,dynamoDbDocumentClientOptions:f={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:h}=f,g=c??e.inputFilterSensitiveLog,v=h??e.outputFilterSensitiveLog,{$metadata:b,...w}=o.output;return(r=d==null?void 0:d.info)==null||r.call(d,{clientName:i,commandName:l,input:g(n.input),output:v(w),metadata:b}),o}catch(o){const{clientName:i,commandName:l,logger:d,dynamoDbDocumentClientOptions:f={}}=e,{overrideInputFilterSensitiveLog:c}=f,h=c??e.inputFilterSensitiveLog;throw(a=d==null?void 0:d.error)==null||a.call(d,{clientName:i,commandName:l,input:h(n.input),error:o,metadata:o.$metadata}),o}},Bhe={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zhe=t=>({applyToStack:e=>{e.add(Lhe(),Bhe)}});let Uhe=class F8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new F8({...this,headers:{...this.headers}});return e.query&&(e.query=Vhe(e.query)),e}};function Vhe(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}var uM={NODE_ENV:'"production"',REACT_APP_ENV_API_URL:"https://vj5gic5sih.execute-api.us-east-1.amazonaws.com/videoverification/",REACT_APP_IDENTITYPOOL_ID:"us-east-1:1224a43a-2a75-48aa-b7f8-8e15b995afd5",REACT_APP_REGION:"us-east-1",REACT_APP_USERPOOL_ID:"us-east-1_MgurI5cTn",REACT_APP_WEBCLIENT_ID:"39fqjcc8qak0qgqbcsquvl92on"};const lM="X-Amzn-Trace-Id",jhe="AWS_LAMBDA_FUNCTION_NAME",Hhe="_X_AMZN_TRACE_ID",Whe=t=>e=>async n=>{const{request:r}=n;if(!Uhe.isInstance(r)||t.runtime!=="node"||r.headers.hasOwnProperty(lM))return e(n);const a=uM[jhe],o=uM[Hhe],i=l=>typeof l=="string"&&l.length>0;return i(a)&&i(o)&&(r.headers[lM]=o),e({...n,request:r})},qhe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ghe=t=>({applyToStack:e=>{e.add(Whe(t),qhe)}}),cM=(t,e,n)=>{let r,a,o,i=!1;const l=async()=>{a||(a=t());try{r=await a,o=!0,i=!1}finally{a=void 0}return r};return e===void 0?async d=>((!o||d!=null&&d.forceRefresh)&&(r=await l()),r):async d=>((!o||d!=null&&d.forceRefresh)&&(r=await l()),i?r:n&&!n(r)?(i=!0,r):(e(r)&&await l(),r))};var cx={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},dx(t,e)};function Khe(t,e){dx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fx=function(){return fx=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fx.apply(this,arguments)};function Yhe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Xhe(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function Qhe(t,e){return function(n,r){e(n,r,t)}}function Zhe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Jhe(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(c){try{f(r.next(c))}catch(h){i(h)}}function d(c){try{f(r.throw(c))}catch(h){i(h)}}function f(c){c.done?o(c.value):a(c.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function eme(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(c){return d([f,c])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(c){f=[6,c],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function tme(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function nme(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function px(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dM(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function rme(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dM(arguments[e]));return t}function ame(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}function Dp(t){return this instanceof Dp?(this.v=t,this):new Dp(t)}function ome(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(g){r[g]&&(a[g]=function(v){return new Promise(function(b,w){o.push([g,v,b,w])>1||l(g,v)})})}function l(g,v){try{d(r[g](v))}catch(b){h(o[0][3],b)}}function d(g){g.value instanceof Dp?Promise.resolve(g.value.v).then(f,c):h(o[0][2],g)}function f(g){l("next",g)}function c(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function sme(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:Dp(t[a](i)),done:a==="return"}:o?o(i):i}:o}}function ime(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof px=="function"?px(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(l,d){i=t[o](i),a(l,d,i.done,i.value)})}}function a(o,i,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},i)}}function ume(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function lme(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function cme(t){return t&&t.__esModule?t:{default:t}}function dme(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function fme(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const fM=Ri(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return fx},__asyncDelegator:sme,__asyncGenerator:ome,__asyncValues:ime,__await:Dp,__awaiter:Jhe,__classPrivateFieldGet:dme,__classPrivateFieldSet:fme,__createBinding:tme,__decorate:Xhe,__exportStar:nme,__extends:Khe,__generator:eme,__importDefault:cme,__importStar:lme,__makeTemplateObject:ume,__metadata:Zhe,__param:Qhe,__read:dM,__rest:Yhe,__spread:rme,__spreadArrays:ame,__values:px},Symbol.toStringTag,{value:"Module"})));var Op={},pM;function pme(){if(pM)return Op;pM=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.AwsCrc32=void 0;var t=fM,e=Nf(),n=mM(),r=function(){function a(){this.crc32=new n.Crc32}return a.prototype.update=function(o){(0,e.isEmptyData)(o)||this.crc32.update((0,e.convertToBuffer)(o))},a.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(o){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},a.prototype.reset=function(){this.crc32=new n.Crc32},a}();return Op.AwsCrc32=r,Op}var hM;function mM(){return hM||(hM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var e=fM,n=Nf();function r(d){return new a().update(d).digest()}t.crc32=r;var a=function(){function d(){this.checksum=4294967295}return d.prototype.update=function(f){var c,h;try{for(var g=e.__values(f),v=g.next();!v.done;v=g.next()){var b=v.value;this.checksum=this.checksum>>>8^i[(this.checksum^b)&255]}}catch(w){c={error:w}}finally{try{v&&!v.done&&(h=g.return)&&h.call(g)}finally{if(c)throw c.error}}return this},d.prototype.digest=function(){return(this.checksum^4294967295)>>>0},d}();t.Crc32=a;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=(0,n.uint32ArrayFrom)(o),l=pme();Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return l.AwsCrc32}})}(cx)),cx}var gM=mM();const vM={},hx={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),vM[t]=e,hx[e]=t}function yM(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in hx)e[n/2]=hx[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function us(t){let e="";for(let n=0;n<t.byteLength;n++)e+=vM[t[n]];return e}class Mp{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)n[r]=a;return e<0&&bM(n),new Mp(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&bM(e),parseInt(us(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function bM(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class SM{constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){const n=[];for(const o of Object.keys(e)){const i=this.fromUtf8(o);n.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[o]))}const r=new Uint8Array(n.reduce((o,i)=>o+i.byteLength,0));let a=0;for(const o of n)r.set(o,a),a+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(e.value.bytes,1),a;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":const l=this.fromUtf8(e.value),d=new DataView(new ArrayBuffer(3+l.byteLength));d.setUint8(0,7),d.setUint16(1,l.byteLength,!1);const f=new Uint8Array(d.buffer);return f.set(l,3),f;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(Mp.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!_me.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(yM(e.value.replace(/\-/g,"")),1),h}}parse(e){const n={};let r=0;for(;r<e.byteLength;){const a=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a));switch(r+=a,e.getUint8(r++)){case 0:n[o]={type:_M,value:!0};break;case 1:n[o]={type:_M,value:!1};break;case 2:n[o]={type:hme,value:e.getInt8(r++)};break;case 3:n[o]={type:mme,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:gme,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:vme,value:new Mp(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const i=e.getUint16(r,!1);r+=2,n[o]={type:yme,value:new Uint8Array(e.buffer,e.byteOffset+r,i)},r+=i;break;case 7:const l=e.getUint16(r,!1);r+=2,n[o]={type:bme,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,l))},r+=l;break;case 8:n[o]={type:Sme,value:new Date(new Mp(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const d=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:wme,value:`${us(d.subarray(0,4))}-${us(d.subarray(4,6))}-${us(d.subarray(6,8))}-${us(d.subarray(8,10))}-${us(d.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var wM;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(wM||(wM={}));const _M="boolean",hme="byte",mme="short",gme="integer",vme="long",yme="binary",bme="string",Sme="timestamp",wme="uuid",_me=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,xM=4,Hu=xM*2,Yl=4,xme=Hu+Yl*2;function Eme({byteLength:t,byteOffset:e,buffer:n}){if(t<xme)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,e,t),a=r.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");const o=r.getUint32(xM,!1),i=r.getUint32(Hu,!1),l=r.getUint32(t-Yl,!1),d=new gM.Crc32().update(new Uint8Array(n,e,Hu));if(i!==d.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${d.digest()})`);if(d.update(new Uint8Array(n,e+Hu,t-(Hu+Yl))),l!==d.digest())throw new Error(`The message checksum (${d.digest()}) did not match the expected value of ${l}`);return{headers:new DataView(n,e+Hu+Yl,o),body:new Uint8Array(n,e+Hu+Yl+o,a-o-(Hu+Yl+Yl))}}class EM{constructor(e,n){this.headerMarshaller=new SM(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){const r=this.headerMarshaller.format(e),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),i=new DataView(o.buffer,o.byteOffset,o.byteLength),l=new gM.Crc32;return i.setUint32(0,a,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,l.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),i.setUint32(a-4,l.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:n,body:r}=Eme(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Cme{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class Tme{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class kme{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const n=await this.options.deserializer(e);n!==void 0&&(yield n)}}}class Ime{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}const Rme=t=>t[lx]||(t[lx]={}),Ns=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Ame="X-Amz-Algorithm",Nme="X-Amz-Credential",CM="X-Amz-Date",Dme="X-Amz-SignedHeaders",Ome="X-Amz-Expires",TM="X-Amz-Signature",kM="X-Amz-Security-Token",IM="authorization",RM=CM.toLowerCase(),Mme=[IM,RM,"date"],$me=TM.toLowerCase(),mx="x-amz-content-sha256",Fme=kM.toLowerCase(),Pme={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Lme=/^proxy-/,Bme=/^sec-/,gx="AWS4-HMAC-SHA256",zme="AWS4-HMAC-SHA256-PAYLOAD",Ume="UNSIGNED-PAYLOAD",Vme=50,AM="aws4_request",jme=60*60*24*7,rb={},vx=[],yx=(t,e,n)=>`${t}/${e}/${n}/${AM}`,Hme=async(t,e,n,r,a)=>{const o=await NM(t,e.secretAccessKey,e.accessKeyId),i=`${n}:${r}:${a}:${us(o)}:${e.sessionToken}`;if(i in rb)return rb[i];for(vx.push(i);vx.length>Vme;)delete rb[vx.shift()];let l=`AWS4${e.secretAccessKey}`;for(const d of[n,r,a,AM])l=await NM(t,l,d);return rb[i]=l},NM=(t,e,n)=>{const r=new t(e);return r.update(Sf(n)),r.digest()},DM=({headers:t},e,n)=>{const r={};for(const a of Object.keys(t).sort()){if(t[a]==null)continue;const o=a.toLowerCase();(o in Pme||e!=null&&e.has(o)||Lme.test(o)||Bme.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[a].trim().replace(/\s+/g," "))}return r},Xl=t=>encodeURIComponent(t).replace(/[!'()*]/g,Wme),Wme=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,qme=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t).sort()){if(r.toLowerCase()===$me)continue;e.push(r);const a=t[r];typeof a=="string"?n[r]=`${Xl(r)}=${Xl(a)}`:Array.isArray(a)&&(n[r]=a.slice(0).reduce((o,i)=>o.concat([`${Xl(r)}=${Xl(i)}`]),[]).sort().join("&"))}return e.map(r=>n[r]).filter(r=>r).join("&")},Gme=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",bx=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===mx)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Gme(e)){const r=new n;return r.update(Sf(e)),us(await r.digest())}return Ume},Kme=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1},OM=({headers:t,query:e,...n})=>({...n,headers:{...t},query:e?Yme(e):void 0}),Yme=t=>Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{}),Xme=(t,e={})=>{var a;const{headers:n,query:r={}}=typeof t.clone=="function"?t.clone():OM(t);for(const o of Object.keys(n)){const i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((a=e.unhoistableHeaders)!=null&&a.has(i))&&(r[o]=n[o],delete n[o])}return{...t,headers:n,query:r}},MM=t=>{t=typeof t.clone=="function"?t.clone():OM(t);for(const e of Object.keys(t.headers))Mme.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},Qme=t=>Zme(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Zme=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class $M{constructor({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:i=!0}){this.headerMarshaller=new SM(_1,bf),this.service=a,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Ns(r),this.credentialProvider=Ns(n)}async presign(e,n={}){const{signingDate:r=new Date,expiresIn:a=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:l,signingRegion:d,signingService:f}=n,c=await this.credentialProvider();this.validateResolvedCredentials(c);const h=d??await this.regionProvider(),{longDate:g,shortDate:v}=ab(r);if(a>jme)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const b=yx(v,h,f??this.service),w=Xme(MM(e),{unhoistableHeaders:i});c.sessionToken&&(w.query[kM]=c.sessionToken),w.query[Ame]=gx,w.query[Nme]=`${c.accessKeyId}/${b}`,w.query[CM]=g,w.query[Ome]=a.toString(10);const x=DM(w,o,l);return w.query[Dme]=FM(x),w.query[TM]=await this.getSignature(g,b,this.getSigningKey(c,h,v,f),this.createCanonicalRequest(w,x,await bx(e,this.sha256))),w}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:a,signingRegion:o,signingService:i}){const l=o??await this.regionProvider(),{shortDate:d,longDate:f}=ab(r),c=yx(d,l,i??this.service),h=await bx({headers:{},body:n},this.sha256),g=new this.sha256;g.update(e);const v=us(await g.digest()),b=[zme,f,c,a,v,h].join(`
`);return this.signString(b,{signingDate:r,signingRegion:l,signingService:i})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:a}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:a}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=r??await this.regionProvider(),{shortDate:l}=ab(n),d=new this.sha256(await this.getSigningKey(o,i,l,a));return d.update(Sf(e)),us(await d.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:a,signingRegion:o,signingService:i}={}){const l=await this.credentialProvider();this.validateResolvedCredentials(l);const d=o??await this.regionProvider(),f=MM(e),{longDate:c,shortDate:h}=ab(n),g=yx(h,d,i??this.service);f.headers[RM]=c,l.sessionToken&&(f.headers[Fme]=l.sessionToken);const v=await bx(f,this.sha256);!Kme(mx,f.headers)&&this.applyChecksum&&(f.headers[mx]=v);const b=DM(f,a,r),w=await this.getSignature(c,g,this.getSigningKey(l,d,h,i),this.createCanonicalRequest(f,b,v));return f.headers[IM]=`${gx} Credential=${l.accessKeyId}/${g}, SignedHeaders=${FM(b)}, Signature=${w}`,f}createCanonicalRequest(e,n,r){const a=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${qme(e)}
${a.map(o=>`${o}:${n[o]}`).join(`
`)}

${a.join(";")}
${r}`}async createStringToSign(e,n,r){const a=new this.sha256;a.update(Sf(r));const o=await a.digest();return`${gx}
${e}
${n}
${us(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const o of e.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?n.pop():n.push(o));const r=`${e!=null&&e.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(r).replace(/%2F/g,"/")}return e}async getSignature(e,n,r,a){const o=await this.createStringToSign(e,n,a),i=new this.sha256(await r);return i.update(Sf(o)),us(await i.digest())}getSigningKey(e,n,r,a){return Hme(this.sha256,e,r,n,a||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const ab=t=>{const e=Qme(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},FM=t=>Object.keys(t).sort().join(";"),Jme=3e5,ege=t=>{const e=t.credentials?tge(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:n=!0,systemClockOffset:r=t.systemClockOffset||0,sha256:a}=t;let o;return t.signer?o=Ns(t.signer):t.regionInfoProvider?o=()=>Ns(t.region)().then(async i=>[await t.regionInfoProvider(i,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},i]).then(([i,l])=>{const{signingRegion:d,signingService:f}=i;t.signingRegion=t.signingRegion||d||l,t.signingName=t.signingName||f||t.serviceId;const c={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:n},h=t.signerConstructor||$M;return new h(c)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ns(t.region)(),properties:{}},i);const l=i.signingRegion,d=i.signingName;t.signingRegion=t.signingRegion||l,t.signingName=t.signingName||d||t.serviceId;const f={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:n},c=t.signerConstructor||$M;return new c(f)},{...t,systemClockOffset:r,signingEscapePath:n,credentials:e,signer:o}},tge=t=>typeof t=="function"?cM(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<Jme,e=>e.expiration!==void 0):Ns(t);let nge=class P8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new P8({...this,headers:{...this.headers}});return e.query&&(e.query=rge(e.query)),e}};function rge(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}let age=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};const PM=t=>new Date(Date.now()+t),oge=(t,e)=>Math.abs(PM(e).getTime()-t)>=3e5,LM=(t,e)=>{const n=Date.parse(t);return oge(n,e)?n-Date.now():e},sge=t=>(e,n)=>async function(r){var f,c,h,g;if(!nge.isInstance(r.request))return e(r);const a=(h=(c=(f=n.endpointV2)==null?void 0:f.properties)==null?void 0:c.authSchemes)==null?void 0:h[0],o=(a==null?void 0:a.name)==="sigv4a"?(g=a==null?void 0:a.signingRegionSet)==null?void 0:g.join(","):void 0,i=await t.signer(a),l=await e({...r,request:await i.sign(r.request,{signingDate:PM(t.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch(v=>{const b=v.ServerTime??BM(v.$response);throw b&&(t.systemClockOffset=LM(b,t.systemClockOffset)),v}),d=BM(l.response);return d&&(t.systemClockOffset=LM(d,t.systemClockOffset)),l},BM=t=>{var e,n;return age.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((n=t.headers)==null?void 0:n.Date):void 0},ige={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},uge=t=>({applyToStack:e=>{e.addRelativeTo(sge(t),ige)}});function lge(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const zM={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};let UM=zM,VM="";const cge=t=>{const{partitions:e}=UM;for(const r of e){const{regions:a,outputs:o}=r;for(const[i,l]of Object.entries(a))if(i===t)return{...o,...l}}for(const r of e){const{regionRegex:a,outputs:o}=r;if(new RegExp(a).test(t))return{...o}}const n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},jM=(t,e="")=>{UM=t,VM=e},dge=()=>{jM(zM,"")},HM=()=>VM,fge=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),WM=t=>fge.test(t)||t.startsWith("[")&&t.endsWith("]"),$p="endpoints";function Wu(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Wu(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Wu).join(", ")})`:JSON.stringify(t,null,2)}class Po extends Error{constructor(e){super(e),this.name="EndpointError"}}const pge=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Sx=(t,e=!1)=>{if(!e)return pge.test(t);const n=t.split(".");for(const r of n)if(!Sx(r))return!1;return!0},qM=(t,e=!1)=>{if(e){for(const n of t.split("."))if(!qM(n))return!1;return!0}return!(!Sx(t)||t.length<3||t.length>63||t!==t.toLowerCase()||WM(t))},hge=Object.freeze(Object.defineProperty({__proto__:null,getUserAgentPrefix:HM,isVirtualHostableS3Bucket:qM,parseArn:t=>{const e=t.split(":");if(e.length<6)return null;const[n,r,a,o,i,...l]=e;return n!=="arn"||r===""||a===""||l[0]===""?null:{partition:r,service:a,region:o,accountId:i,resourceId:l[0].includes("/")?l[0].split("/"):l}},partition:cge,setPartitionInfo:jM,useDefaultPartitionInfo:dge},Symbol.toStringTag,{value:"Module"})),mge=(t,e)=>t===e,gge=t=>{const e=t.split("."),n=[];for(const r of e){const a=r.indexOf("[");if(a!==-1){if(r.indexOf("]")!==r.length-1)throw new Po(`Path: '${t}' does not end with ']'`);const o=r.slice(a+1,-1);if(Number.isNaN(parseInt(o)))throw new Po(`Invalid array index: '${o}' in path: '${t}'`);a!==0&&n.push(r.slice(0,a)),n.push(o)}else n.push(r)}return n},GM=(t,e)=>gge(e).reduce((n,r)=>{if(typeof n!="object")throw new Po(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t),vge=t=>t!=null,yge=t=>!t;var KM;(function(t){t.AAAA="AAAA",t.A="A"})(KM||(KM={}));const wx={[Np.HTTP]:80,[Np.HTTPS]:443},bge=Object.freeze(Object.defineProperty({__proto__:null,aws:hge,booleanEquals:mge,getAttr:GM,isSet:vge,isValidHostLabel:Sx,not:yge,parseURL:t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:g,port:v,protocol:b="",path:w="",query:x={}}=t,E=new URL(`${b}//${g}${v?`:${v}`:""}${w}`);return E.search=Object.entries(x).map(([T,C])=>`${T}=${C}`).join("&"),E}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const n=e.href,{host:r,hostname:a,pathname:o,protocol:i,search:l}=e;if(l)return null;const d=i.slice(0,-1);if(!Object.values(Np).includes(d))return null;const f=WM(a),c=n.includes(`${r}:${wx[d]}`)||typeof t=="string"&&t.includes(`${r}:${wx[d]}`),h=`${r}${c?`:${wx[d]}`:""}`;return{scheme:d,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:f}},stringEquals:(t,e)=>t===e,substring:(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n),uriEncode:t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},Symbol.toStringTag,{value:"Module"})),YM=(t,e)=>{const n=[],r={...e.endpointParams,...e.referenceRecord};let a=0;for(;a<t.length;){const o=t.indexOf("{",a);if(o===-1){n.push(t.slice(a));break}n.push(t.slice(a,o));const i=t.indexOf("}",o);if(i===-1){n.push(t.slice(o));break}t[o+1]==="{"&&t[i+1]==="}"&&(n.push(t.slice(o+1,i)),a=i+2);const l=t.substring(o+1,i);if(l.includes("#")){const[d,f]=l.split("#");n.push(GM(r[d],f))}else n.push(r[l]);a=i+1}return n.join("")},Sge=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],ob=(t,e,n)=>{if(typeof t=="string")return YM(t,n);if(t.fn)return XM(t,n);if(t.ref)return Sge(t,n);throw new Po(`'${e}': ${String(t)} is not a string, function or reference.`)},XM=({fn:t,argv:e},n)=>{const r=e.map(a=>["boolean","number"].includes(typeof a)?a:ob(a,"arg",n));return t.split(".").reduce((a,o)=>a[o],bge)(...r)},wge=({assign:t,...e},n)=>{var a,o;if(t&&t in n.referenceRecord)throw new Po(`'${t}' is already defined in Reference Record.`);const r=XM(e,n);return(o=(a=n.logger)==null?void 0:a.debug)==null||o.call(a,$p,`evaluateCondition: ${Wu(e)} = ${Wu(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}},_x=(t=[],e)=>{var r,a;const n={};for(const o of t){const{result:i,toAssign:l}=wge(o,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!i)return{result:i};l&&(n[l.name]=l.value,(a=(r=e.logger)==null?void 0:r.debug)==null||a.call(r,$p,`assign: ${l.name} := ${Wu(l.value)}`))}return{result:!0,referenceRecord:n}},_ge=(t,e)=>Object.entries(t).reduce((n,[r,a])=>({...n,[r]:a.map(o=>{const i=ob(o,"Header value entry",e);if(typeof i!="string")throw new Po(`Header '${r}' value '${i}' is not a string`);return i})}),{}),QM=(t,e)=>{if(Array.isArray(t))return t.map(n=>QM(n,e));switch(typeof t){case"string":return YM(t,e);case"object":if(t===null)throw new Po(`Unexpected endpoint property: ${t}`);return ZM(t,e);case"boolean":return t;default:throw new Po(`Unexpected endpoint property type: ${typeof t}`)}},ZM=(t,e)=>Object.entries(t).reduce((n,[r,a])=>({...n,[r]:QM(a,e)}),{}),xge=(t,e)=>{const n=ob(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new Po(`Endpoint URL must be a string, got ${typeof n}`)},Ege=(t,e)=>{var c,h;const{conditions:n,endpoint:r}=t,{result:a,referenceRecord:o}=_x(n,e);if(!a)return;const i={...e,referenceRecord:{...e.referenceRecord,...o}},{url:l,properties:d,headers:f}=r;return(h=(c=e.logger)==null?void 0:c.debug)==null||h.call(c,$p,`Resolving endpoint from template: ${Wu(r)}`),{...f!=null&&{headers:_ge(f,i)},...d!=null&&{properties:ZM(d,i)},url:xge(l,i)}},Cge=(t,e)=>{const{conditions:n,error:r}=t,{result:a,referenceRecord:o}=_x(n,e);if(a)throw new Po(ob(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))},Tge=(t,e)=>{const{conditions:n,rules:r}=t,{result:a,referenceRecord:o}=_x(n,e);if(a)return JM(r,{...e,referenceRecord:{...e.referenceRecord,...o}})},JM=(t,e)=>{for(const n of t)if(n.type==="endpoint"){const r=Ege(n,e);if(r)return r}else if(n.type==="error")Cge(n,e);else if(n.type==="tree"){const r=Tge(n,e);if(r)return r}else throw new Po(`Unknown endpoint rule: ${n}`);throw new Po("Rules evaluation failed")},kge=(t,e)=>{var f,c,h,g,v;const{endpointParams:n,logger:r}=e,{parameters:a,rules:o}=t;(c=(f=e.logger)==null?void 0:f.debug)==null||c.call(f,`${$p} Initial EndpointParams: ${Wu(n)}`);const i=Object.entries(a).filter(([,b])=>b.default!=null).map(([b,w])=>[b,w.default]);if(i.length>0)for(const[b,w]of i)n[b]=n[b]??w;const l=Object.entries(a).filter(([,b])=>b.required).map(([b])=>b);for(const b of l)if(n[b]==null)throw new Po(`Missing required parameter: '${b}'`);const d=JM(o,{endpointParams:n,logger:r,referenceRecord:{}});if((h=e.endpointParams)!=null&&h.Endpoint)try{const b=new URL(e.endpointParams.Endpoint),{protocol:w,port:x}=b;d.url.protocol=w,d.url.port=x}catch{}return(v=(g=e.logger)==null?void 0:g.debug)==null||v.call(g,`${$p} Resolved endpoint: ${Wu(d)}`),d};let Ige=class L8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new L8({...this,headers:{...this.headers}});return e.query&&(e.query=Rge(e.query)),e}};function Rge(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}const e$="user-agent",xx="x-amz-user-agent",t$=" ",Ex="/",Age=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Nge=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,n$="-",Dge=t=>(e,n)=>async r=>{var g,v;const{request:a}=r;if(!Ige.isInstance(a))return e(r);const{headers:o}=a,i=((g=n==null?void 0:n.userAgent)==null?void 0:g.map(Cx))||[],l=(await t.defaultUserAgentProvider()).map(Cx),d=((v=t==null?void 0:t.customUserAgent)==null?void 0:v.map(Cx))||[],f=HM(),c=(f?[f]:[]).concat([...l,...i,...d]).join(t$),h=[...l.filter(b=>b.startsWith("aws-sdk-")),...d].join(t$);return t.runtime!=="browser"?(h&&(o[xx]=o[xx]?`${o[e$]} ${h}`:h),o[e$]=c):o[xx]=c,e({...r,request:a})},Cx=t=>{var i;const e=t[0].split(Ex).map(l=>l.replace(Age,n$)).join(Ex),n=(i=t[1])==null?void 0:i.replace(Nge,n$),r=e.indexOf(Ex),a=e.substring(0,r);let o=e.substring(r+1);return a==="api"&&(o=o.toLowerCase()),[a,o,n].filter(l=>l&&l.length>0).reduce((l,d,f)=>{switch(f){case 0:return d;case 1:return`${l}/${d}`;default:return`${l}#${d}`}},"")},Oge={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Mge=t=>({applyToStack:e=>{e.add(Dge(t),Oge)}}),$ge=(t,e,n)=>{let r=t;const a={start(){},async transform(o,i){try{const l=new Date,d={":date":{type:"timestamp",value:l}},f=await e.sign({message:{body:o,headers:d},priorSignature:r},{signingDate:l});r=f.signature;const c=n.encode({headers:{...d,":chunk-signature":{type:"binary",value:yM(f.signature)}},body:o});i.enqueue(c)}catch(l){i.error(l)}}};return new TransformStream({...a})};class Fge{constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new EM(e.utf8Encoder,e.utf8Decoder)}async handle(e,n,r={}){const a=n.request,{body:o,headers:i,query:l}=a;if(!(o instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const d=new TransformStream;a.body=d.readable;let f;try{f=await e(n)}catch(b){throw a.body.cancel(),b}const h=((i.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||l&&l["X-Amz-Signature"]||"",g=$ge(h,await this.messageSigner(),this.eventStreamCodec);return o.pipeThrough(g).pipeThrough(d),f}}const Pge=t=>new Fge(t),Lge=()=>t=>async e=>{const n={...e.input},r=await t(e),a=r.output;return n.SessionId&&a.SessionId==null&&(a.SessionId=n.SessionId),r},Bge={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};let r$=class B8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new B8({...this,headers:{...this.headers}});return e.query&&(e.query=zge(e.query)),e}};function zge(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}let Uge=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};const Vge=(t,e)=>n=>r=>{var o,i;const{request:a}=r;if(r$.isInstance(a)&&((i=(o=t.requestHandler.metadata)==null?void 0:o.handlerProtocol)!=null&&i.toLowerCase().includes("websocket"))){a.protocol="wss:",a.method="GET",a.path=`${a.path}-websocket`;const{headers:l}=a;delete l["Content-Type"],delete l["x-amz-content-sha256"];for(const d of Object.keys(l))if(d.indexOf(e.headerPrefix)===0){const f=d.replace(e.headerPrefix,"");a.query[f]=l[d]}l["x-amz-user-agent"]&&(a.query["user-agent"]=l["x-amz-user-agent"]),a.headers={host:l.host??a.hostname}}return n(r)},jge={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},Hge=(t,e)=>({applyToStack:n=>{n.addRelativeTo(Vge(t,e),jge),n.add(Lge(),Bge)}}),a$=t=>t.protocol==="ws:"||t.protocol==="wss:";class Wge{constructor(e){this.signer=e.signer}presign(e,n={}){return this.signer.presign(e,n)}async sign(e,n){return r$.isInstance(e)&&a$(e)?{...await this.signer.presign({...e,body:""},{...n,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(a=>a!=="host"))}),body:e.body}:this.signer.sign(e,n)}}const qge=t=>({...t,signer:async e=>{const n=await t.signer(e);if(Gge(n))return new Wge({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}}),Gge=t=>!!t;function Tx(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=Xl(n),Array.isArray(r))for(let a=0,o=r.length;a<o;a++)e.push(`${n}=${Xl(r[a])}`);else{let a=n;(r||typeof r=="string")&&(a+=`=${Xl(r)}`),e.push(a)}}return e.join("&")}function Kge(t){const{port:e,query:n}=t;let{protocol:r,path:a,hostname:o}=t;r&&r.slice(-1)!==":"&&(r+=":"),e&&(o+=`:${e}`),a&&a.charAt(0)!=="/"&&(a=`/${a}`);let i=n?Tx(n):"";i&&i[0]!=="?"&&(i=`?${i}`);let l="";if(t.username!=null||t.password!=null){const f=t.username??"",c=t.password??"";l=`${f}:${c}@`}let d="";return t.fragment&&(d=`#${t.fragment}`),`${r}//${l}${o}${a}${i}${d}`}function Yge(t){let e=0,n=0,r=null,a=null;const o=l=>{if(typeof l!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+l);e=l,n=4,r=new Uint8Array(l),new DataView(r.buffer).setUint32(0,l,!1)},i=async function*(){const l=t[Symbol.asyncIterator]();for(;;){const{value:d,done:f}=await l.next();if(f){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}const c=d.length;let h=0;for(;h<c;){if(!r){const v=c-h;a||(a=new Uint8Array(4));const b=Math.min(4-n,v);if(a.set(d.slice(h,h+b),n),n+=b,h+=b,n<4)break;o(new DataView(a.buffer).getUint32(0,!1)),a=null}const g=Math.min(e-n,c-h);r.set(d.slice(h,h+g),n),n+=g,h+=g,e&&e===n&&(yield r,r=null,e=0,n=0)}}};return{[Symbol.asyncIterator]:i}}function Xge(t,e){return async function(n){const{value:r}=n.headers[":message-type"];if(r==="error"){const a=new Error(n.headers[":error-message"].value||"UnknownError");throw a.name=n.headers[":error-code"].value,a}else if(r==="exception"){const a=n.headers[":exception-type"].value,o={[a]:n},i=await t(o);if(i.$unknown){const l=new Error(e(n.body));throw l.name=a,l}throw i[a]}else if(r==="event"){const a={[n.headers[":event-type"].value]:n},o=await t(a);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let Qge=class{constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new EM(e,n),this.utfEncoder=e}deserialize(e,n){const r=Yge(e);return new kme({messageStream:new Cme({inputStream:r,decoder:this.eventStreamCodec}),deserializer:Xge(n,this.utfEncoder)})}serialize(e,n){return new Tme({messageStream:new Ime({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const kx=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),Ix=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:a}=await e.next();if(r)return n.close();n.enqueue(a)}})};class Zge{constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new Qge({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){const r=Jge(e)?kx(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){const r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?Ix(r):r}}const Jge=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,eve=t=>new Zge(t);let o$=class z8{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new z8({...this,headers:{...this.headers}});return e.query&&(e.query=tve(e.query)),e}};function tve(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}class sb{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function nve(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const rve={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Fp{static create(e){return typeof(e==null?void 0:e.handle)=="function"?e:new Fp(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:n}={}){this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,a=this.config.keepAlive===!0;if(n!=null&&n.aborted){const w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let o=e.path;const i=Tx(e.query||{});i&&(o+=`?${i}`),e.fragment&&(o+=`#${e.fragment}`);let l="";if(e.username!=null||e.password!=null){const w=e.username??"",x=e.password??"";l=`${w}:${x}@`}const{port:d,method:f}=e,c=`${e.protocol}//${l}${e.hostname}${d?`:${d}`:""}${o}`,g={body:f==="GET"||f==="HEAD"?void 0:e.body,headers:new Headers(e.headers),method:f};typeof AbortController<"u"&&(g.signal=n),rve.supported&&(g.keepalive=a);const v=new Request(c,g),b=[fetch(v).then(w=>{const x=w.headers,E={};for(const C of x.entries())E[C[0]]=C[1];return w.body!=null?{response:new sb({headers:E,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(C=>({response:new sb({headers:E,reason:w.statusText,statusCode:w.status,body:C})}))}),nve(r)];return n&&b.push(new Promise((w,x)=>{n.onabort=()=>{const E=new Error("Request aborted");E.name="AbortError",x(E)}})),Promise.race(b)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}}const qu={},cd=new Array(64);for(let t=0,e=65,n=90;t+e<=n;t++){const r=String.fromCharCode(t+e);qu[r]=t,cd[t]=r}for(let t=0,e=97,n=122;t+e<=n;t++){const r=String.fromCharCode(t+e),a=t+26;qu[r]=a,cd[a]=r}for(let t=0;t<10;t++){qu[t.toString(10)]=t+52;const e=t.toString(10),n=t+52;qu[e]=n,cd[n]=e}qu["+"]=62,cd[62]="+",qu["/"]=63,cd[63]="/";const dd=6,Pp=8,ave=63,Rx=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const n=new ArrayBuffer(e),r=new DataView(n);for(let a=0;a<t.length;a+=4){let o=0,i=0;for(let f=a,c=a+3;f<=c;f++)if(t[f]!=="="){if(!(t[f]in qu))throw new TypeError(`Invalid character ${t[f]} in base64 string.`);o|=qu[t[f]]<<(c-f)*dd,i+=dd}else o>>=dd;const l=a/4*3;o>>=i%Pp;const d=Math.floor(i/Pp);for(let f=0;f<d;f++){const c=(d-f-1)*Pp;r.setUint8(l+f,(o&255<<c)>>c)}}return new Uint8Array(n)};function s$(t){let e="";for(let n=0;n<t.length;n+=3){let r=0,a=0;for(let i=n,l=Math.min(n+3,t.length);i<l;i++)r|=t[i]<<(l-i-1)*Pp,a+=Pp;const o=Math.ceil(a/dd);r<<=o*dd-a;for(let i=1;i<=o;i++){const l=(o-i)*dd;e+=cd[(r&ave<<l)>>l]}e+="==".slice(0,4-o)}return e}const ove=t=>typeof Blob=="function"&&t instanceof Blob?sve(t):ive(t);async function sve(t){const e=await uve(t),n=Rx(e);return new Uint8Array(n)}async function ive(t){let e=new Uint8Array(0);const n=t.getReader();let r=!1;for(;!r;){const{done:a,value:o}=await n.read();if(o){const i=e;e=new Uint8Array(i.length+o.length),e.set(i),e.set(o,i.length)}r=a}return e}function uve(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const a=r.result??"",o=a.indexOf(","),i=o>-1?o+1:a.length;e(a.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}const lve=2e3;class cve{constructor(e,n=new Fp){this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.httpHandler=n,typeof e=="function"?this.configPromise=e().then(r=>r??{}):this.configPromise=Promise.resolve(e??{})}destroy(){for(const[e,n]of Object.entries(this.sockets)){for(const r of n)r.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!a$(e))return this.httpHandler.handle(e);const n=Kge(e),r=new WebSocket(n);this.sockets[n]||(this.sockets[n]=[]),this.sockets[n].push(r),r.binaryType="arraybuffer";const{connectionTimeout:a=lve}=await this.configPromise;await this.waitForReady(r,a);const{body:o}=e,i=dve(o),l=this.connect(r,i),d=fve(l);return{response:new Uge({statusCode:200,body:d})}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(n=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(n.readyState))}waitForReady(e,n){return new Promise((r,a)=>{const o=setTimeout(()=>{this.removeNotUsableSockets(e.url),a({$metadata:{httpStatusCode:500}})},n);e.onopen=()=>{clearTimeout(o),r()}})}connect(e,n){let r,a=!1,o=()=>{},i=()=>{};e.onmessage=f=>{i({done:!1,value:new Uint8Array(f.data)})},e.onerror=f=>{a=!0,e.close(),o(f)},e.onclose=()=>{this.removeNotUsableSockets(e.url),!a&&(r?o(r):i({done:!0,value:void 0}))};const l={[Symbol.asyncIterator]:()=>({next:()=>new Promise((f,c)=>{i=f,o=c})})};return(async()=>{try{for await(const f of n)e.send(f)}catch(f){r=f}finally{e.close(1e3)}})(),l}}const dve=t=>t[Symbol.asyncIterator]?t:pve(t)?kx(t):{[Symbol.asyncIterator]:async function*(){yield t}},fve=t=>typeof ReadableStream=="function"?Ix(t):t,pve=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;var i$;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(i$||(i$={}));const hve=!1,mve=!1,u$=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),l$=t=>u$(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,gve=t=>{const{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return l$(e);const r=await e();return l$(r)},useFipsEndpoint:async()=>{const r=typeof e=="string"?e:await e();return u$(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}},vve=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),c$="content-length";function yve(t){return e=>async n=>{const r=n.request;if(o$.isInstance(r)){const{body:a,headers:o}=r;if(a&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(c$)===-1)try{const i=t(a);r.headers={...r.headers,[c$]:String(i)}}catch{}}return e({...n,request:r})}}const bve={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Sve=t=>({applyToStack:e=>{e.add(yve(t.bodyLengthChecker),bve)}}),wve=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Tve(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Cve(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},_ve=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,xve=/(\d+\.){3}\d+/,Eve=/\.\./,Cve=t=>_ve.test(t)&&!xve.test(t)&&!Eve.test(t),Tve=t=>{const[e,n,r,a,o,i]=t.split(":"),l=e==="arn"&&t.split(":").length>=6,d=[e,n,r,o,i].filter(Boolean).length===5;if(l&&!d)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!n&&!!r&&!!o&&!!i},kve=(t,e,n)=>{const r=async()=>{const a=n[t]??n[e];return typeof a=="function"?a():a};return t==="credentialScope"||e==="CredentialScope"?async()=>{const a=typeof n.credentials=="function"?await n.credentials():n.credentials;return(a==null?void 0:a.credentialScope)??(a==null?void 0:a.CredentialScope)}:t==="endpoint"||e==="endpoint"?async()=>{const a=await r();if(a&&typeof a=="object"){if("url"in a)return a.url.href;if("hostname"in a){const{protocol:o,hostname:i,port:l,path:d}=a;return`${o}//${i}${l?":"+l:""}${d}`}}return a}:r},Ive=async t=>{};function Rve(t){const e={};if(t=t.replace(/^\?/,""),t)for(const n of t.split("&")){let[r,a=null]=n.split("=");r=decodeURIComponent(r),a&&(a=decodeURIComponent(a)),r in e?Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]:e[r]=a}return e}const ib=t=>{if(typeof t=="string")return ib(new URL(t));const{hostname:e,pathname:n,port:r,protocol:a,search:o}=t;let i;return o&&(i=Rve(o)),{hostname:e,port:r?parseInt(r):void 0,protocol:a,path:n,query:i}},d$=t=>typeof t=="object"?"url"in t?ib(t.url):t:ib(t),Ave=async(t,e,n,r)=>{if(!n.endpoint){const i=await Ive(n.serviceId||"");i&&(n.endpoint=()=>Promise.resolve(d$(i)))}const a=await Nve(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(a,r)},Nve=async(t,e,n)=>{var o;const r={},a=((o=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:o.call(e))||{};for(const[i,l]of Object.entries(a))switch(l.type){case"staticContextParams":r[i]=l.value;break;case"contextParams":r[i]=t[l.name];break;case"clientContextParams":case"builtInParams":r[i]=await kve(l.name,i,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(l))}return Object.keys(a).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await wve(r),r},Dve=({config:t,instructions:e})=>(n,r)=>async a=>{var l,d,f;const o=await Ave(a.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=o,r.authSchemes=(l=o.properties)==null?void 0:l.authSchemes;const i=(d=r.authSchemes)==null?void 0:d[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const c=Rme(r),h=(f=c==null?void 0:c.selectedHttpAuthScheme)==null?void 0:f.httpAuthOption;h&&(h.signingProperties=Object.assign(h.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...a})},Ove=(t,e)=>(n,r)=>async a=>{const{response:o}=await n(a);try{const i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){const l="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+l}throw i}},Mve=(t,e)=>(n,r)=>async a=>{var l;const o=(l=r.endpointV2)!=null&&l.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await e(a.input,{...t,endpoint:o});return n({...a,request:i})},$ve={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},f$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Fve(t,e,n){return{applyToStack:r=>{r.add(Ove(t,n),$ve),r.add(Mve(t,e),f$)}}}const Pve={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:f$.name},Lve=(t,e)=>({applyToStack:n=>{n.addRelativeTo(Dve({config:t,instructions:e}),Pve)}}),Bve=t=>{const e=t.tls??!0,{endpoint:n}=t,r=n!=null?async()=>d$(await Ns(n)()):void 0;return{...t,endpoint:r,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:Ns(t.useDualstackEndpoint??!1),useFipsEndpoint:Ns(t.useFipsEndpoint??!1)}};var fd;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(fd||(fd={}));const ub=3,zve=fd.STANDARD,Uve=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Vve=["TimeoutError","RequestTimeout","RequestTimeoutException"],jve=[500,502,503,504],Hve=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],p$=t=>{var e,n;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Uve.includes(t.name)||((n=t.$retryable)==null?void 0:n.throttling)==!0},h$=t=>{var e;return Vve.includes(t.name)||Hve.includes((t==null?void 0:t.code)||"")||jve.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},Wve=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const n=t.$metadata.httpStatusCode;return 500<=n&&n<=599&&!h$(t)}return!1};class qve{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),p$(e)){const a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Ax=100,m$=20*1e3,Gve=500,g$=500,Kve=5,Yve=10,Xve=1,Qve="amz-sdk-invocation-id",Zve="amz-sdk-request",Jve=()=>{let t=Ax;return{computeNextBackoffDelay:r=>Math.floor(Math.min(m$,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}},v$=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(m$,t),getRetryCost:()=>n});class y${constructor(e){this.maxAttempts=e,this.mode=fd.STANDARD,this.capacity=g$,this.retryBackoffStrategy=Jve(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return v$({retryDelay:Ax,retryCount:0})}async refreshRetryTokenForRetry(e,n){const r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){const a=n.errorType;this.retryBackoffStrategy.setDelayBase(a==="THROTTLING"?Gve:Ax);const o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,l=this.getCapacityCost(a);return this.capacity-=l,v$({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:l})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(g$,this.capacity+(e.getRetryCost()??Xve))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ub}`),ub}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Yve:Kve}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class eye{constructor(e,n){this.maxAttemptsProvider=e,this.mode=fd.ADAPTIVE;const{rateLimiter:r}=n??{};this.rateLimiter=r??new qve,this.standardRetryStrategy=new y$(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var lb,tye=new Uint8Array(16);function nye(){if(!lb&&(lb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lb(tye)}const rye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aye(t){return typeof t=="string"&&rye.test(t)}for(var Ca=[],Nx=0;Nx<256;++Nx)Ca.push((Nx+256).toString(16).substr(1));function oye(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ca[t[e+0]]+Ca[t[e+1]]+Ca[t[e+2]]+Ca[t[e+3]]+"-"+Ca[t[e+4]]+Ca[t[e+5]]+"-"+Ca[t[e+6]]+Ca[t[e+7]]+"-"+Ca[t[e+8]]+Ca[t[e+9]]+"-"+Ca[t[e+10]]+Ca[t[e+11]]+Ca[t[e+12]]+Ca[t[e+13]]+Ca[t[e+14]]+Ca[t[e+15]]).toLowerCase();if(!aye(n))throw TypeError("Stringified UUID is invalid");return n}function sye(t,e,n){t=t||{};var r=t.random||(t.rng||nye)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,oye(r)}const iye=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),uye=t=>{const{retryStrategy:e}=t,n=Ns(t.maxAttempts??ub);return{...t,maxAttempts:n,retryStrategy:async()=>e||(await Ns(t.retryMode)()===fd.ADAPTIVE?new eye(n):new y$(n))}};class b${trace(){}debug(){}info(){}warn(){}error(){}}const Ql=(t,e)=>{const n=[];if(t&&n.push(t),e)for(const r of e)n.push(r);return n},Gu=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,cb=()=>{let t=[],e=[],n=!1;const r=new Set,a=h=>h.sort((g,v)=>S$[v.step]-S$[g.step]||w$[v.priority||"normal"]-w$[g.priority||"normal"]),o=h=>{let g=!1;const v=b=>{const w=Ql(b.name,b.aliases);if(w.includes(h)){g=!0;for(const x of w)r.delete(x);return!1}return!0};return t=t.filter(v),e=e.filter(v),g},i=h=>{let g=!1;const v=b=>{if(b.middleware===h){g=!0;for(const w of Ql(b.name,b.aliases))r.delete(w);return!1}return!0};return t=t.filter(v),e=e.filter(v),g},l=h=>{var g;return t.forEach(v=>{h.add(v.middleware,{...v})}),e.forEach(v=>{h.addRelativeTo(v.middleware,{...v})}),(g=h.identifyOnResolve)==null||g.call(h,c.identifyOnResolve()),h},d=h=>{const g=[];return h.before.forEach(v=>{v.before.length===0&&v.after.length===0?g.push(v):g.push(...d(v))}),g.push(h),h.after.reverse().forEach(v=>{v.before.length===0&&v.after.length===0?g.push(v):g.push(...d(v))}),g},f=(h=!1)=>{const g=[],v=[],b={};return t.forEach(x=>{const E={...x,before:[],after:[]};for(const T of Ql(E.name,E.aliases))b[T]=E;g.push(E)}),e.forEach(x=>{const E={...x,before:[],after:[]};for(const T of Ql(E.name,E.aliases))b[T]=E;v.push(E)}),v.forEach(x=>{if(x.toMiddleware){const E=b[x.toMiddleware];if(E===void 0){if(h)return;throw new Error(`${x.toMiddleware} is not found when adding ${Gu(x.name,x.aliases)} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&E.after.push(x),x.relation==="before"&&E.before.push(x)}}),a(g).map(d).reduce((x,E)=>(x.push(...E),x),[])},c={add:(h,g={})=>{const{name:v,override:b,aliases:w}=g,x={step:"initialize",priority:"normal",middleware:h,...g},E=Ql(v,w);if(E.length>0){if(E.some(T=>r.has(T))){if(!b)throw new Error(`Duplicate middleware name '${Gu(v,w)}'`);for(const T of E){const C=t.findIndex(D=>{var F;return D.name===T||((F=D.aliases)==null?void 0:F.some(B=>B===T))});if(C===-1)continue;const I=t[C];if(I.step!==x.step||x.priority!==I.priority)throw new Error(`"${Gu(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Gu(v,w)}" middleware with ${x.priority} priority in ${x.step} step.`);t.splice(C,1)}}for(const T of E)r.add(T)}t.push(x)},addRelativeTo:(h,g)=>{const{name:v,override:b,aliases:w}=g,x={middleware:h,...g},E=Ql(v,w);if(E.length>0){if(E.some(T=>r.has(T))){if(!b)throw new Error(`Duplicate middleware name '${Gu(v,w)}'`);for(const T of E){const C=e.findIndex(D=>{var F;return D.name===T||((F=D.aliases)==null?void 0:F.some(B=>B===T))});if(C===-1)continue;const I=e[C];if(I.toMiddleware!==x.toMiddleware||I.relation!==x.relation)throw new Error(`"${Gu(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Gu(v,w)}" middleware ${x.relation} "${x.toMiddleware}" middleware.`);e.splice(C,1)}}for(const T of E)r.add(T)}e.push(x)},clone:()=>l(cb()),use:h=>{h.applyToStack(c)},remove:h=>typeof h=="string"?o(h):i(h),removeByTag:h=>{let g=!1;const v=b=>{const{tags:w,name:x,aliases:E}=b;if(w&&w.includes(h)){const T=Ql(x,E);for(const C of T)r.delete(C);return g=!0,!1}return!0};return t=t.filter(v),e=e.filter(v),g},concat:h=>{var v;const g=l(cb());return g.use(h),g.identifyOnResolve(n||g.identifyOnResolve()||(((v=h.identifyOnResolve)==null?void 0:v.call(h))??!1)),g},applyToStack:l,identify:()=>f(!0).map(h=>{const g=h.step??h.relation+" "+h.toMiddleware;return Gu(h.name,h.aliases)+" - "+g}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,g)=>{for(const v of f().map(b=>b.middleware).reverse())h=v(h,g);return n&&console.log(c.identify()),h}};return c},S$={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},w$={high:3,normal:2,low:1};class lye{constructor(e){this.middlewareStack=cb(),this.config=e}send(e,n,r){const a=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,i=e.resolveMiddleware(this.middlewareStack,this.config,a);if(o)i(e).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return i(e).then(l=>l.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}function cye(t,e="utf-8"){return e==="base64"?s$(t):_1(t)}function dye(t,e){return e==="base64"?Zl.mutate(Rx(t)):Zl.mutate(bf(t))}class Zl extends Uint8Array{static fromString(e,n="utf-8"){switch(typeof e){case"string":return dye(e,n);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,Zl.prototype),e}transformToString(e="utf-8"){return cye(this,e)}}const fye=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Zl.mutate(t);if(!t)return Zl.mutate(new Uint8Array);const n=e.streamCollector(t);return Zl.mutate(await n)};class _${constructor(){this.middlewareStack=cb()}static classBuilder(){return new pye}resolveMiddlewareWithContext(e,n,r,{middlewareFn:a,clientName:o,commandName:i,inputFilterSensitiveLog:l,outputFilterSensitiveLog:d,smithyContext:f,additionalContext:c,CommandCtor:h}){for(const x of a.bind(this)(h,e,n,r))this.middlewareStack.use(x);const g=e.concat(this.middlewareStack),{logger:v}=n,b={logger:v,clientName:o,commandName:i,inputFilterSensitiveLog:l,outputFilterSensitiveLog:d,[lx]:{...f},...c},{requestHandler:w}=n;return g.resolve(x=>w.handle(x.request,r||{}),b)}}class pye{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let n;return n=class extends _${static getEndpointParameterInstructions(){return e._ep}constructor(r){super(),this.input=r,this.serialize=e._serializer,this.deserialize=e._deserializer,e._init(this)}resolveMiddleware(r,a,o){return this.resolveMiddlewareWithContext(r,a,o,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const hye=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&E$.warn(x$(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},mye=Math.ceil(2**127*(2-2**-23)),gye=t=>{const e=hye(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>mye)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},vye=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},yye=t=>bye(t,32),bye=(t,e)=>{const n=vye(t);if(n!==void 0&&Sye(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},Sye=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},wye=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},ao=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return E$.warn(x$(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},_ye=t=>{if(t==null)return;const e=wye(t),n=Object.entries(e).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return e},Va=t=>typeof t=="string"?xye(t):gye(t),xye=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},x$=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),E$={warn:console.warn};class Dx extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Dx.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const Ku=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,a])=>{(t[r]==null||t[r]==="")&&(t[r]=a)});const n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t},Eye=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{const a=Tye(t),o=a.httpStatusCode?a.httpStatusCode+"":void 0,i=new n({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||r||o||"UnknownError",$fault:"client",$metadata:a});throw Ku(i,e)},Cye=t=>({output:e,parsedBody:n,errorCode:r})=>{Eye({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},Tye=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),kye=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Iye=t=>{const e=[];for(const n in nb){const r=nb[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},Rye=t=>{const e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e},Aye=t=>{let e=t.retryStrategy;return{setRetryStrategy(n){e=n},retryStrategy(){return e}}},Nye=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},Dye=t=>({...Iye(t),...Aye(t)}),Oye=t=>({...Rye(t),...Nye(t)}),Ox=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),n=new e;return Object.setPrototypeOf(n,t.prototype),n};Ox.prototype=Object.create(String.prototype,{constructor:{value:Ox,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Ox,String);function li(t,e,n){let r,a,o;if(typeof e>"u"&&typeof n>"u")r={},o=t;else{if(r=t,typeof e=="function")return a=e,o=n,Mye(r,a,o);o=e}for(const i of Object.keys(o)){if(!Array.isArray(o[i])){r[i]=o[i];continue}C$(r,null,o,i)}return r}const Zr=(t,e)=>{const n={};for(const r in e)C$(n,t,e,r);return n},Mye=(t,e,n)=>li(t,Object.entries(n).reduce((r,[a,o])=>(Array.isArray(o)?r[a]=o:typeof o=="function"?r[a]=[e,o()]:r[a]=[e,o],r),{})),C$=(t,e,n,r)=>{if(e!==null){let i=n[r];typeof i=="function"&&(i=[,i]);const[l=$ye,d=Fye,f=r]=i;(typeof l=="function"&&l(e[f])||typeof l!="function"&&l)&&(t[r]=d(e[f]));return}let[a,o]=n[r];if(typeof o=="function"){let i;const l=a===void 0&&(i=o())!=null,d=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;l?t[r]=i:d&&(t[r]=o())}else{const i=a===void 0&&o!=null,l=typeof a=="function"&&!!a(o)||typeof a!="function"&&!!a;(i||l)&&(t[r]=o)}},$ye=t=>t!=null,Fye=t=>t,db=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},Lp=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Lp);if(typeof t=="object"){const e={};for(const n of Object.keys(t))t[n]!=null&&(e[n]=Lp(t[n]));return e}return t},Pye=t=>(t==null?void 0:t.body)instanceof ReadableStream,Lye=t=>(e,n)=>async r=>{var i;let a=await t.retryStrategy();const o=await t.maxAttempts();if(Bye(a)){a=a;let l=await a.acquireInitialRetryToken(n.partition_id),d=new Error,f=0,c=0;const{request:h}=r,g=o$.isInstance(h);for(g&&(h.headers[Qve]=sye());;)try{g&&(h.headers[Zve]=`attempt=${f+1}; max=${o}`);const{response:v,output:b}=await e(r);return a.recordSuccess(l),b.$metadata.attempts=f+1,b.$metadata.totalRetryDelay=c,{response:v,output:b}}catch(v){const b=zye(v);if(d=iye(v),g&&Pye(h))throw(i=n.logger instanceof b$?console:n.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),d;try{l=await a.refreshRetryTokenForRetry(l,b)}catch{throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=f+1,d.$metadata.totalRetryDelay=c,d}f=l.getRetryCount();const w=l.getRetryDelay();c+=w,await new Promise(x=>setTimeout(x,w))}}else return a=a,a!=null&&a.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(e,r)},Bye=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",zye=t=>{const e={errorType:Uye(t)},n=Hye(t.$response);return n&&(e.retryAfterHint=n),e},Uye=t=>p$(t)?"THROTTLING":h$(t)?"TRANSIENT":Wve(t)?"SERVER_ERROR":"CLIENT_ERROR",Vye={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},jye=t=>({applyToStack:e=>{e.add(Lye(t),Vye)}}),Hye=t=>{if(!sb.isInstance(t))return;const e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;const n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},Wye=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"rekognition"}),qye={version:"3.398.0"};var Mx={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var $x=function(t,e){return $x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},$x(t,e)};function Gye(t,e){$x(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fx=function(){return Fx=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fx.apply(this,arguments)};function Kye(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Yye(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function Xye(t,e){return function(n,r){e(n,r,t)}}function Qye(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Zye(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(c){try{f(r.next(c))}catch(h){i(h)}}function d(c){try{f(r.throw(c))}catch(h){i(h)}}function f(c){c.done?o(c.value):a(c.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function Jye(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(c){return d([f,c])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(c){f=[6,c],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function ebe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function tbe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Px(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T$(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function nbe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(T$(arguments[e]));return t}function rbe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}function Bp(t){return this instanceof Bp?(this.v=t,this):new Bp(t)}function abe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(g){r[g]&&(a[g]=function(v){return new Promise(function(b,w){o.push([g,v,b,w])>1||l(g,v)})})}function l(g,v){try{d(r[g](v))}catch(b){h(o[0][3],b)}}function d(g){g.value instanceof Bp?Promise.resolve(g.value.v).then(f,c):h(o[0][2],g)}function f(g){l("next",g)}function c(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function obe(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:Bp(t[a](i)),done:a==="return"}:o?o(i):i}:o}}function sbe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Px=="function"?Px(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(l,d){i=t[o](i),a(l,d,i.done,i.value)})}}function a(o,i,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},i)}}function ibe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function ube(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function lbe(t){return t&&t.__esModule?t:{default:t}}function cbe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function dbe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const fbe=Ri(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Fx},__asyncDelegator:obe,__asyncGenerator:abe,__asyncValues:sbe,__await:Bp,__awaiter:Zye,__classPrivateFieldGet:cbe,__classPrivateFieldSet:dbe,__createBinding:ebe,__decorate:Yye,__exportStar:tbe,__extends:Gye,__generator:Jye,__importDefault:lbe,__importStar:ube,__makeTemplateObject:ibe,__metadata:Qye,__param:Xye,__read:T$,__rest:Kye,__spread:nbe,__spreadArrays:rbe,__values:Px},Symbol.toStringTag,{value:"Module"})));var zp={},Up={},Vp={},k$;function pbe(){if(k$)return Vp;k$=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return Vp.isEmptyData=t,Vp}var Lx={},I$;function R$(){return I$||(I$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Lx)),Lx}const hbe={};function mbe(){return typeof window<"u"?window:typeof self<"u"?self:hbe}const Bx=Ri(Object.freeze(Object.defineProperty({__proto__:null,locateWindow:mbe},Symbol.toStringTag,{value:"Module"})));var A$;function N$(){if(A$)return Up;A$=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.Sha256=void 0;var t=pbe(),e=R$(),n=mI,r=Bx,a=function(){function l(d){this.secret=d,this.reset()}return l.prototype.update=function(d){var f=this;(0,t.isEmptyData)(d)||(this.operation=this.operation.then(function(c){return c.onerror=function(){f.operation=Promise.reject(new Error("Error encountered updating hash"))},c.process(i(d)),c}),this.operation.catch(function(){}))},l.prototype.digest=function(){return this.operation.then(function(d){return new Promise(function(f,c){d.onerror=function(){c(new Error("Error encountered finalizing hash"))},d.oncomplete=function(){d.result&&f(new Uint8Array(d.result)),c(new Error("Error encountered finalizing hash"))},d.finish()})})},l.prototype.reset=function(){this.secret?(this.operation=o(this.secret).then(function(d){return(0,r.locateWindow)().msCrypto.subtle.sign(e.SHA_256_HMAC_ALGO,d)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,r.locateWindow)().msCrypto.subtle.digest("SHA-256"))},l}();Up.Sha256=a;function o(l){return new Promise(function(d,f){var c=(0,r.locateWindow)().msCrypto.subtle.importKey("raw",i(l),e.SHA_256_HMAC_ALGO,!1,["sign"]);c.oncomplete=function(){c.result&&d(c.result),f(new Error("ImportKey completed without importing key."))},c.onerror=function(){f(new Error("ImportKey failed to import key."))}})}function i(l){return typeof l=="string"?(0,n.fromUtf8)(l):ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(l)}return Up}var jp={},D$;function O$(){if(D$)return jp;D$=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.Sha256=void 0;var t=Nf(),e=R$(),n=Bx,r=function(){function a(o){this.toHash=new Uint8Array(0),this.secret=o,this.reset()}return a.prototype.update=function(o){if(!(0,t.isEmptyData)(o)){var i=(0,t.convertToBuffer)(o),l=new Uint8Array(this.toHash.byteLength+i.byteLength);l.set(this.toHash,0),l.set(i,this.toHash.byteLength),this.toHash=l}},a.prototype.digest=function(){var o=this;return this.key?this.key.then(function(i){return(0,n.locateWindow)().crypto.subtle.sign(e.SHA_256_HMAC_ALGO,i,o.toHash).then(function(l){return new Uint8Array(l)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(e.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(e.SHA_256_HASH,o.toHash)}).then(function(i){return Promise.resolve(new Uint8Array(i))})},a.prototype.reset=function(){var o=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(i,l){(0,n.locateWindow)().crypto.subtle.importKey("raw",(0,t.convertToBuffer)(o.secret),e.SHA_256_HMAC_ALGO,!1,["sign"]).then(i,l)}),this.key.catch(function(){}))},a}();return jp.Sha256=r,jp}var zx={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Ux=function(t,e){return Ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Ux(t,e)};function gbe(t,e){Ux(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Vx=function(){return Vx=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vx.apply(this,arguments)};function vbe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function ybe(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function bbe(t,e){return function(n,r){e(n,r,t)}}function Sbe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wbe(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(c){try{f(r.next(c))}catch(h){i(h)}}function d(c){try{f(r.throw(c))}catch(h){i(h)}}function f(c){c.done?o(c.value):a(c.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function _be(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(c){return d([f,c])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(c){f=[6,c],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function xbe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Ebe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function jx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function M$(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function Cbe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M$(arguments[e]));return t}function Tbe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}function Hp(t){return this instanceof Hp?(this.v=t,this):new Hp(t)}function kbe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(g){r[g]&&(a[g]=function(v){return new Promise(function(b,w){o.push([g,v,b,w])>1||l(g,v)})})}function l(g,v){try{d(r[g](v))}catch(b){h(o[0][3],b)}}function d(g){g.value instanceof Hp?Promise.resolve(g.value.v).then(f,c):h(o[0][2],g)}function f(g){l("next",g)}function c(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ibe(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:Hp(t[a](i)),done:a==="return"}:o?o(i):i}:o}}function Rbe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jx=="function"?jx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(l,d){i=t[o](i),a(l,d,i.done,i.value)})}}function a(o,i,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},i)}}function Abe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Nbe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Dbe(t){return t&&t.__esModule?t:{default:t}}function Obe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Mbe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const $$=Ri(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Vx},__asyncDelegator:Ibe,__asyncGenerator:kbe,__asyncValues:Rbe,__await:Hp,__awaiter:wbe,__classPrivateFieldGet:Obe,__classPrivateFieldSet:Mbe,__createBinding:xbe,__decorate:ybe,__exportStar:Ebe,__extends:gbe,__generator:_be,__importDefault:Dbe,__importStar:Nbe,__makeTemplateObject:Abe,__metadata:Sbe,__param:bbe,__read:M$,__rest:vbe,__spread:Cbe,__spreadArrays:Tbe,__values:jx},Symbol.toStringTag,{value:"Module"})));var Ds={},F$;function $be(){if(F$)return Ds;F$=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.supportsZeroByteGCM=Ds.supportsSubtleCrypto=Ds.supportsSecureRandom=Ds.supportsWebCrypto=void 0;var t=$$,e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function n(i){if(r(i)&&typeof i.crypto.subtle=="object"){var l=i.crypto.subtle;return a(l)}return!1}Ds.supportsWebCrypto=n;function r(i){if(typeof i=="object"&&typeof i.crypto=="object"){var l=i.crypto.getRandomValues;return typeof l=="function"}return!1}Ds.supportsSecureRandom=r;function a(i){return i&&e.every(function(l){return typeof i[l]=="function"})}Ds.supportsSubtleCrypto=a;function o(i){return t.__awaiter(this,void 0,void 0,function(){var l,d;return t.__generator(this,function(f){switch(f.label){case 0:if(!a(i))return[2,!1];f.label=1;case 1:return f.trys.push([1,4,,5]),[4,i.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return l=f.sent(),[4,i.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},l,new Uint8Array(0))];case 3:return d=f.sent(),[2,d.byteLength===16];case 4:return f.sent(),[2,!1];case 5:return[2]}})})}return Ds.supportsZeroByteGCM=o,Ds}var P$;function Fbe(){return P$||(P$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=$$;e.__exportStar($be(),t)}(zx)),zx}var Hx={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Wx=function(t,e){return Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Wx(t,e)};function Pbe(t,e){Wx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qx=function(){return qx=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qx.apply(this,arguments)};function Lbe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Bbe(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function zbe(t,e){return function(n,r){e(n,r,t)}}function Ube(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Vbe(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(c){try{f(r.next(c))}catch(h){i(h)}}function d(c){try{f(r.throw(c))}catch(h){i(h)}}function f(c){c.done?o(c.value):a(c.value).then(l,d)}f((r=r.apply(t,e||[])).next())})}function jbe(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(f){return function(c){return d([f,c])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,a=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(c){f=[6,c],a=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Hbe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Wbe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Gx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L$(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function qbe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L$(arguments[e]));return t}function Gbe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}function Wp(t){return this instanceof Wp?(this.v=t,this):new Wp(t)}function Kbe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(g){r[g]&&(a[g]=function(v){return new Promise(function(b,w){o.push([g,v,b,w])>1||l(g,v)})})}function l(g,v){try{d(r[g](v))}catch(b){h(o[0][3],b)}}function d(g){g.value instanceof Wp?Promise.resolve(g.value.v).then(f,c):h(o[0][2],g)}function f(g){l("next",g)}function c(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ybe(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:Wp(t[a](i)),done:a==="return"}:o?o(i):i}:o}}function Xbe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Gx=="function"?Gx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(l,d){i=t[o](i),a(l,d,i.done,i.value)})}}function a(o,i,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},i)}}function Qbe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Zbe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Jbe(t){return t&&t.__esModule?t:{default:t}}function e0e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function t0e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const n0e=Ri(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qx},__asyncDelegator:Ybe,__asyncGenerator:Kbe,__asyncValues:Xbe,__await:Wp,__awaiter:Vbe,__classPrivateFieldGet:e0e,__classPrivateFieldSet:t0e,__createBinding:Hbe,__decorate:Bbe,__exportStar:Wbe,__extends:Pbe,__generator:jbe,__importDefault:Jbe,__importStar:Zbe,__makeTemplateObject:Qbe,__metadata:Ube,__param:zbe,__read:L$,__rest:Lbe,__spread:qbe,__spreadArrays:Gbe,__values:Gx},Symbol.toStringTag,{value:"Module"})));var Kx={},B$;function r0e(){return B$||(B$=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var Yx={},z$;function a0e(){return z$||(z$=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},U$;function o0e(){return U$||(U$=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Qx={},V$;function s0e(){return V$||(V$=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var qp={},j$;function i0e(){if(j$)return qp;j$=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(r){return"MSInputMethodContext"in r&&"msCrypto"in r}function n(r){if(e(r)&&r.msCrypto.subtle!==void 0){var a=r.msCrypto,o=a.getRandomValues,i=a.subtle;return t.map(function(l){return i[l]}).concat(o).every(function(l){return typeof l=="function"})}return!1}return qp.isMsWindow=n,qp}var H$;function u0e(){return H$||(H$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=n0e;e.__exportStar(r0e(),t),e.__exportStar(a0e(),t),e.__exportStar(o0e(),t),e.__exportStar(s0e(),t),e.__exportStar(i0e(),t)}(Hx)),Hx}var W$;function l0e(){if(W$)return zp;W$=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.Sha256=void 0;var t=N$(),e=O$(),n=Qz(),r=Fbe(),a=u0e(),o=Bx,i=Nf(),l=function(){function d(f){(0,r.supportsWebCrypto)((0,o.locateWindow)())?this.hash=new e.Sha256(f):(0,a.isMsWindow)((0,o.locateWindow)())?this.hash=new t.Sha256(f):this.hash=new n.Sha256(f)}return d.prototype.update=function(f,c){this.hash.update((0,i.convertToBuffer)(f))},d.prototype.digest=function(){return this.hash.digest()},d.prototype.reset=function(){this.hash.reset()},d}();return zp.Sha256=l,zp}var q$;function c0e(){return q$||(q$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var e=fbe;e.__exportStar(l0e(),t);var n=N$();Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return n.Sha256}});var r=O$();Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return r.Sha256}})}(Mx)),Mx}var d0e=c0e();const f0e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},G$={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},zr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},oo={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Yu={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Oe{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const a=Oe.getVersionPrecision(e),o=Oe.getVersionPrecision(n);let i=Math.max(a,o),l=0;const d=Oe.map([e,n],f=>{const c=i-Oe.getVersionPrecision(f),h=f+new Array(c+1).join(".0");return Oe.map(h.split("."),g=>new Array(20-g.length).join("0")+g).reverse()});for(r&&(l=i-Math.min(a,o)),i-=1;i>=l;){if(d[0][i]>d[1][i])return 1;if(d[0][i]===d[1][i]){if(i===l)return 0;i-=1}else if(d[0][i]<d[1][i])return-1}}static map(e,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(a=0;a<e.length;a+=1)r.push(n(e[a]));return r}static find(e,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,a=e.length;r<a;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let a,o;if(Object.assign)return Object.assign(e,...n);for(a=0,o=n.length;a<o;a+=1){const i=n[a];typeof i=="object"&&i!==null&&Object.keys(i).forEach(d=>{r[d]=i[d]})}return e}static getBrowserAlias(e){return f0e[e]}static getBrowserTypeByAlias(e){return G$[e]||""}}const ar=/version\/(\d+(\.?_?\d+)+)/i,p0e=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Oe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Oe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Oe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Oe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Oe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Oe.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Oe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Oe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Oe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Oe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Oe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Oe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Oe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Oe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Oe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Oe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Oe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Oe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Oe.getFirstMatch(ar,t)||Oe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Oe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Oe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Oe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Oe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Oe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Oe.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Oe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Oe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Oe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Oe.getFirstMatch(ar,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,a=t.search("\\(")!==-1?n:e;return{name:Oe.getFirstMatch(a,t),version:Oe.getSecondMatch(a,t)}}}],h0e=[{test:[/Roku\/DVP/],describe(t){const e=Oe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:oo.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Oe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:oo.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Oe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Oe.getWindowsVersionName(e);return{name:oo.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:oo.iOS},n=Oe.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Oe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Oe.getMacOSVersionName(e),r={name:oo.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Oe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:oo.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Oe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Oe.getAndroidVersionName(e),r={name:oo.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Oe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:oo.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Oe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Oe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Oe.getFirstMatch(/\bbb(\d+)/i,t);return{name:oo.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Oe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:oo.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Oe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:oo.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:oo.Linux}}},{test:[/CrOS/],describe(){return{name:oo.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Oe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:oo.PlayStation4,version:e}}}],m0e=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Oe.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:zr.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:zr.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:zr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:zr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:zr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:zr.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:zr.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Oe.getFirstMatch(/(ipod|iphone)/i,t);return{type:zr.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:zr.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:zr.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:zr.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:zr.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:zr.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:zr.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:zr.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:zr.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:zr.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:zr.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:zr.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:zr.tv}}}],g0e=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Yu.Blink};const n=Oe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Yu.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Yu.Trident},n=Oe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Yu.Presto},n=Oe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Yu.Gecko},n=Oe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Yu.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Yu.WebKit},n=Oe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class K${constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Oe.find(p0e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Oe.find(h0e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Oe.find(m0e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Oe.find(g0e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Oe.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const a={};let o=0;if(Object.keys(e).forEach(l=>{const d=e[l];typeof d=="string"?(a[l]=d,o+=1):typeof d=="object"&&(n[l]=d,r+=1)}),r>0){const l=Object.keys(n),d=Oe.find(l,c=>this.isOS(c));if(d){const c=this.satisfies(n[d]);if(c!==void 0)return c}const f=Oe.find(l,c=>this.isPlatform(c));if(f){const c=this.satisfies(n[f]);if(c!==void 0)return c}}if(o>0){const l=Object.keys(a),d=Oe.find(l,f=>this.isBrowser(f,!0));if(d!==void 0)return this.compareVersion(a[d])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let a=e.toLowerCase();const o=Oe.getBrowserTypeByAlias(a);return n&&o&&(a=o.toLowerCase()),a===r}compareVersion(e){let n=[0],r=e,a=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(a=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(a=!0,r=e.substr(1)),n.indexOf(Oe.compareVersions(o,r,a))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Y${static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new K$(e,n)}static parse(e){return new K$(e).getResult()}static get BROWSER_MAP(){return G$}static get ENGINE_MAP(){return Yu}static get OS_MAP(){return oo}static get PLATFORMS_MAP(){return zr}}const v0e=({serviceId:t,clientVersion:e})=>async()=>{var a,o,i,l,d;const n=typeof window<"u"&&((a=window==null?void 0:window.navigator)!=null&&a.userAgent)?Y$.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",e],["ua","2.0"],[`os/${((o=n==null?void 0:n.os)==null?void 0:o.name)||"other"}`,(i=n==null?void 0:n.os)==null?void 0:i.version],["lang/js"],["md/browser",`${((l=n==null?void 0:n.browser)==null?void 0:l.name)??"unknown"}_${((d=n==null?void 0:n.browser)==null?void 0:d.version)??"unknown"}`]];return t&&r.push([`api/${t}`,e]),r},y0e=t=>()=>Promise.reject(t),X$=typeof TextEncoder=="function"?new TextEncoder:null,b0e=t=>{if(typeof t=="string"){if(X$)return X$.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){const r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},Q$="required",qi="fn",Gi="argv",pd="ref",Z$="isSet",so="tree",hd="error",Gp="endpoint",Zx="PartitionResult",J$={[Q$]:!1,type:"String"},eF={[Q$]:!0,default:!1,type:"Boolean"},tF={[pd]:"Endpoint"},nF={[qi]:"booleanEquals",[Gi]:[{[pd]:"UseFIPS"},!0]},rF={[qi]:"booleanEquals",[Gi]:[{[pd]:"UseDualStack"},!0]},ci={},aF={[qi]:"booleanEquals",[Gi]:[!0,{[qi]:"getAttr",[Gi]:[{[pd]:Zx},"supportsFIPS"]}]},oF={[qi]:"booleanEquals",[Gi]:[!0,{[qi]:"getAttr",[Gi]:[{[pd]:Zx},"supportsDualStack"]}]},sF=[nF],iF=[rF],uF=[{[pd]:"Region"}],S0e={parameters:{Region:J$,UseDualStack:eF,UseFIPS:eF,Endpoint:J$},rules:[{conditions:[{[qi]:Z$,[Gi]:[tF]}],type:so,rules:[{conditions:sF,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hd},{type:so,rules:[{conditions:iF,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hd},{endpoint:{url:tF,properties:ci,headers:ci},type:Gp}]}]},{type:so,rules:[{conditions:[{[qi]:Z$,[Gi]:uF}],type:so,rules:[{conditions:[{[qi]:"aws.partition",[Gi]:uF,assign:Zx}],type:so,rules:[{conditions:[nF,rF],type:so,rules:[{conditions:[aF,oF],type:so,rules:[{type:so,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ci,headers:ci},type:Gp}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hd}]},{conditions:sF,type:so,rules:[{conditions:[aF],type:so,rules:[{type:so,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ci,headers:ci},type:Gp}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:hd}]},{conditions:iF,type:so,rules:[{conditions:[oF],type:so,rules:[{type:so,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ci,headers:ci},type:Gp}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:hd}]},{type:so,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:ci,headers:ci},type:Gp}]}]}]},{error:"Invalid Configuration: Missing Region",type:hd}]}]},w0e=(t,e={})=>kge(S0e,{endpointParams:t,logger:e.logger}),_0e=t=>({apiVersion:"2022-05-30",base64Decoder:(t==null?void 0:t.base64Decoder)??Rx,base64Encoder:(t==null?void 0:t.base64Encoder)??s$,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??w0e,extensions:(t==null?void 0:t.extensions)??[],logger:(t==null?void 0:t.logger)??new b$,serviceId:(t==null?void 0:t.serviceId)??"RekognitionStreaming",urlParser:(t==null?void 0:t.urlParser)??ib,utf8Decoder:(t==null?void 0:t.utf8Decoder)??bf,utf8Encoder:(t==null?void 0:t.utf8Encoder)??_1}),x0e=["in-region","cross-region","mobile","standard","legacy"],E0e=({defaultsMode:t}={})=>cM(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(C0e()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${x0e.join(", ")}, got ${e}`)}}),C0e=()=>{var n,r;const t=typeof window<"u"&&((n=window==null?void 0:window.navigator)!=null&&n.userAgent)?Y$.parse(window.navigator.userAgent):void 0,e=(r=t==null?void 0:t.platform)==null?void 0:r.type;return e==="tablet"||e==="mobile"},T0e=t=>{const e=E0e(t),n=()=>e().then(kye),r=_0e(t);return{...r,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??b0e,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(a=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??v0e({serviceId:r.serviceId,clientVersion:qye.version}),eventStreamPayloadHandlerProvider:(t==null?void 0:t.eventStreamPayloadHandlerProvider)??Pge,eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??eve,maxAttempts:(t==null?void 0:t.maxAttempts)??ub,region:(t==null?void 0:t.region)??y0e("Region is missing"),requestHandler:(t==null?void 0:t.requestHandler)??new cve(n,new Fp(n)),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await n()).retryMode||zve),sha256:(t==null?void 0:t.sha256)??d0e.Sha256,streamCollector:(t==null?void 0:t.streamCollector)??ove,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(hve)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(mve))}},k0e=t=>t,I0e=(t,e)=>{const n={...k0e(Dye(t))};return e.forEach(r=>r.configure(n)),{...t,...Oye(n)}};class R0e extends lye{constructor(...[e]){const n=T0e(e||{}),r=Wye(n),a=gve(r),o=Bve(a),i=uye(o),l=i,d=ege(l),f=The(d),c=qge(f),h=lge(c),g=vve(h),v=I0e(g,(e==null?void 0:e.extensions)||[]);super(v),this.config=v,this.middlewareStack.use(jye(this.config)),this.middlewareStack.use(Sve(this.config)),this.middlewareStack.use(Phe(this.config)),this.middlewareStack.use(zhe(this.config)),this.middlewareStack.use(Ghe(this.config)),this.middlewareStack.use(uge(this.config)),this.middlewareStack.use(Mge(this.config))}destroy(){super.destroy()}}class di extends Dx{constructor(e){super(e),Object.setPrototypeOf(this,di.prototype)}}class Jx extends di{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Jx.prototype),this.Message=e.Message,this.Code=e.Code}}var eE;(function(t){t.visit=(e,n)=>e.FaceMovementAndLightChallenge!==void 0?n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):n._(e.$unknown[0],e.$unknown[1])})(eE||(eE={}));class tE extends di{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,tE.prototype),this.Message=e.Message,this.Code=e.Code}}var nE;(function(t){t.visit=(e,n)=>e.VideoEvent!==void 0?n.VideoEvent(e.VideoEvent):e.ClientSessionInformationEvent!==void 0?n.ClientSessionInformationEvent(e.ClientSessionInformationEvent):n._(e.$unknown[0],e.$unknown[1])})(nE||(nE={}));var lF;(function(t){t.visit=(e,n)=>e.FaceMovementAndLightChallenge!==void 0?n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):n._(e.$unknown[0],e.$unknown[1])})(lF||(lF={}));class rE extends di{constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,rE.prototype),this.Message=e.Message,this.Code=e.Code}}class aE extends di{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,aE.prototype),this.Message=e.Message,this.Code=e.Code}}class oE extends di{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,oE.prototype),this.Message=e.Message,this.Code=e.Code}}class sE extends di{constructor(e){super({name:"ValidationException",$fault:"client",...e}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,sE.prototype),this.Message=e.Message,this.Code=e.Code}}var cF;(function(t){t.visit=(e,n)=>e.ServerSessionInformationEvent!==void 0?n.ServerSessionInformationEvent(e.ServerSessionInformationEvent):e.DisconnectionEvent!==void 0?n.DisconnectionEvent(e.DisconnectionEvent):e.ValidationException!==void 0?n.ValidationException(e.ValidationException):e.InternalServerException!==void 0?n.InternalServerException(e.InternalServerException):e.ThrottlingException!==void 0?n.ThrottlingException(e.ThrottlingException):e.ServiceQuotaExceededException!==void 0?n.ServiceQuotaExceededException(e.ServiceQuotaExceededException):e.ServiceUnavailableException!==void 0?n.ServiceUnavailableException(e.ServiceUnavailableException):n._(e.$unknown[0],e.$unknown[1])})(cF||(cF={}));class iE extends di{constructor(e){super({name:"SessionNotFoundException",$fault:"client",...e}),this.name="SessionNotFoundException",this.$fault="client",Object.setPrototypeOf(this,iE.prototype),this.Message=e.Message,this.Code=e.Code}}const A0e=t=>({...t,...t.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}}),N0e=t=>({...t,...t.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"}});class uE{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){const e=new uE({...this,headers:{...this.headers}});return e.query&&(e.query=D0e(e.query)),e}}function D0e(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}const O0e=async(t,e)=>{const{hostname:n,protocol:r="https",port:a,path:o}=await e.endpoint(),i=li({},d1e,{"x-amz-rekognition-streaming-liveness-session-id":t.SessionId,"x-amz-rekognition-streaming-liveness-video-width":t.VideoWidth,"x-amz-rekognition-streaming-liveness-video-height":t.VideoHeight,"x-amz-rekognition-streaming-liveness-challenge-versions":t.ChallengeVersions}),l=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/start-face-liveness-session`;let d;return t.LivenessRequestStream!==void 0&&(d=B0e(t.LivenessRequestStream,e)),new uE({protocol:r,hostname:n,port:a,method:"POST",headers:i,path:l,body:d})},M0e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $0e(t,e);const n=li({$metadata:Xu(t),SessionId:[,t.headers["x-amz-rekognition-streaming-liveness-session-id"]]}),r=t.body;return n.LivenessResponseStream=V0e(r,e),n},$0e=async(t,e)=>{const n={...t,body:await f1e(t.body,e)},r=p1e(t,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await P0e(n);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await dF(n);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await fF(n);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await pF(n);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await L0e(n);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await hF(n);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await mF(n);default:const a=n.body;return F0e({output:t,parsedBody:a,errorCode:r})}},F0e=Cye(di),P0e=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new Jx({$metadata:Xu(t),...n});return Ku(o,t.body)},dF=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new tE({$metadata:Xu(t),...n});return Ku(o,t.body)},fF=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new rE({$metadata:Xu(t),...n});return Ku(o,t.body)},pF=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new aE({$metadata:Xu(t),...n});return Ku(o,t.body)},L0e=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new iE({$metadata:Xu(t),...n});return Ku(o,t.body)},hF=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new oE({$metadata:Xu(t),...n});return Ku(o,t.body)},mF=async(t,e)=>{const n=li({}),r=t.body,a=Zr(r,{Code:ao,Message:ao});Object.assign(n,a);const o=new sE({$metadata:Xu(t),...n});return Ku(o,t.body)},B0e=(t,e)=>{const n=r=>nE.visit(r,{VideoEvent:a=>U0e(a,e),ClientSessionInformationEvent:a=>z0e(a,e),_:a=>a});return e.eventStreamMarshaller.serialize(t,n)},z0e=(t,e)=>{const n={":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}};let r=new Uint8Array;return r=Q0e(t),r=e.utf8Decoder(JSON.stringify(r)),{headers:n,body:r}},U0e=(t,e)=>{const n={":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}};let r=new Uint8Array;return r=t1e(t,e),r=e.utf8Decoder(JSON.stringify(r)),{headers:n,body:r}},V0e=(t,e)=>e.eventStreamMarshaller.deserialize(t,async n=>n.ServerSessionInformationEvent!=null?{ServerSessionInformationEvent:await W0e(n.ServerSessionInformationEvent,e)}:n.DisconnectionEvent!=null?{DisconnectionEvent:await j0e(n.DisconnectionEvent,e)}:n.ValidationException!=null?{ValidationException:await Y0e(n.ValidationException,e)}:n.InternalServerException!=null?{InternalServerException:await H0e(n.InternalServerException,e)}:n.ThrottlingException!=null?{ThrottlingException:await K0e(n.ThrottlingException,e)}:n.ServiceQuotaExceededException!=null?{ServiceQuotaExceededException:await q0e(n.ServiceQuotaExceededException,e)}:n.ServiceUnavailableException!=null?{ServiceUnavailableException:await G0e(n.ServiceUnavailableException,e)}:{$unknown:t}),j0e=async(t,e)=>{const n={},r=await Qu(t.body,e);return Object.assign(n,Lp(r)),n},H0e=async(t,e)=>{const n={...t,body:await Qu(t.body,e)};return dF(n)},W0e=async(t,e)=>{const n={},r=await Qu(t.body,e);return Object.assign(n,u1e(r)),n},q0e=async(t,e)=>{const n={...t,body:await Qu(t.body,e)};return fF(n)},G0e=async(t,e)=>{const n={...t,body:await Qu(t.body,e)};return pF(n)},K0e=async(t,e)=>{const n={...t,body:await Qu(t.body,e)};return hF(n)},Y0e=async(t,e)=>{const n={...t,body:await Qu(t.body,e)};return mF(n)},gF=(t,e)=>Zr(t,{Height:db,Left:db,Top:db,Width:db}),X0e=(t,e)=>eE.visit(t,{FaceMovementAndLightChallenge:n=>({FaceMovementAndLightChallenge:Z0e(n)}),_:(n,r)=>({name:r})}),Q0e=(t,e)=>Zr(t,{Challenge:n=>X0e(n)}),Z0e=(t,e)=>Zr(t,{ChallengeId:[],ColorDisplayed:Lp,InitialFace:n=>J0e(n),TargetFace:n=>e1e(n),VideoEndTimestamp:[],VideoStartTimestamp:[]}),J0e=(t,e)=>Zr(t,{BoundingBox:n=>gF(n),InitialFaceDetectedTimestamp:[]}),e1e=(t,e)=>Zr(t,{BoundingBox:n=>gF(n),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),t1e=(t,e)=>Zr(t,{TimestampMillis:[],VideoChunk:e.base64Encoder}),n1e=(t,e)=>Zr(t,{BlazeFaceDetectionThreshold:Va,FaceDistanceThreshold:Va,FaceDistanceThresholdMax:Va,FaceDistanceThresholdMin:Va,FaceIouHeightThreshold:Va,FaceIouWidthThreshold:Va,OvalFitTimeout:yye,OvalHeightWidthRatio:Va,OvalIouHeightThreshold:Va,OvalIouThreshold:Va,OvalIouWidthThreshold:Va}),r1e=(t,e)=>Zr(t,{DownscrollDuration:Va,FlatDisplayDuration:Va,FreshnessColor:Lp}),a1e=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>r1e(r)),o1e=(t,e)=>Zr(t,{ChallengeConfig:n=>n1e(n),ColorSequences:n=>a1e(n),LightChallengeType:ao,OvalParameters:n=>s1e(n)}),s1e=(t,e)=>Zr(t,{CenterX:Va,CenterY:Va,Height:Va,Width:Va}),i1e=(t,e)=>t.FaceMovementAndLightChallenge!=null?{FaceMovementAndLightChallenge:o1e(t.FaceMovementAndLightChallenge)}:{$unknown:Object.entries(t)[0]},u1e=(t,e)=>Zr(t,{SessionInformation:n=>l1e(n)}),l1e=(t,e)=>Zr(t,{Challenge:n=>i1e(_ye(n))}),Xu=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),c1e=(t,e)=>fye(t,e).then(n=>e.utf8Encoder(n)),d1e=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Qu=(t,e)=>c1e(t,e).then(n=>n.length?JSON.parse(n):{}),f1e=async(t,e)=>{const n=await Qu(t,e);return n.message=n.message??n.Message,n},p1e=(t,e)=>{const n=(o,i)=>Object.keys(o).find(l=>l.toLowerCase()===i.toLowerCase()),r=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},a=n(t.headers,"x-amzn-errortype");if(a!==void 0)return r(t.headers[a]);if(e.code!==void 0)return r(e.code);if(e.__type!==void 0)return r(e.__type)};class lE extends _${static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,n,r){this.middlewareStack.use(Fve(n,this.serialize,this.deserialize)),this.middlewareStack.use(Lve(n,lE.getEndpointParameterInstructions())),this.middlewareStack.use(Dhe(n)),this.middlewareStack.use(Hge(n,{headerPrefix:"x-amz-rekognition-streaming-liveness-"}));const a=e.concat(this.middlewareStack),{logger:o}=n,d={logger:o,clientName:"RekognitionStreamingClient",commandName:"StartFaceLivenessSessionCommand",inputFilterSensitiveLog:A0e,outputFilterSensitiveLog:N0e},{requestHandler:f}=n;return a.resolve(c=>f.handle(c.request,r||{}),d)}serialize(e,n){return O0e(e,n)}deserialize(e,n){return M0e(e,n)}}class h1e{constructor(e,n={}){if(typeof MediaRecorder>"u")throw Error("MediaRecorder is not supported by this browser");this._stream=e,this._options=n,this._chunks=[],this._recorder=new MediaRecorder(e,{bitsPerSecond:1e6}),this._setupCallbacks()}getState(){return this._recorder.state}start(e){this.clearRecordedData(),this.recordingStartApiTimestamp=Date.now(),this._recorder.start(e)}async stop(){return this.getState()==="recording"&&this._recorder.stop(),this._recorderStopped}pause(){this._recorder.pause()}clearRecordedData(){this._chunks=[]}dispatch(e){this._recorder.dispatchEvent(e)}getVideoChunkSize(){return this._chunks.length}_setupCallbacks(){this.videoStream=new ReadableStream({start:e=>{this._recorder&&(this._recorder.ondataavailable=n=>{n.data&&n.data.size>0&&(this._chunks.length===0&&(this.firstChunkTimestamp=Date.now()),this._chunks.push(n.data),e.enqueue(n.data))},this._recorder.addEventListener("clientSesssionInfo",n=>{e.enqueue(n.data.clientInfo)}),this._recorder.addEventListener("stopVideo",()=>{e.enqueue("stopVideo")}),this._recorder.addEventListener("endStream",()=>{e.close()}),this._recorder.addEventListener("endStreamWithCode",n=>{e.enqueue({type:"endStreamWithCode",code:n.data.code})}))}}),this.recorderStarted=new Promise(e=>{this._recorder.onstart=()=>{this.recorderStartTimestamp=Date.now(),e()}}),this._recorderStopped=new Promise(e=>{this._recorder.onstop=()=>{this.recorderEndTimestamp=Date.now(),e()}}),this._recorder.onerror=()=>{this.getState()!=="stopped"&&this.stop()}}}const m1e="ui-react-liveness/3.0.11",g1e=()=>m1e;function v1e(t){const{port:e,query:n}=t;let{protocol:r,path:a,hostname:o}=t;r&&r.slice(-1)!==":"&&(r+=":"),e&&(o+=`:${e}`),a&&a.charAt(0)!=="/"&&(a=`/${a}`);let i=n?Tx(n):"";i&&i[0]!=="?"&&(i=`?${i}`);let l="";if(t.username!=null||t.password!=null){const f=t.username??"",c=t.password??"";l=`${f}:${c}@`}let d="";return t.fragment&&(d=`#${t.fragment}`),`${r}//${l}${o}${a}${i}${d}`}const y1e=2e3,b1e=t=>t.protocol==="ws:"||t.protocol==="wss:",S1e=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,w1e=t=>t[Symbol.asyncIterator]?t:S1e(t)?kx(t):{[Symbol.asyncIterator]:async function*(){yield t}},_1e=t=>typeof ReadableStream=="function"?Ix(t):t;class x1e{constructor(e,n=new Fp){this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=n,typeof e=="function"?this.configPromise=e().then(r=>r??{}):this.configPromise=Promise.resolve(e??{})}destroy(){for(const[e,n]of Object.entries(this.sockets)){for(const r of n)r.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!b1e(e))return this.httpHandler.handle(e);const n=v1e(e),r=new WebSocket(n);this.sockets[n]||(this.sockets[n]=[]),this.sockets[n].push(r),r.binaryType="arraybuffer";const{connectionTimeout:a=y1e}=await this.configPromise;await this.waitForReady(r,a);const{body:o}=e,i=w1e(o),l=this.connect(r,i),d=_1e(l);return{response:new sb({statusCode:200,body:d})}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(n=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(n.readyState))}waitForReady(e,n){return new Promise((r,a)=>{const o=setTimeout(()=>{this.removeNotUsableSockets(e.url),a({$metadata:{httpStatusCode:500}})},n);e.onopen=()=>{clearTimeout(o),r()}})}connect(e,n){let r,a=!1,o=()=>{},i=()=>{};e.onmessage=f=>{i({done:!1,value:new Uint8Array(f.data)})},e.onerror=f=>{a=!0,e.close(),o(f)},e.onclose=()=>{this.removeNotUsableSockets(e.url),!a&&(r?o(r):i({done:!0,value:void 0}))};const l={[Symbol.asyncIterator]:()=>({next:()=>new Promise((f,c)=>{i=f,o=c})})};return(async()=>{try{for await(const f of n){const c=this.utf8decoder.decode(f);if(c.includes("closeCode")){const h=c.match(/"closeCode":([0-9]*)/);if(h){const g=h[1];e.close(parseInt(g))}continue}e.send(f)}}catch(f){r=f}finally{e.close(zc.SUCCESS_CODE)}})(),l}}const E1e=1e3;function C1e(t){return t.arrayBuffer!==void 0}function T1e(t){return t.Challenge!==void 0}function k1e(t){return t.code!==void 0}class I1e{constructor({sessionId:e,region:n,stream:r,videoEl:a,credentialProvider:o,endpointOverride:i}){this.sessionId=e,this.region=n,this._stream=r,this.videoEl=a,this.videoRecorder=new h1e(r),this.credentialProvider=o,this.endpointOverride=i,this.initPromise=this.init()}async getResponseStream(){return await this.initPromise,this.responseStream}startRecordingLivenessVideo(){this.videoRecorder.start(E1e)}sendClientInfo(e){this.videoRecorder.dispatch(new MessageEvent("clientSesssionInfo",{data:{clientInfo:e}}))}async stopVideo(){await this.videoRecorder.stop()}dispatchStopVideoEvent(){this.videoRecorder.dispatch(new Event("stopVideo"))}async endStreamWithCode(e){this.videoRecorder.getState()==="recording"&&await this.stopVideo(),this.videoRecorder.dispatch(new MessageEvent("endStreamWithCode",{data:{code:e}}))}async init(){const e=this.credentialProvider??(await kk()).credentials;if(!e)throw new Error("No credentials");const n={credentials:e,region:this.region,customUserAgent:`${Om()} ${g1e()}`,requestHandler:new x1e({connectionTimeout:1e4})};if(this.endpointOverride){const r=this.endpointOverride;n.endpointProvider=()=>({url:new URL(r)})}this._client=new R0e(n),this.responseStream=await this.startLivenessVideoConnection()}getAsyncGeneratorFromReadableStream(e){const n=this;return this._reader=e.getReader(),async function*(){for(;;){const{done:r,value:a}=await n._reader.read();if(r)return;if(a==="stopVideo")yield{VideoEvent:{VideoChunk:[],TimestampMillis:Date.now()}};else if(C1e(a)){const o=await a.arrayBuffer(),i=new Uint8Array(o);i.length>0&&(yield{VideoEvent:{VideoChunk:i,TimestampMillis:Date.now()}})}else T1e(a)?yield{ClientSessionInformationEvent:{Challenge:a.Challenge}}:k1e(a)&&(yield{VideoEvent:{VideoChunk:[],TimestampMillis:{closeCode:a.code}}})}}}async startLivenessVideoConnection(){const e=this.getAsyncGeneratorFromReadableStream(this.videoRecorder.videoStream)();return(await this._client.send(new lE({ChallengeVersions:"FaceMovementAndLightChallenge_1.0.0",SessionId:this.sessionId,LivenessRequestStream:e,VideoWidth:this.videoEl.videoWidth.toString(),VideoHeight:this.videoEl.videoHeight.toString()}))).LivenessResponseStream}}const R1e=10;var Os;(function(t){t.SCROLLING="SCROLLING",t.FLAT="FLAT"})(Os||(Os={}));class A1e{constructor(e,n){this.context=e,this.freshnessColorsSequence=n,this.isFirstTick=!0}async displayColorTick(){return new Promise((e,n)=>{setTimeout(()=>{this.displayNextColorTick(e,n)},Math.min(R1e))})}init(){this.stageIndex=0,this.currColorIndex=0,this.currColorSequence=this.freshnessColorsSequence[0],this.prevColorSequence=this.freshnessColorsSequence[0],this.stage=Os.FLAT,this.timeLastFlatOrScrollChange=Date.now(),this.timeLastFaceMatchChecked=Date.now()}displayNextColorTick(e,n){const{freshnessColorEl:r}=this.context.freshnessColorAssociatedParams,{ovalDetails:a,scaleFactor:o}=this.context.ovalAssociatedParams,{videoEl:i}=this.context.videoAssociatedParams,l=Date.now();this.isFirstTick&&(this.init(),this.isFirstTick=!1,this.sendColorStartTime({tickStartTime:l,currColor:this.currColorSequence.color,prevColor:this.currColorSequence.color,currColorIndex:this.stageIndex}));let d=l-this.timeLastFlatOrScrollChange;if(r.style.display="block",(this.stage===Os.FLAT&&d>=this.currColorSequence.flatDisplayDuration||this.stage===Os.SCROLLING&&d>=this.currColorSequence.downscrollDuration)&&(this.incrementStageIndex(l),d=0),this.currColorIndex<this.freshnessColorsSequence.length){const f=d/(this.stage===Os.SCROLLING?this.currColorSequence.downscrollDuration:this.currColorSequence.flatDisplayDuration);zV({overlayCanvas:r,prevColor:this.prevColorSequence.color,nextColor:this.currColorSequence.color,videoEl:i,ovalDetails:a,heightFraction:f,scaleFactor:o}),e(!1)}else r.style.display="none",e(!0)}incrementStageIndex(e){this.stageIndex+=1,this.prevColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.stage===Os.FLAT?(this.currColorIndex+=1,this.stage=Os.SCROLLING):this.stage===Os.SCROLLING&&(this.freshnessColorsSequence[this.currColorIndex].flatDisplayDuration>0?this.stage=Os.FLAT:(this.stage=Os.SCROLLING,this.currColorIndex+=1)),this.currColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.timeLastFlatOrScrollChange=Date.now(),this.currColorSequence&&this.sendColorStartTime({tickStartTime:e,currColor:this.currColorSequence.color,prevColor:this.prevColorSequence.color,currColorIndex:this.stageIndex})}sendColorStartTime({tickStartTime:e,currColor:n,prevColor:r,currColorIndex:a}){const{livenessStreamProvider:o,challengeId:i}=this.context;o.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:i,ColorDisplayed:{CurrentColor:{RGB:SR(n)},PreviousColor:{RGB:SR(r)},SequenceNumber:a,CurrentColorStartTimestamp:e}}}})}}let vF=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=n[t]&63;r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r<63?e+="_":e+="-"}return e};const N1e=t=>!!(t!=null&&t.ServerSessionInformationEvent),D1e=t=>!!(t!=null&&t.DisconnectionEvent),O1e=t=>!!(t!=null&&t.ValidationException),M1e=t=>!!(t!=null&&t.InternalServerException),$1e=t=>!!(t!=null&&t.ThrottlingException),F1e=t=>!!(t!=null&&t.ServiceQuotaExceededException),P1e=t=>{const{message:e,name:n}=t;return n==="InvalidSignatureException"&&e.includes("valid region")},fb={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:30},facingMode:"user"},L1e=1e3,B1e=7e3;let yF;const bF="AmplifyLivenessCameraId";function z1e(){return localStorage.getItem(bF)}function SF(t){localStorage.setItem(bF,t)}const U1e=DU({id:"livenessMachine",initial:"cameraCheck",predictableActionArguments:!0,context:{challengeId:vF(),maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:fb,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0,initialFaceMatchTime:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1,freshnessColorDisplay:void 0},errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},RUNTIME_ERROR:{target:"error"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{cameraCheck:{entry:["resetErrorState"],invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:["updateVideoMediaStream"]},onError:{target:"permissionDenied"}}},waitForDOMAndCameraDetails:{after:{0:{target:"start",cond:"hasDOMAndCameraDetails"},10:{target:"waitForDOMAndCameraDetails"}}},start:{entry:["drawStaticOval","initializeFaceDetector"],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:["updateFaceMatchBeforeStartDetails"]}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:["updateFaceDistanceBeforeRecording"]}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"initializeLivenessStream",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"notRecording",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},notRecording:{initial:"waitForSessionInfo",states:{waitForSessionInfo:{after:{0:{target:"#livenessMachine.recording",cond:"hasServerSessionInfo"},100:{target:"waitForSessionInfo"}}}}},recording:{entry:["clearErrorState","startRecording"],initial:"ovalDrawing",states:{ovalDrawing:{entry:["sendTimeoutAfterOvalDrawingDelay"],invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"checkRecordingStarted",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},checkRecordingStarted:{after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:["updateRecordingStartTimestampMs"]},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:["cancelOvalDrawingTimeout"],invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{after:{0:{target:"flashFreshnessColors",cond:"hasFaceMatchedInOvalWithMinTime",actions:["updateEndFaceMatch","setupFlashFreshnessColors","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},.1:{target:"ovalMatching",cond:"hasFaceMatchedInOval",actions:"setFaceMatchTimeAndStartFace"},1:{target:"ovalMatching",cond:"hasNotFaceMatchedInOval"}}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:["stopRecording"],type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["sendTimeoutAfterWaitingForDisconnect","pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{after:{0:{target:"getLivenessResult",cond:"getShouldDisconnect"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["cancelWaitForDisconnectTimeout","freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"notRecording"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"cameraCheck"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:[{target:"error"}]},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelWaitForDisconnectTimeout","cancelOvalMatchTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:[{target:"cameraCheck"}]}}},{actions:{spawnResponseStreamActor:Jn({responseStreamActorRef:()=>kU(V1e)}),updateFailedAttempts:Jn({failedAttempts:t=>t.failedAttempts+1}),updateVideoMediaStream:Jn({videoAssociatedParams:(t,e)=>{var n,r,a;return{...t.videoAssociatedParams,videoMediaStream:(n=e.data)==null?void 0:n.stream,selectedDeviceId:(r=e.data)==null?void 0:r.selectedDeviceId,selectableDevices:(a=e.data)==null?void 0:a.selectableDevices}}}),initializeFaceDetector:Jn({ovalAssociatedParams:t=>{const{componentProps:e}=t,{faceModelUrl:n,binaryPath:r}=e.config,a=new Che(r,n);return a.triggerModelLoading(),{...t.ovalAssociatedParams,faceDetector:a}}}),updateLivenessStreamProvider:Jn({livenessStreamProvider:(t,e)=>{var n;return(n=e.data)==null?void 0:n.livenessStreamProvider}}),setDOMAndCameraDetails:Jn({videoAssociatedParams:(t,e)=>{var n,r,a;return{...t.videoAssociatedParams,videoEl:(n=e.data)==null?void 0:n.videoEl,canvasEl:(r=e.data)==null?void 0:r.canvasEl,isMobile:(a=e.data)==null?void 0:a.isMobile}},freshnessColorAssociatedParams:(t,e)=>{var n;return{...t.freshnessColorAssociatedParams,freshnessColorEl:(n=e.data)==null?void 0:n.freshnessColorEl}}}),updateDeviceAndStream:Jn({videoAssociatedParams:(t,e)=>{var n,r,a;return SF((n=e.data)==null?void 0:n.newDeviceId),{...t.videoAssociatedParams,selectedDeviceId:(r=e.data)==null?void 0:r.newDeviceId,videoMediaStream:(a=e.data)==null?void 0:a.newStream}}}),drawStaticOval:t=>{const{canvasEl:e,videoEl:n,videoMediaStream:r}=t.videoAssociatedParams;GS(e,n,r)},updateRecordingStartTimestampMs:Jn({videoAssociatedParams:t=>{const{challengeId:e,videoAssociatedParams:n,ovalAssociatedParams:r,livenessStreamProvider:a}=t,{recordingStartApiTimestamp:o,recorderStartTimestamp:i}=a.videoRecorder,{videoMediaStream:l}=n,{initialFace:d}=r,f=Math.round(.73*(i-o)+o),{width:c,height:h}=l.getTracks()[0].getSettings(),g=c-d.left-d.width;return t.livenessStreamProvider.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:e,VideoStartTimestamp:f,InitialFace:{InitialFaceDetectedTimestamp:d.timestampMs,BoundingBox:XS({deviceHeight:h,deviceWidth:c,height:d.height,width:d.width,top:d.top,left:g})}}}}),{...t.videoAssociatedParams,recordingStartTimestampMs:f}}}),startRecording:Jn({videoAssociatedParams:t=>{if(!t.serverSessionInformation)throw new Error("Session information was not received from response stream");return t.livenessStreamProvider.videoRecorder&&t.livenessStreamProvider.videoRecorder.getState()!=="recording"&&t.livenessStreamProvider.startRecordingLivenessVideo(),{...t.videoAssociatedParams}}}),stopRecording:t=>{},updateFaceMatchBeforeStartDetails:Jn({faceMatchStateBeforeStart:(t,e)=>e.data.faceMatchState}),updateFaceDistanceBeforeRecording:Jn({isFaceFarEnoughBeforeRecording:(t,e)=>e.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:Jn({isFaceFarEnoughBeforeRecording:(t,e)=>e.data.isFaceFarEnoughBeforeRecording,errorState:(t,e)=>{var n;return(n=e.data)==null?void 0:n.error}}),updateOvalAndFaceDetailsPostDraw:Jn({ovalAssociatedParams:(t,e)=>({...t.ovalAssociatedParams,initialFace:e.data.initialFace,ovalDetails:e.data.ovalDetails,scaleFactor:e.data.scaleFactor}),faceMatchAssociatedParams:(t,e)=>({...t.faceMatchAssociatedParams,faceMatchState:e.data.faceMatchState,illuminationState:e.data.illuminationState})}),updateFaceDetailsPostMatch:Jn({faceMatchAssociatedParams:(t,e)=>({...t.faceMatchAssociatedParams,faceMatchState:e.data.faceMatchState,faceMatchPercentage:e.data.faceMatchPercentage,illuminationState:e.data.illuminationState,currentDetectedFace:e.data.detectedFace})}),updateEndFaceMatch:Jn({faceMatchAssociatedParams:t=>({...t.faceMatchAssociatedParams,endFace:t.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:Jn({faceMatchAssociatedParams:t=>({...t.faceMatchAssociatedParams,startFace:t.faceMatchAssociatedParams.startFace===void 0?t.faceMatchAssociatedParams.currentDetectedFace:t.faceMatchAssociatedParams.startFace,initialFaceMatchTime:t.faceMatchAssociatedParams.initialFaceMatchTime===void 0?Date.now():t.faceMatchAssociatedParams.initialFaceMatchTime})}),resetErrorState:Jn({errorState:t=>{}}),updateErrorStateForTimeout:Jn({errorState:(t,e)=>{var n;return((n=e.data)==null?void 0:n.errorState)||pr.TIMEOUT}}),updateErrorStateForRuntime:Jn({errorState:(t,e)=>{var n;return((n=e.data)==null?void 0:n.errorState)||pr.RUNTIME_ERROR}}),updateErrorStateForServer:Jn({errorState:t=>pr.SERVER_ERROR}),clearErrorState:Jn({errorState:t=>{}}),updateSessionInfo:Jn({serverSessionInformation:(t,e)=>e.data.sessionInfo}),updateShouldDisconnect:Jn({shouldDisconnect:t=>!0}),updateFreshnessDetails:Jn({freshnessColorAssociatedParams:(t,e)=>({...t.freshnessColorAssociatedParams,freshnessColorsComplete:e.data.freshnessColorsComplete})}),setupFlashFreshnessColors:Jn({freshnessColorAssociatedParams:t=>{const{serverSessionInformation:e}=t,n=VV(e),r=new A1e(t,n);return{...t.freshnessColorAssociatedParams,freshnessColorDisplay:r}}}),sendTimeoutAfterOvalDrawingDelay:Lf({type:"TIMEOUT"},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:Bf("ovalDrawingTimeout"),sendTimeoutAfterOvalMatchDelay:Lf({type:"TIMEOUT"},{delay:t=>{var e,n,r,a;return((a=(r=(n=(e=t.serverSessionInformation)==null?void 0:e.Challenge)==null?void 0:n.FaceMovementAndLightChallenge)==null?void 0:r.ChallengeConfig)==null?void 0:a.OvalFitTimeout)||B1e},id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:Bf("ovalMatchTimeout"),sendTimeoutAfterWaitingForDisconnect:Lf({type:"TIMEOUT",data:{errorState:pr.SERVER_ERROR}},{delay:2e4,id:"waitForDisconnectTimeout"}),cancelWaitForDisconnectTimeout:Bf("waitForDisconnectTimeout"),sendTimeoutAfterFaceDistanceDelay:Lf({type:"RUNTIME_ERROR",data:new Error("Avoid moving closer during countdown and ensure only one face is in front of camera.")},{delay:0,id:"faceDistanceTimeout"}),cancelFaceDistanceTimeout:Bf("faceDistanceTimeout"),callUserPermissionDeniedCallback:Jn({errorState:(t,e)=>{var i,l;let n;e.data.message.includes("15 fps")?n=pr.CAMERA_FRAMERATE_ERROR:n=pr.CAMERA_ACCESS_ERROR;const r=e.data.message||e.data.Message,a=new Error(r),o={state:n,error:a};return(l=(i=t.componentProps).onError)==null||l.call(i,o),n}}),callMobileLandscapeWarningCallback:Jn({errorState:t=>pr.MOBILE_LANDSCAPE_ERROR}),callUserCancelCallback:async t=>{var e,n;(n=(e=t.componentProps).onUserCancel)==null||n.call(e)},callUserTimeoutCallback:async t=>{var r,a;const e=new Error("Client Timeout");e.name=t.errorState;const n={state:t.errorState,error:e};(a=(r=t.componentProps).onError)==null||a.call(r,n)},callErrorCallback:async(t,e)=>{var r,a,o;const n={state:t.errorState,error:((r=e.data)==null?void 0:r.error)||e.data};(o=(a=t.componentProps).onError)==null||o.call(a,n)},cleanUpResources:async t=>{var r;const{freshnessColorEl:e}=t.freshnessColorAssociatedParams;e&&(e.style.display="none");let n=zc.DEFAULT_ERROR_CODE;t.errorState===pr.TIMEOUT?n=zc.FACE_FIT_TIMEOUT:t.errorState===pr.RUNTIME_ERROR?n=zc.RUNTIME_ERROR:t.errorState===pr.FACE_DISTANCE_ERROR||t.errorState===pr.MULTIPLE_FACES_ERROR?n=zc.USER_ERROR_DURING_CONNECTION:t.errorState===void 0&&(n=zc.USER_CANCEL),await((r=t.livenessStreamProvider)==null?void 0:r.endStreamWithCode(n))},freezeStream:async t=>{const{videoMediaStream:e,videoEl:n}=t.videoAssociatedParams;t.isRecordingStopped=!0,n==null||n.pause(),e==null||e.getTracks().forEach(function(r){r.stop()})},pauseVideoStream:async t=>{const{videoEl:e}=t.videoAssociatedParams;t.isRecordingStopped=!0,e.pause()},resetContext:Jn({challengeId:vF(),maxFailedAttempts:0,failedAttempts:0,componentProps:t=>t.componentProps,serverSessionInformation:t=>{},videoAssociatedParams:t=>({videoConstraints:fb}),ovalAssociatedParams:t=>{},errorState:t=>{},livenessStreamProvider:t=>{},responseStreamActorRef:t=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:t=>{},isFaceFarEnoughBeforeRecording:t=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:t=>t.failedAttempts>=t.maxFailedAttempts,hasFaceMatchedInOvalWithMinTime:t=>{const{faceMatchState:e,initialFaceMatchTime:n}=t.faceMatchAssociatedParams,r=Date.now()-n;return e===hn.MATCHED&&r>=L1e},hasFaceMatchedInOval:t=>t.faceMatchAssociatedParams.faceMatchState===hn.MATCHED,hasNotFaceMatchedInOval:t=>t.faceMatchAssociatedParams.faceMatchState!==hn.MATCHED,hasSingleFace:t=>t.faceMatchAssociatedParams.faceMatchState===hn.FACE_IDENTIFIED,hasSingleFaceBeforeStart:t=>t.faceMatchStateBeforeStart===hn.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:t=>t.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:t=>!t.isFaceFarEnoughBeforeRecording,hasLivenessCheckSucceeded:(t,e,n)=>n.state.event.data.isLive,hasFreshnessColorShown:t=>t.freshnessColorAssociatedParams.freshnessColorsComplete,hasServerSessionInfo:t=>t.serverSessionInformation!==void 0,hasDOMAndCameraDetails:t=>t.videoAssociatedParams.videoEl!==void 0&&t.videoAssociatedParams.canvasEl!==void 0&&t.freshnessColorAssociatedParams.freshnessColorEl!==void 0,getShouldDisconnect:t=>!!t.shouldDisconnect,hasRecordingStarted:t=>t.livenessStreamProvider.videoRecorder.firstChunkTimestamp!==void 0,shouldSkipStartScreen:t=>{var e;return!!((e=t.componentProps)!=null&&e.disableStartScreen)}},services:{async checkVirtualCameraAndGetStream(t){const{videoConstraints:e}=t.videoAssociatedParams,n=z1e(),r=await navigator.mediaDevices.getUserMedia({video:{...e,...n?{deviceId:n}:{}},audio:!1}),o=(await navigator.mediaDevices.enumerateDevices()).filter(h=>h.kind==="videoinput").filter(h=>!PV(h));if(!o.length)throw new Error("No real video devices found");const i=r.getTracks().filter(h=>h.getSettings().frameRate>=15);if(i.length<1)throw new Error("No camera found with more than 15 fps");const l=i[0].getSettings().deviceId,d=o.some(h=>h.deviceId===l);let f=l,c=r;return d||(f=o[0].deviceId,c=await navigator.mediaDevices.getUserMedia({video:{...e,deviceId:{exact:o[0].deviceId}},audio:!1})),SF(f),{stream:c,selectedDeviceId:l,selectableDevices:o}},async openLivenessStreamConnection(t){const{config:e}=t.componentProps,{credentialProvider:n,endpointOverride:r}=e,a=new I1e({sessionId:t.componentProps.sessionId,region:t.componentProps.region,stream:t.videoAssociatedParams.videoMediaStream,videoEl:t.videoAssociatedParams.videoEl,credentialProvider:n,endpointOverride:r});return yF=a.getResponseStream(),{livenessStreamProvider:a}},async detectFace(t){const{videoEl:e}=t.videoAssociatedParams,{faceDetector:n}=t.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(a){console.log({err:a})}return{faceMatchState:await jV(n,e)}},async detectFaceDistance(t){const{isFaceFarEnoughBeforeRecording:e}=t,{videoEl:n,videoMediaStream:r,isMobile:a}=t.videoAssociatedParams,{faceDetector:o}=t.ovalAssociatedParams,{width:i,height:l}=r.getTracks()[0].getSettings(),d=qS({width:i,height:l}),{isDistanceBelowThreshold:f}=await wR({faceDetector:o,videoEl:n,ovalDetails:d,reduceThreshold:e,isMobile:a});return{isFaceFarEnoughBeforeRecording:f}},async detectFaceDistanceWhileLoading(t){const{isFaceFarEnoughBeforeRecording:e}=t,{videoEl:n,videoMediaStream:r,isMobile:a}=t.videoAssociatedParams,{faceDetector:o}=t.ovalAssociatedParams,{width:i,height:l}=r.getTracks()[0].getSettings(),d=qS({width:i,height:l}),{isDistanceBelowThreshold:f,error:c}=await wR({faceDetector:o,videoEl:n,ovalDetails:d,reduceThreshold:e,isMobile:a});return{isFaceFarEnoughBeforeRecording:f,error:c}},async detectInitialFaceAndDrawOval(t){const{serverSessionInformation:e,livenessStreamProvider:n}=t,{videoEl:r,canvasEl:a,isMobile:o}=t.videoAssociatedParams,{faceDetector:i}=t.ovalAssociatedParams;try{await i.modelLoadingPromise,await n.videoRecorder.recorderStarted}catch(x){console.log({err:x})}const l=await i.detectFaces(r);let d,f,c;switch(l.length){case 0:{f=hn.CANT_IDENTIFY,c=bR(r);break}case 1:{f=hn.FACE_IDENTIFIED,d=l[0];break}default:{f=hn.TOO_MANY;break}}if(!d)return{faceMatchState:f,illuminationState:c};const{width:h,height:g}=r.getBoundingClientRect();o?(a.width=window.innerWidth,a.height=window.innerHeight):(a.width=h,a.height=g);const v=h/r.videoWidth,b=MV({sessionInformation:e,videoWidth:r.width}),w=KS(d,b);return d.top=w.top,d.left=w.left,d.height=w.bottom-w.top,d.width=w.right-w.left,vR({canvas:a,oval:b,scaleFactor:v,videoEl:r}),{faceMatchState:f,ovalDetails:b,scaleFactor:v,initialFace:d}},async detectFaceAndMatchOval(t){const{serverSessionInformation:e}=t,{videoEl:n}=t.videoAssociatedParams,{faceDetector:r,ovalDetails:a,initialFace:o}=t.ovalAssociatedParams,i=await r.detectFaces(n);let l,d=0,f,c;const h=KS(o,a),{ovalBoundingBox:g}=mR(a),v=gR(h,g);switch(i.length){case 0:{l=hn.CANT_IDENTIFY,c=bR(n);break}case 1:{f=i[0];const{faceMatchState:b,faceMatchPercentage:w}=FV(f,a,v,e);l=b,d=w;break}default:{l=hn.TOO_MANY;break}}return{faceMatchState:l,faceMatchPercentage:d,illuminationState:c,detectedFace:f}},async flashColors(t){const{freshnessColorsComplete:e,freshnessColorDisplay:n}=t.freshnessColorAssociatedParams;return e?void 0:{freshnessColorsComplete:await n.displayColorTick()}},async stopVideo(t){const{challengeId:e,livenessStreamProvider:n}=t,{videoMediaStream:r}=t.videoAssociatedParams,{initialFace:a,ovalDetails:o}=t.ovalAssociatedParams,{startFace:i,endFace:l}=t.faceMatchAssociatedParams,{width:d,height:f}=r.getTracks()[0].getSettings(),c=d-a.left-a.width;await n.stopVideo();const h={Challenge:{FaceMovementAndLightChallenge:{ChallengeId:e,InitialFace:{InitialFaceDetectedTimestamp:a.timestampMs,BoundingBox:XS({deviceHeight:f,deviceWidth:d,height:a.height,width:a.width,top:a.top,left:c})},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:i.timestampMs,FaceDetectedInTargetPositionEndTimestamp:l.timestampMs,BoundingBox:XS({deviceHeight:f,deviceWidth:d,height:o.height,width:o.width,top:o.centerY-o.height/2,left:o.centerX-o.width/2})},VideoEndTimestamp:n.videoRecorder.recorderEndTimestamp}}};if(n.videoRecorder.getVideoChunkSize()===0)throw new Error("Video chunks not recorded successfully.");n.sendClientInfo(h),await n.dispatchStopVideoEvent()},async getLiveness(t){const{onAnalysisComplete:e}=t.componentProps;await e()}}}),V1e=async t=>{try{const e=await yF;for await(const n of e)N1e(n)?t({type:"SET_SESSION_INFO",data:{sessionInfo:n.ServerSessionInformationEvent.SessionInformation}}):D1e(n)?t({type:"DISCONNECT_EVENT"}):O1e(n)?t({type:"SERVER_ERROR",data:{error:{...n.ValidationException}}}):M1e(n)?t({type:"SERVER_ERROR",data:{error:{...n.InternalServerException}}}):$1e(n)?t({type:"SERVER_ERROR",data:{error:{...n.ThrottlingException}}}):F1e(n)&&t({type:"SERVER_ERROR",data:{error:{...n.ServiceQuotaExceededException}}})}catch(e){let n=e;P1e(e)&&(n=new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")),n instanceof Error&&t({type:"SERVER_ERROR",data:{error:n}})}},wF=nt.createContext(null);function j1e({children:t,...e}){return nt.createElement(wF.Provider,{value:e},t)}function _F(){const t=nt.useContext(wF);if(t===null)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return t}const H1e=()=>{const{breakpoints:{values:t,defaultBreakpoint:e}}=rg();return eR({breakpoints:t,defaultBreakpoint:e})};function pb(){const{service:t}=_F();return zU(t)}function bAe(t){return t}function io(t){const{service:e}=_F();return jU(e,t)}function W1e(t){const e=fb.height.ideal,n=fb.width.ideal,r=ce.useRef(null),[a,o]=ce.useState(e),[i,l]=ce.useState(n);return ce.useEffect(()=>{if(t){qf(r.current)&&(r.current.srcObject=t);const{height:d,width:f}=t.getTracks()[0].getSettings();o(d),l(f)}return()=>{t&&t.getTracks().forEach(d=>{t.removeTrack(d),d.stop()})}},[t]),{videoRef:r,videoHeight:a,videoWidth:i}}var qt;(function(t){t.CameraModule="amplify-liveness-camera-module",t.CancelContainer="amplify-liveness-cancel-container",t.CancelButton="amplify-liveness-cancel-button",t.CountdownContainer="amplify-liveness-countdown-container",t.DescriptionBullet="amplify-liveness-description-bullet",t.DescriptionBulletIndex="amplify-liveness-description-bullet__index",t.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",t.DescriptionBulletMessage="amplify-liveness-description-bullet__message",t.ErrorModal="amplify-liveness-error-modal",t.ErrorModalHeading="amplify-liveness-error-modal__heading",t.FadeOut="amplify-liveness-fade-out",t.FreshnessCanvas="amplify-liveness-freshness-canvas",t.InstructionList="amplify-liveness-instruction-list",t.InstructionOverlay="amplify-liveness-instruction-overlay",t.Figure="amplify-liveness-figure",t.FigureCaption="amplify-liveness-figure__caption",t.FigureIcon="amplify-liveness-figure__icon",t.FigureImage="amplify-liveness-figure__image",t.Figures="amplify-liveness-figures",t.Hint="amplify-liveness-hint",t.HintText="amplify-liveness-hint__text",t.LandscapeErrorModal="amplify-liveness-landscape-error-modal",t.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",t.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",t.Loader="amplify-liveness-loader",t.MatchIndicator="amplify-liveness-match-indicator",t.OvalCanvas="amplify-liveness-oval-canvas",t.OpaqueOverlay="amplify-liveness-overlay-opaque",t.Overlay="amplify-liveness-overlay",t.Popover="amplify-liveness-popover",t.PopoverContainer="amplify-liveness-popover__container",t.PopoverAnchor="amplify-liveness-popover__anchor",t.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",t.RecordingIconContainer="amplify-liveness-recording-icon-container",t.RecordingIcon="amplify-liveness-recording-icon",t.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",t.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",t.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",t.StartScreenHeader="amplify-liveness-start-screen-header",t.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",t.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",t.StartScreenWarning="amplify-liveness-start-screen-warning",t.StartScreenInstructions="amplify-liveness-start-screen-instructions",t.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",t.Toast="amplify-liveness-toast",t.ToastContainer="amplify-liveness-toast__container",t.ToastMessage="amplify-liveness-toast__message",t.Video="amplify-liveness-video",t.VideoAnchor="amplify-liveness-video-anchor"})(qt||(qt={}));const hb=({variation:t="default",size:e="medium",children:n,isInitial:r=!1,...a})=>{const{tokens:o}=rg();return ce.createElement(pn,{className:`${qt.Toast} ${qt.Toast}--${t} ${qt.Toast}--${e}`,...r&&{backgroundColor:o.colors.background.primary},...a},ce.createElement(Vn,{className:qt.ToastContainer},ce.createElement(Vn,{className:qt.ToastMessage,...r?{color:o.colors.font.primary}:{}},n)))},xF=({displayText:t})=>ce.createElement(hb,{"aria-live":"polite"},ce.createElement(Vn,{className:qt.HintText},ce.createElement(Bc,null),ce.createElement(pn,null,t))),cE=t=>t.context.errorState,q1e=t=>t.context.faceMatchAssociatedParams.faceMatchState,G1e=t=>t.context.faceMatchAssociatedParams.illuminationState,K1e=t=>t.context.isFaceFarEnoughBeforeRecording,Y1e=t=>t.context.faceMatchStateBeforeStart,X1e=t=>{var e;return(e=t.context.faceMatchAssociatedParams)==null?void 0:e.faceMatchPercentage},md=({text:t,isInitial:e=!1})=>ce.createElement(hb,{size:"large",variation:"primary",isInitial:e},ce.createElement(pn,{"aria-live":"assertive"},t)),Q1e=({hintDisplayText:t})=>{const[e]=pb(),n=io(cE),r=io(q1e),a=io(G1e),o=io(Y1e),i=io(K1e),l=io(X1e),d=e.matches("checkFaceDetectedBeforeStart")||e.matches("detectFaceBeforeStart"),f=e.matches("checkFaceDistanceBeforeRecording")||e.matches("detectFaceDistanceBeforeRecording"),c=e.matches("start")||e.matches("userCancel"),h=e.matches("recording"),g=e.matches("notRecording"),v=e.matches("uploading"),b=e.matches("checkSucceeded"),w=e.matches("checkFailed"),x=e.matches({recording:"flashFreshnessColors"}),E={[hn.CANT_IDENTIFY]:t.hintCanNotIdentifyText,[hn.FACE_IDENTIFIED]:t.hintTooFarText,[hn.TOO_MANY]:t.hintTooManyFacesText,[hn.TOO_CLOSE]:t.hintTooCloseText,[hn.TOO_FAR]:t.hintTooFarText,[hn.MATCHED]:t.hintHoldFaceForFreshnessText,[hn.OFF_CENTER]:t.hintFaceOffCenterText},T={[$i.BRIGHT]:t.hintIlluminationTooBrightText,[$i.DARK]:t.hintIlluminationTooDarkText,[$i.NORMAL]:t.hintIlluminationNormalText};if(c)return ce.createElement(ce.Fragment,null,ce.createElement(sg,{role:"alert"},t.hintCenterFaceInstructionText),ce.createElement(md,{text:t.hintCenterFaceText,isInitial:!0}));if(n??(w||b))return null;if(!h){if(d)return o===hn.TOO_MANY?ce.createElement(md,{text:t.hintTooManyFacesText}):ce.createElement(md,{text:t.hintMoveFaceFrontOfCameraText});if(f&&i===!1)return ce.createElement(md,{text:t.hintTooCloseText});if(g)return ce.createElement(xF,{displayText:t.hintConnectingText});if(v)return ce.createElement(ce.Fragment,null,ce.createElement(sg,{"aria-live":"assertive"},t.hintCheckCompleteText),ce.createElement(xF,{displayText:t.hintVerifyingText}));if(a&&a!==$i.NORMAL)return ce.createElement(md,{text:T[a]})}if(x)return ce.createElement(md,{text:t.hintHoldFaceForFreshnessText});if(h&&!x){let C=E[hn.TOO_FAR];(r===hn.TOO_CLOSE||r===hn.MATCHED)&&(C=E[r]);let I=C;return r===hn.OFF_CENTER?I=E[r]:r===hn.TOO_FAR&&l>50&&(I=t.hintMatchIndicatorText),ce.createElement(hb,{size:"large",variation:r===hn.TOO_CLOSE?"error":"primary"},ce.createElement(sg,{"aria-live":"assertive"},I),ce.createElement(pn,{"aria-label":I},C))}return null},Z1e=({percentage:t,initialPercentage:e=25,testId:n})=>{const[r,a]=nt.useState(e);nt.useEffect(()=>{t<0?a(0):t>100?a(100):a(t)},[t]);const o={"--percentage":`${r}%`};return nt.createElement("div",{className:qt.MatchIndicator,"data-testid":n},nt.createElement("div",{className:`${qt.MatchIndicator}__bar`,style:o,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":t,"aria-valuetext":`${t}% face fit`}))},EF=({children:t,horizontal:e="center",vertical:n="center",className:r,...a})=>ce.createElement(Vn,{className:`${qt.Overlay} ${r}`,alignItems:e,justifyContent:n,...a},t),mb={errorLabelText:"Error",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the checks duration.",tryAgainText:"Try again"},J1e={cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission.",...mb},eSe=t=>{const{error:e,displayText:n}=t,{errorLabelText:r,timeoutHeaderText:a,timeoutMessageText:o,faceDistanceHeaderText:i,faceDistanceMessageText:l,multipleFacesHeaderText:d,multipleFacesMessageText:f,clientHeaderText:c,clientMessageText:h,serverHeaderText:g,serverMessageText:v}=n;let b,w;switch(e){case pr.TIMEOUT:b=a,w=o;break;case pr.FACE_DISTANCE_ERROR:b=i,w=l;break;case pr.MULTIPLE_FACES_ERROR:b=d,w=f;break;case pr.RUNTIME_ERROR:b=c,w=h;break;case pr.SERVER_ERROR:default:b=g,w=v}return nt.createElement(nt.Fragment,null,nt.createElement(Vn,{className:qt.ErrorModal},nt.createElement(ag,{ariaLabel:r,role:"img",variation:"error"}),nt.createElement(Es,{className:qt.ErrorModalHeading,id:"amplify-liveness-error-heading"},b)),nt.createElement(Es,{id:"amplify-liveness-error-message"},w))},tSe=({errorState:t,overrideErrorDisplayText:e})=>{const n={...mb,...e};return t===pr.CAMERA_ACCESS_ERROR||t===pr.CAMERA_FRAMERATE_ERROR||t===pr.MOBILE_LANDSCAPE_ERROR?null:eSe({error:t,displayText:n})},nSe=t=>{const{children:e,onRetry:n,displayText:r}=t,a={...mb,...r},{tryAgainText:o}=a;return nt.createElement(EF,{className:qt.OpaqueOverlay},nt.createElement(hb,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},e,nt.createElement(Vn,{justifyContent:"center"},nt.createElement(ni,{variation:"primary",type:"button",onClick:n},o))))},CF=({ariaLabel:t})=>{const[e,n]=pb(),r=e.done,a=()=>{n({type:"CANCEL"})};return r?null:nt.createElement(ni,{autoFocus:!0,variation:"link",onClick:a,size:"large",className:qt.CancelButton,"aria-label":t},nt.createElement(oR,{"aria-hidden":"true","data-testid":"close-icon"}))},rSe=({children:t})=>nt.createElement(Vn,{className:qt.RecordingIcon},nt.createElement(Vn,{"data-testid":"rec-icon",justifyContent:"center"},nt.createElement(nR,{viewBox:{width:20,height:20},width:"20",height:"20"},nt.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),nt.createElement(Es,{as:"span",fontWeight:"bold"},t)),TF=({children:t,headingText:e,labelText:n})=>{const r=H1e(),[a,o]=ce.useState(!1),i=ce.useRef(null),l=r==="base";return ce.useEffect(()=>{function d(f){a&&i.current&&!i.current.contains(f.target)&&o(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[i,a]),ce.createElement("div",{className:qt.Popover,ref:i},ce.createElement(ni,{"aria-controls":"photosensitivity-description","aria-expanded":a,role:"alertdialog","aria-label":n,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>o(!a),testId:"popover-icon"},ce.createElement(ag,{ariaHidden:!0,variation:"info"})),a&&ce.createElement(ce.Fragment,null,ce.createElement(Vn,{className:qt.PopoverAnchor}),ce.createElement(Vn,{className:qt.PopoverAnchorSecondary}),ce.createElement(Vn,{"aria-hidden":!a,"aria-label":e,className:qt.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:l?-190:-108,role:"alertdialog"},t)))};TF.displayName="LivenessIconWithPopover";const aSe=({bodyText:t,headingText:e,infoText:n,labelText:r})=>nt.createElement(Vn,{className:`${Ct.Alert} ${qt.StartScreenWarning}`,style:{zIndex:"3"}},nt.createElement(pn,{flex:"1"},nt.createElement(pn,{className:Ct.AlertHeading},e),nt.createElement(pn,{className:Ct.AlertBody},t)),nt.createElement(TF,{labelText:r,headingText:e},n)),oSe=({recordingIndicatorText:t})=>nt.createElement(pn,{className:qt.RecordingIconContainer},nt.createElement(rSe,null,t)),sSe=({cancelLivenessCheckText:t})=>nt.createElement(pn,{className:qt.CancelContainer},nt.createElement(CF,{ariaLabel:t})),iSe=t=>{var e;return(e=t.context.videoAssociatedParams)==null?void 0:e.videoConstraints},uSe=t=>{var e;return(e=t.context.videoAssociatedParams)==null?void 0:e.videoMediaStream},lSe=t=>{var e;return(e=t.context.faceMatchAssociatedParams)==null?void 0:e.faceMatchPercentage},cSe=t=>{var e;return(e=t.context.faceMatchAssociatedParams)==null?void 0:e.faceMatchState},dSe=t=>{var e;return(e=t.context.videoAssociatedParams)==null?void 0:e.selectedDeviceId},fSe=t=>{var e;return(e=t.context.videoAssociatedParams)==null?void 0:e.selectableDevices},pSe=nt.createElement(Bc,{size:"large",className:qt.Loader,"data-testid":"centered-loader"}),hSe=[hn.TOO_FAR,hn.CANT_IDENTIFY,hn.FACE_IDENTIFIED,hn.OFF_CENTER],mSe=nt.memo(Z1e),gSe=t=>{const{isMobileScreen:e,isRecordingStopped:n,instructionDisplayText:r,streamDisplayText:a,hintDisplayText:o,errorDisplayText:i,cameraDisplayText:l,components:d,testId:f}=t,{cancelLivenessCheckText:c,recordingIndicatorText:h}=a,{ErrorView:g=nSe,PhotosensitiveWarning:v=aSe}=d??{},[b,w]=pb(),x=io(uSe),E=io(iSe),T=io(dSe),C=io(fSe),I=io(lSe),D=io(cSe),F=io(cE),B=eV(),{videoRef:H,videoWidth:z,videoHeight:U}=W1e(x),O=ce.useRef(null),K=ce.useRef(null),[G,Z]=ce.useState(!1),J=b.matches("cameraCheck"),se=b.matches("waitForDOMAndCameraDetails"),oe=b.matches("start")||b.matches("userCancel"),le=b.matches("detectFaceBeforeStart"),pe=b.matches("recording"),ye=b.matches("checkSucceeded"),ve=b.matches({recording:"flashFreshnessColors"}),[Ee,_e]=ce.useState(z),[Ie,De]=ce.useState(U),[ze,Ve]=ce.useState(()=>z&&U?z/U:0);nt.useEffect(()=>{O&&H&&O.current&&H.current&&x&&oe&&GS(O.current,H.current,x)},[O,H,x,B,oe]),nt.useEffect(()=>{const Je=et=>{et.matches&&O&&H&&O.current&&H.current&&x&&oe&&GS(O.current,H.current,x)},bt=window.matchMedia("(prefers-color-scheme: dark)"),pt=window.matchMedia("(prefers-color-scheme: light)");return bt.addEventListener("change",Je),pt.addEventListener("change",Je),()=>{bt.removeEventListener("change",Je),pt.addEventListener("change",Je)}},[O,H,x,oe]),nt.useLayoutEffect(()=>{G&&w({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:H.current,canvasEl:O.current,freshnessColorEl:K.current,isMobile:e}}),H.current&&(_e(H.current.videoWidth),De(H.current.videoHeight),Ve(H.current.videoWidth/H.current.videoHeight))},[w,H,G,e]),nt.useEffect(()=>{le&&$V({canvas:O.current})},[le]);const Le=nt.useMemo(()=>nt.createElement(pn,{style:{visibility:oe?"visible":"hidden"}},nt.createElement(v,{bodyText:r.photosensitivityWarningBodyText,headingText:r.photosensitivityWarningHeadingText,infoText:r.photosensitivityWarningInfoText,labelText:r.photosensitivityWarningLabelText})),[v,r,oe]),je=()=>{Z(!0)},Ue=nt.useCallback(()=>{w({type:"BEGIN"})},[w]),Ze=nt.useCallback(Je=>{const bt=Je.target.value;(async()=>{const et=await navigator.mediaDevices.getUserMedia({video:{...E,deviceId:{exact:bt}},audio:!1});w({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:bt,newStream:et}})})()},[E,w]);if(J)return nt.createElement(Vn,{justifyContent:"center",className:qt.StartScreenCameraWaiting},nt.createElement(Bc,{size:"large",className:qt.Loader,"data-testid":"centered-loader",position:"unset"}),nt.createElement(Es,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:`${qt.StartScreenCameraWaiting}__text`},l.waitingCameraPermissionText));const it=e&&!oe&&!se;return nt.createElement(nt.Fragment,null,Le,nt.createElement(Vn,{className:fr(qt.CameraModule,it&&`${qt.CameraModule}--mobile`),"data-testid":f,gap:"zero"},!G&&pSe,nt.createElement(EF,{horizontal:"center",vertical:pe&&!ve?"start":"space-between",className:qt.InstructionOverlay},pe&&nt.createElement(oSe,{recordingIndicatorText:h}),!oe&&!se&&!ye&&nt.createElement(sSe,{cancelLivenessCheckText:c}),nt.createElement(Vn,{className:fr(qt.Hint,it&&`${qt.Hint}--mobile`)},nt.createElement(Q1e,{hintDisplayText:o})),F&&nt.createElement(g,{onRetry:()=>{w({type:"CANCEL"})},displayText:i},tSe({errorState:F,overrideErrorDisplayText:i})),pe&&!ve&&hSe.includes(D)?nt.createElement(mSe,{percentage:Math.ceil(I)}):null),nt.createElement(pn,{as:"canvas",ref:K,className:qt.FreshnessCanvas,hidden:!0}),nt.createElement(pn,{className:qt.VideoAnchor,style:{aspectRatio:`${ze}`}},nt.createElement("video",{ref:H,muted:!0,autoPlay:!0,playsInline:!0,width:Ee,height:Ie,onCanPlay:je,"data-testid":"video",className:qt.Video,"aria-label":l.a11yVideoLabelText}),nt.createElement(Vn,{className:fr(qt.OvalCanvas,it&&`${qt.OvalCanvas}--mobile`,n&&qt.FadeOut)},nt.createElement(pn,{as:"canvas",ref:O})),oe&&!e&&C&&C.length>1&&nt.createElement(Vn,{className:qt.StartScreenCameraSelect},nt.createElement(pn,{className:qt.StartScreenCameraSelectContainer},nt.createElement(HS,{htmlFor:"amplify-liveness-camera-select",className:`${qt.StartScreenCameraSelect}__label`},"Camera:"),nt.createElement(pR,{id:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:T,onChange:Ze},C==null?void 0:C.map(Je=>nt.createElement("option",{value:Je.deviceId,key:Je.deviceId},Je.label))))))),oe&&nt.createElement(Vn,{justifyContent:"center"},nt.createElement(ni,{variation:"primary",type:"button",onClick:Ue},r.startScreenBeginCheckText)))};function vSe(){return/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function ySe(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||vSe()}function kF(){return window.matchMedia("(orientation: landscape)")}const bSe=t=>{const{onRetry:e,header:n,portraitMessage:r,landscapeMessage:a,tryAgainText:o}=t,[i,l]=ce.useState(!0);return ce.useLayoutEffect(()=>{const d=kF();return l(d.matches),d.addEventListener("change",f=>{l(f.matches)}),()=>{d.removeEventListener("change",f=>l(f.matches))}},[]),ce.createElement(Vn,{className:qt.LandscapeErrorModal,height:i?"auto":480},ce.createElement(Es,{className:qt.LandscapeErrorModalHeader},n),ce.createElement(Es,null,i?a:r),i?null:ce.createElement(Vn,{className:qt.LandscapeErrorModalButton},ce.createElement(ni,{variation:"primary",type:"button",onClick:e},o)))},IF="liveness-detector-check",SSe=420,wSe=t=>t.context.isRecordingStopped,_Se=({instructionDisplayText:t,hintDisplayText:e,cameraDisplayText:n,streamDisplayText:r,errorDisplayText:a,components:o})=>{const[i,l]=pb(),d=io(cE),f=io(wSe),c=i.matches("permissionDenied"),h=ySe(),g=()=>{l({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:v,cameraMinSpecificationsMessageText:b,cameraNotFoundHeadingText:w,cameraNotFoundMessageText:x,retryCameraPermissionsText:E}=n,{cancelLivenessCheckText:T}=r;ce.useLayoutEffect(()=>{if(h){const I=F=>{F&&l({type:"MOBILE_LANDSCAPE_WARNING"})},D=kF();return I(D.matches),D.addEventListener("change",F=>{I(F.matches)}),()=>{D.removeEventListener("change",F=>I(F.matches))}}},[h,l]);const C=()=>{if(d===pr.MOBILE_LANDSCAPE_ERROR){const I={...mb,...a},{landscapeHeaderText:D,portraitMessageText:F,landscapeMessageText:B,tryAgainText:H}=I;return ce.createElement(Vn,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},ce.createElement(bSe,{header:D,portraitMessage:F,landscapeMessage:B,tryAgainText:H,onRetry:()=>{l({type:"CANCEL"})}}))}else return c?ce.createElement(Vn,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},ce.createElement(Es,{fontSize:"large",fontWeight:"bold"},d===pr.CAMERA_FRAMERATE_ERROR?v:w),ce.createElement(Es,{maxWidth:SSe},d===pr.CAMERA_FRAMERATE_ERROR?b:x),ce.createElement(ni,{variation:"primary",type:"button",onClick:g},E),ce.createElement(pn,{position:"absolute",top:"medium",right:"medium"},ce.createElement(CF,{ariaLabel:T}))):ce.createElement(gSe,{isMobileScreen:h,isRecordingStopped:f,instructionDisplayText:t,streamDisplayText:r,hintDisplayText:e,errorDisplayText:a,cameraDisplayText:n,components:o})};return ce.createElement(Vn,{direction:"column",position:"relative",testId:IF,className:IF,gap:"xl"},C())};function xSe(t){const e={...J1e,...t},{a11yVideoLabelText:n,cameraMinSpecificationsHeadingText:r,cameraMinSpecificationsMessageText:a,cameraNotFoundHeadingText:o,cameraNotFoundMessageText:i,cancelLivenessCheckText:l,clientHeaderText:d,clientMessageText:f,errorLabelText:c,hintCanNotIdentifyText:h,hintCenterFaceText:g,hintCenterFaceInstructionText:v,hintFaceOffCenterText:b,hintConnectingText:w,hintFaceDetectedText:x,hintHoldFaceForFreshnessText:E,hintIlluminationNormalText:T,hintIlluminationTooBrightText:C,hintIlluminationTooDarkText:I,hintMoveFaceFrontOfCameraText:D,hintTooManyFacesText:F,hintTooCloseText:B,hintTooFarText:H,hintVerifyingText:z,hintCheckCompleteText:U,hintMatchIndicatorText:O,faceDistanceHeaderText:K,faceDistanceMessageText:G,goodFitCaptionText:Z,goodFitAltText:J,landscapeHeaderText:se,landscapeMessageText:oe,multipleFacesHeaderText:le,multipleFacesMessageText:pe,photosensitivityWarningBodyText:ye,photosensitivityWarningHeadingText:ve,photosensitivityWarningInfoText:Ee,photosensitivityWarningLabelText:_e,photosensitivyWarningBodyText:Ie,photosensitivyWarningHeadingText:De,photosensitivyWarningInfoText:ze,photosensitivyWarningLabelText:Ve,portraitMessageText:Le,retryCameraPermissionsText:je,recordingIndicatorText:Ue,serverHeaderText:Ze,serverMessageText:it,startScreenBeginCheckText:Je,timeoutHeaderText:bt,timeoutMessageText:pt,tooFarCaptionText:et,tooFarAltText:Lt,tryAgainText:Ht,waitingCameraPermissionText:Gt}=e;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:D,hintTooManyFacesText:F,hintFaceDetectedText:x,hintCanNotIdentifyText:h,hintTooCloseText:B,hintTooFarText:H,hintConnectingText:w,hintVerifyingText:z,hintCheckCompleteText:U,hintIlluminationTooBrightText:C,hintIlluminationTooDarkText:I,hintIlluminationNormalText:T,hintHoldFaceForFreshnessText:E,hintCenterFaceText:g,hintCenterFaceInstructionText:v,hintFaceOffCenterText:b,hintMatchIndicatorText:O},cameraDisplayText:{cameraMinSpecificationsHeadingText:r,cameraMinSpecificationsMessageText:a,cameraNotFoundHeadingText:o,cameraNotFoundMessageText:i,retryCameraPermissionsText:je,waitingCameraPermissionText:Gt,a11yVideoLabelText:n},instructionDisplayText:{photosensitivityWarningBodyText:ye,photosensitivityWarningHeadingText:ve,photosensitivityWarningInfoText:Ee,photosensitivityWarningLabelText:_e,photosensitivyWarningBodyText:Ie,photosensitivyWarningHeadingText:De,photosensitivyWarningInfoText:ze,photosensitivyWarningLabelText:Ve,goodFitCaptionText:Z,goodFitAltText:J,tooFarCaptionText:et,tooFarAltText:Lt,startScreenBeginCheckText:Je},streamDisplayText:{cancelLivenessCheckText:l,recordingIndicatorText:Ue},errorDisplayText:{errorLabelText:c,timeoutHeaderText:bt,timeoutMessageText:pt,faceDistanceHeaderText:K,faceDistanceMessageText:G,multipleFacesHeaderText:le,multipleFacesMessageText:pe,clientHeaderText:d,clientMessageText:f,serverHeaderText:Ze,serverMessageText:it,landscapeHeaderText:se,landscapeMessageText:oe,portraitMessageText:Le,tryAgainText:Ht}}}var ESe={NODE_ENV:'"production"'};const RF="liveness-detector";function CSe(t){const{components:e,config:n,displayText:r}=t,a=ce.useRef(null),{hintDisplayText:o,cameraDisplayText:i,instructionDisplayText:l,streamDisplayText:d,errorDisplayText:f}=xSe(r),c=$U(U1e,{devTools:ESe.NODE_ENV==="development",context:{componentProps:{...t,config:n??{}}}});return ce.createElement(pn,{className:RF,testId:RF},ce.createElement(j1e,{componentProps:t,service:c},ce.createElement(Vn,{direction:"column",ref:a},ce.createElement(_Se,{instructionDisplayText:l,hintDisplayText:o,cameraDisplayText:i,streamDisplayText:d,errorDisplayText:f,components:e}))))}const TSe=async()=>{const{credentials:t}=await kk();if(!t)throw new Error("No credentials provided");return t};function kSe(t){const{config:e,...n}=t;return ce.createElement(CSe,{...n,config:{credentialProvider:TSe,...e}})}var ISe={REACT_APP_ENV_API_URL:"https://vj5gic5sih.execute-api.us-east-1.amazonaws.com/videoverification/"};function RSe({faceLivenessAnalysis:t}){const[e,n]=nt.useState(!0),[r,a]=nt.useState(null),o=ISe.REACT_APP_ENV_API_URL;ce.useEffect(()=>{(async()=>{const f=await(await fetch(o+"start-liveness",{method:"GET"})).json();a(f.sessionId),n(!1)})()},[]);const i=async()=>{const d=await(await fetch(o+"get-liveness-results",{method:"POST",body:JSON.stringify({sessionId:r})})).json(),f=JSON.parse(d.body),c=f.Confidence,h=f.ReferenceImage.S3Object.Name;if(console.log("confidence data is"+c),console.log("sourceS3Key data is"+h),c>=90)try{const v=await(await fetch(o+"compare-faces",{method:"POST",body:JSON.stringify({source_bucket:"krishnabucket36",source_image:"shared image.jpeg",target_bucket:"videocomparisionbucket",target_image:h})})).json(),b=JSON.parse(v.body);console.log("deepak3",b),t({...f,compareResult:b})}catch(g){console.error("Face comparison failed:",g),t({...f,compareResult:{match:!1,message:"Face comparison request failed"}})}else t({...f,compareResult:{match:!1,message:"Liveness confidence too low (< 90%)"}})};return wr.jsx(wr.Fragment,{children:e?wr.jsx(Bc,{}):wr.jsx(kSe,{sessionId:r,region:"us-east-1",onAnalysisComplete:i,onError:l=>{console.error(l)}})})}function ASe({faceLivenessAnalysis:t,tryAgain:e,nextPageLink:n,nextBtnText:r}){console.log(t);const{tokens:a}=rg(),o=()=>{const i=new CustomEvent("navigate-to-next-page",{bubbles:!0,composed:!0,detail:{route:n}});window.dispatchEvent(i)};return wr.jsxs(wr.Fragment,{children:[wr.jsxs(WS,{variation:"info",isDismissible:!1,hasIcon:!1,children:["Liveness Result - ",wr.jsx("br",{}),"Confidence Score: ",t.Confidence.toFixed(2),"%"]}),wr.jsxs(WS,{variation:"info",isDismissible:!1,hasIcon:!1,children:["Comparison Result - ",wr.jsx("br",{}),"Match Result:"," ",t.compareResult.match?"SUCCESS":"FAILED",wr.jsx("br",{}),t.compareResult.match&&wr.jsxs(wr.Fragment,{children:["Similarity Result: ",t.compareResult.similarity," ",wr.jsx("br",{})]}),"Message: ",t.compareResult.message]}),t.compareResult.match?wr.jsx(ni,{variation:"primary",type:"submit",marginTop:a.space.large,marginBottom:a.space.large,onClick:o,children:r}):wr.jsx(ni,{variation:"primary",type:"submit",marginTop:a.space.large,marginBottom:a.space.large,onClick:e,children:"Try Again"}),wr.jsx(lR,{src:"data:image/jpeg;base64,"+t.ReferenceImage.Bytes,alt:"Logo",width:"100%",height:"100%",objectFit:"cover",objectPosition:"50% 50%"})]})}var Kp={REACT_APP_IDENTITYPOOL_ID:"us-east-1:1224a43a-2a75-48aa-b7f8-8e15b995afd5",REACT_APP_REGION:"us-east-1",REACT_APP_USERPOOL_ID:"us-east-1_MgurI5cTn",REACT_APP_WEBCLIENT_ID:"39fqjcc8qak0qgqbcsquvl92on"};const NSe={aws_project_region:Kp.REACT_APP_REGION,aws_cognito_identity_pool_id:Kp.REACT_APP_IDENTITYPOOL_ID,aws_cognito_region:Kp.REACT_APP_REGION,aws_user_pools_id:Kp.REACT_APP_USERPOOL_ID,aws_user_pools_web_client_id:Kp.REACT_APP_WEBCLIENT_ID};E7.configure(NSe);function DSe({nextPageLink:t,nextBtnText:e}){const[n,r]=nt.useState(null),a=i=>{i!==null&&r(i)},o=()=>{r(null)};return wr.jsx(AV,{children:wr.jsx(Vn,{direction:"row",justifyContent:"center",alignItems:"center",alignContent:"flex-start",wrap:"nowrap",gap:"1rem",children:wr.jsx(pn,{as:"div",maxHeight:"600px",height:"600px",width:"740px",maxWidth:"740px",children:n&&n.Confidence?wr.jsx(ASe,{faceLivenessAnalysis:n,tryAgain:o,nextPageLink:t,nextBtnText:e}):wr.jsx(RSe,{faceLivenessAnalysis:a})})})})}class OSe extends HTMLElement{connectedCallback(){const e=document.createElement("div"),n=document.createElement("link");n.setAttribute("href","assets/liveness-app.css"),n.setAttribute("rel","stylesheet");const r=this.attachShadow({mode:"open"});r.appendChild(n),r.appendChild(e);const a=this.getAttribute("nextPageLink")||"/",o=this.getAttribute("nextBtnText")||"nahi chala";X8.createRoot(e).render(wr.jsx(DSe,{nextPageLink:a,nextBtnText:o}))}}customElements.define("my-react-widget",OSe)})();
